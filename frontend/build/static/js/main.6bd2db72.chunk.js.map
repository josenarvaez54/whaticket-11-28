{"version":3,"sources":["layout/themeContext.js","translate/languages/pt.js","translate/languages/index.js","translate/languages/en.js","translate/languages/es.js","translate/i18n.js","errors/toastError.js","services/api.js","services/socket.js","hooks/useWhatsApps/index.js","context/WhatsApp/WhatsAppsContext.js","hooks/useAuth.js/index.js","context/Auth/AuthContext.js","rules.js","components/Can/index.js","pages/ToDoList/index.js","hooks/usePlans/index.js","layout/MainListItems.js","components/ButtonWithSpinner/index.js","components/MarkdownWrapper/index.js","context/Tickets/TicketsContext.js","components/ModalImageCors/index.js","components/ConfirmationModal/index.js","context/ReplyingMessage/ReplyingMessageContext.js","components/MessageOptionsMenu/index.js","components/LocationPreview/index.js","components/MessagesList/index.js","components/TicketHeaderSkeleton/index.js","components/TicketHeader/index.js","components/TicketInfo/index.js","components/TicketMessagesDialog/index.js","helpers/contrastColor.js","components/ContactTag/index.js","components/TicketListItemCustom/index.js","hooks/useTickets/index.js","components/NotificationsPopOver/index.js","components/NotificationsVolume/index.js","components/QueueSelect/index.js","components/UserModal/index.js","components/BackdropLoading/index.js","components/DarkMode/index.js","components/AnnouncementsPopover/index.js","hooks/useDate/index.js","pages/Chat/ChatPopover.js","layout/index.js","pages/Dashboard/Title.js","pages/Dashboard/Chart.js","components/Dashboard/CardCounter.js","components/Dashboard/TableAttendantsStatus.js","hooks/useDashboard/index.js","hooks/useCompanies/index.js","pages/Dashboard/index.js","components/ContactModal/index.js","components/NewTicketModal/index.js","components/TicketsListSkeleton/index.js","components/TicketsListCustom/index.js","components/TabPanel/index.js","components/TicketsQueueSelect/index.js","components/TagsFilter/index.js","components/UsersFilter/index.js","components/TicketsManagerTabs/index.js","components/ContactDrawerSkeleton/index.js","components/ContactForm/index.js","components/ContactNotesDialogListItem/index.js","hooks/useTicketNotes/index.js","components/ContactNotes/index.js","components/ContactDrawer/index.js","components/MessageInputCustom/RecordingTimer.js","hooks/useQuickMessages/index.js","components/MessageInputCustom/index.js","hooks/useLocalStorage/index.js","hooks/useQueues/index.js","components/TransferTicketModalCustom/index.js","components/OutlinedDiv/index.js","components/MessageVariablesPicker/index.js","components/ScheduleModal/index.js","components/TicketOptionsMenu/index.js","components/TicketActionButtonsCustom/index.js","components/TagsContainer/index.js","components/Ticket/index.js","pages/TicketsCustom/index.js","components/TicketAdvancedLayout/index.js","pages/TicketsAdvanced/index.js","pages/TicketResponsiveContainer/index.js","pages/Signup/index.js","pages/Login/index.js","components/MainContainer/index.js","components/MainHeader/index.js","components/MainHeaderButtonsWrapper/index.js","components/Title/index.js","components/TableRowSkeleton/index.js","components/WhatsAppModal/index.js","components/QrcodeModal/index.js","pages/Connections/index.js","components/SchedulesForm/index.js","components/QueueSelectCustom/index.js","components/ModalUsers/index.js","components/CompaniesManager/index.js","components/PlansManager/index.js","hooks/useHelps/index.js","components/HelpsManager/index.js","hooks/useSettings/index.js","components/Settings/Options.js","components/OnlyForSuperUser/index.js","pages/SettingsCustom/index.js","components/FormFields/InputField.js","components/FormFields/SelectField.js","components/CheckoutPage/Forms/AddressForm.js","components/CheckoutPage/Forms/PaymentForm.js","components/CheckoutPage/ReviewOrder/styles.js","components/CheckoutPage/ReviewOrder/ShippingDetails.js","components/CheckoutPage/ReviewOrder/index.js","components/CheckoutPage/ReviewOrder/ReviewOrder.js","components/CheckoutPage/CheckoutSuccess/style.js","components/CheckoutPage/CheckoutSuccess/CheckoutSuccess.js","components/CheckoutPage/CheckoutSuccess/index.js","components/CheckoutPage/FormModel/checkoutFormModel.js","components/CheckoutPage/FormModel/validationSchema.js","components/CheckoutPage/FormModel/formInitialValues.js","components/CheckoutPage/styles.js","components/CheckoutPage/index.js","components/CheckoutPage/CheckoutPage.js","components/SubscriptionModal/index.js","pages/Financeiro/index.js","pages/Users/index.js","pages/Contacts/index.js","components/ColorPicker/index.js","components/QueueOptions/index.js","components/QueueModal/index.js","pages/Queues/index.js","components/TagModal/index.js","pages/Tags/index.js","pages/MessagesAPI/index.js","pages/Helps/index.js","components/ContactListDialog/index.js","pages/ContactLists/index.js","components/ContactListItemModal/index.js","hooks/useContactLists/index.js","pages/ContactListItems/index.js","components/QuickMessageDialog/index.js","pages/QuickMessages/index.js","pages/Kanban/index.js","routes/Route.js","pages/Schedules/index.js","components/CampaignModal/index.js","pages/Campaigns/index.js","pages/CampaignsConfig/index.js","pages/CampaignReport/index.js","components/AnnouncementModal/index.js","pages/Annoucements/index.js","pages/Chat/ChatList.js","pages/Chat/ChatMessages.js","pages/Chat/index.js","pages/Subscription/index.js","components/FileModal/index.js","pages/Files/index.js","components/QueueSelectSingle/index.js","components/PromptModal/index.js","pages/Prompts/index.js","components/QueueIntegrationModal/index.js","pages/QueueIntegration/index.js","routes/index.js","App.js","index.js","assets/logo.png","assets/planilha.xlsx","assets/wa-background.png","assets/wa-background-dark.png","assets/sound.mp3","assets/chat_notify.mp3","assets/n8n.png","assets/dialogflow.png","assets/webhook.png","assets/typebot.jpg"],"names":["ColorModeContext","React","createContext","toggleColorMode","messages","pt","translations","signup","title","toasts","success","fail","form","name","email","password","buttons","submit","login","register","plans","users","connections","campaigns","schedules","enabled","disabled","clear","delete","save","yes","no","money","companies","plan","token","auth","dashboard","charts","perDay","deleted","confirmationModal","deleteTitle","deleteMessage","disconnectTitle","disconnectMessage","add","disconnect","tryAgain","qrcode","newQr","connecting","toolTips","disconnected","content","connected","timeout","table","status","lastUpdate","default","actions","session","whatsappModal","edit","sendIdQueue","timeSendQueue","queueRedirection","queueRedirectionDesc","prompt","maxUseBotQueues","timeUseBotQueues","expiresTicket","expiresInactiveMessage","okAdd","okEdit","cancel","qrCode","message","contacts","searchPlaceholder","importTitlte","importMessage","import","whatsapp","queueIntegrationModal","id","type","projectName","language","jsonContent","urlN8N","typebotSlug","typebotExpires","typebotKeywordFinish","typebotKeywordRestart","typebotRestartMessage","typebotUnknownMessage","typebotDelayMessage","test","testSuccess","addSuccess","editSuccess","promptModal","voice","max_tokens","temperature","apikey","max_messages","voiceKey","voiceRegion","prompts","queue","contactModal","mainInfo","extraInfo","number","extraName","extraValue","addExtraInfo","queueModal","color","greetingMessage","complationMessage","outOfHoursMessage","ratingMessage","orderQueue","integrationId","attach","userModal","profile","scheduleModal","body","contact","sendAt","sentAt","tagModal","chat","noTicketMessage","uploads","titles","titleUploadMsgDragDrop","titleFileList","ticketsManager","newTicket","ticketsQueueSelect","placeholder","tickets","notification","tabs","open","closed","search","showAll","transferTicketModal","fieldLabel","fieldQueueLabel","fieldQueuePlaceholder","noOptions","ok","ticketsList","pendingHeader","assignedHeader","noTicketsTitle","noTicketsMessage","accept","reopen","newTicketModal","mainDrawer","listItems","quickMessages","queues","tags","administration","settings","helps","messagesAPI","annoucements","chats","financeiro","files","queueIntegration","appBar","user","logout","deletedAll","deleteAll","deleteAllTitle","deleteAllMessage","textMessage","mediaMessage","media","notifications","noTickets","noAttachment","dialog","shortcode","geral","visao","mediaName","messageVariablesPicker","label","vars","contactFirstName","contactName","greeting","protocolNumber","date","hour","contactLists","company","contactListItems","lists","contactList","scheduledAt","completedAt","confirmation","new","update","readonly","message1","message2","message3","message4","message5","confirmationMessage1","confirmationMessage2","confirmationMessage3","confirmationMessage4","confirmationMessage5","messagePlaceholder","tagList","fileList","okadd","restart","close","announcements","active","inactive","priority","text","mediaPath","campaignsConfig","queueSelect","inputLabel","userCreation","options","messagesList","header","assignedTo","return","resolve","messagesInput","placeholderOpen","placeholderClosed","signMessage","contactDrawer","fileModal","fileOptions","ticketOptionsMenu","schedule","transfer","registerAppointment","appointmentsModal","textarea","confirm","messageOptionsMenu","reply","backendErrors","ERR_NO_OTHER_WHATSAPP","ERR_NO_DEF_WAPP_FOUND","ERR_WAPP_NOT_INITIALIZED","ERR_WAPP_CHECK_CONTACT","ERR_WAPP_INVALID_CONTACT","ERR_WAPP_DOWNLOAD_MEDIA","ERR_INVALID_CREDENTIALS","ERR_SENDING_WAPP_MSG","ERR_DELETE_WAPP_MSG","ERR_OTHER_OPEN_TICKET","ERR_SESSION_EXPIRED","ERR_USER_CREATION_DISABLED","ERR_NO_PERMISSION","ERR_DUPLICATED_CONTACT","ERR_NO_SETTING_FOUND","ERR_NO_CONTACT_FOUND","ERR_NO_TICKET_FOUND","ERR_NO_USER_FOUND","ERR_NO_WAPP_FOUND","ERR_CREATING_MESSAGE","ERR_CREATING_TICKET","ERR_FETCH_WAPP_MSG","ERR_QUEUE_COLOR_ALREADY_EXISTS","ERR_WAPP_GREETING_REQUIRED","en","titleFrom","es","i18n","use","LanguageDetector","init","debug","defaultNS","fallbackLng","ns","resources","toastError","err","_err$response","_err$response$data","errorMsg","response","data","error","exists","toast","t","toastId","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","isString","api","axios","create","baseURL","process","withCredentials","openApi","socketConnection","params","userId","localStorage","getItem","openSocket","transports","pingTimeout","pingInterval","query","isObject","reducer","state","action","payload","whatsApp","whatsAppIndex","findIndex","s","updatedAt","retries","whatsAppId","splice","useWhatsApps","whatsApps","dispatch","useReducer","loading","setLoading","useState","useEffect","async","get","fetchSession","companyId","socket","on","whatsappId","WhatsAppsContext","WhatsAppsProvider","_ref","children","createElement","Provider","value","useAuth","history","useHistory","isAuth","setIsAuth","setUser","interceptors","request","config","headers","JSON","parse","Promise","reject","_error$response","_error$response2","originalRequest","_retry","post","setItem","stringify","defaults","Authorization","removeItem","handleLogin","userData","has","isArray","setting","find","key","moment","locale","dueDate","vencimento","format","diff","before","isBefore","dias","duration","asDays","Math","round","warn","push","handleLogout","getCurrentUserInfo","AuthContext","AuthProvider","rules","static","admin","Can","role","perform","check","permissions","staticPermissions","includes","dynamicPermissions","dynamic","permissionCondition","defaultProps","useStyles","makeStyles","root","display","flexDirection","alignItems","margin","inputContainer","width","marginBottom","input","flexGrow","marginRight","listContainer","height","marginTop","backgroundColor","borderRadius","list","ToDoList","classes","task","setTask","tasks","setTasks","editIndex","setEditIndex","savedTasks","className","TextField","onChange","event","target","variant","Button","onClick","handleAddTask","trim","now","Date","newTasks","createdAt","List","map","index","ListItem","ListItemText","primary","secondary","toLocaleString","ListItemSecondaryAction","IconButton","handleEditTask","EditIcon","handleDeleteTask","DeleteIcon","usePlans","getPlanList","url","method","responseData","finder","remove","getPlanCompany","ListSubheader","ListItemLink","props","icon","to","renderLink","useMemo","forwardRef","itemProps","ref","RouterLink","Object","assign","button","dense","component","ListItemIcon","newChats","forEach","chatIndex","u","chatId","MainListItems","drawerClose","collapsed","useContext","connectionWarning","setConnectionWarning","openCampaignSubmenu","setOpenCampaignSubmenu","showCampaigns","setShowCampaigns","showKanban","setShowKanban","showOpenAi","setShowOpenAi","showIntegrations","setShowIntegrations","showSchedules","setShowSchedules","showInternalChat","setShowInternalChat","showExternalApi","setShowExternalApi","invisible","setInvisible","pageNumber","setPageNumber","searchParam","planConfigs","useCampaigns","useKanban","useOpenAi","useIntegrations","useSchedules","useInternalChat","useExternalApi","fetchData","delayDebounceFn","setTimeout","fetchChats","clearTimeout","unreadsCount","length","chatUser","unreads","filter","whats","records","style","overflowY","Fragment","hidden","position","fontSize","textAlign","paddingLeft","inset","WhatsAppIcon","FlashOnIcon","LoyaltyRoundedIcon","BorderColorIcon","ContactPhoneOutlinedIcon","Schedule","LocalOfferIcon","Badge","ForumIcon","HelpOutlineIcon","Divider","small","DashboardOutlinedIcon","prev","EventAvailableIcon","ExpandLessIcon","ExpandMoreIcon","Collapse","in","unmountOnExit","disablePadding","ListIcon","PeopleIcon","SettingsOutlinedIcon","super","AnnouncementIcon","AllInclusive","DeviceHubOutlined","badgeContent","SyncAltIcon","AttachFile","AccountTreeOutlinedIcon","PeopleAltOutlinedIcon","CodeRoundedIcon","LocalAtmIcon","handleClickLogout","RotateRight","buttonProgress","green","top","left","marginLeft","ButtonWithSpinner","rest","CircularProgress","size","elements","allowedElements","CustomLink","rel","MarkdownWrapper","_ref2","boldRegex","tildaRegex","replace","markdownOptions","disableParsingRawHTML","forceInline","overrides","a","element","el","Markdown","TicketsContext","TicketsContextProvider","currentTicket","setCurrentTicket","code","uuid","messageMedia","objectFit","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","ModalImageCors","imageUrl","fetching","setFetching","blobUrl","setBlobUrl","responseType","window","URL","createObjectURL","Blob","fetchImage","ModalImage","smallSrcSet","medium","large","alt","ConfirmationModal","onClose","onConfirm","Dialog","aria-labelledby","DialogTitle","DialogContent","dividers","Typography","DialogActions","ReplyMessageContext","ReplyMessageProvider","replyingMessage","setReplyingMessage","MessageOptionsMenu","menuOpen","handleClose","anchorEl","confirmationOpen","setConfirmationOpen","Menu","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","fromMe","MenuItem","e","hanldeReplyMessage","LocationPreview","image","link","description","handleLocation","minWidth","float","src","flexWrap","gutterBottom","dangerouslySetInnerHTML","__html","fullWidth","messagesListWrapper","overflow","minHeight","backgroundImage","mode","whatsBackground","whatsBackgroundDark","padding","scrollbarStyles","circleLoading","opacity","messageLeft","maxWidth","right","whiteSpace","alignSelf","paddingRight","paddingTop","paddingBottom","boxShadow","quotedContainerLeft","quotedMsg","quotedSideColorLeft","flex","messageRight","quotedContainerRight","quotedMsgRight","quotedSideColorRight","messageActionsButton","zIndex","messageContactName","fontWeight","textContentItem","overflowWrap","textContentItemDeleted","fontStyle","timestamp","bottom","dailyTimestamp","dailyTimestampText","ackIcons","verticalAlign","deletedIcon","ackDoneAllIcon","downloadMedia","justifyContent","newMessages","messageIndex","m","newMessage","messageToUpdate","MessagesList","ticket","ticketId","isGroup","hasMore","setHasMore","lastMessageRef","useRef","selectedMessage","setSelectedMessage","setAnchorEl","messageOptionsMenuOpen","Boolean","currentTicketId","current","scrollToBottom","fetchMessages","emit","scrollIntoView","handleOpenMessageOptionsMenu","currentTarget","checkMessageMedia","mediaType","split","locationParts","imageLocation","linkLocation","descriptionLocation","mediaUrl","controls","startIcon","GetApp","href","renderDailyTimestamps","parseISO","messageDay","previousMessageDay","isSameDay","renderNumberTicket","_message$ticket","_message$ticket$whats","messageTicket","ticketNunberClosed","ticketNunberOpen","renderMessageDivider","renderQuotedMessage","_message$quotedMsg","_message$quotedMsg2","_message$quotedMsg3","_message$quotedMsg3$c","_message$quotedMsg4","clsx","onScroll","scrollTop","document","getElementById","prevPageNumber","renderMessages","_message$contact","_message$contact2","messageCenter","isDeleted","ExpandMore","xmlns","viewBox","fill","d","Block","ack","AccessTime","Done","DoneAll","renderMessageAck","ticketHeader","borderBottom","TicketHeaderSkeleton","Card","square","CardHeader","titleTypographyProps","noWrap","subheaderTypographyProps","avatar","Skeleton","animation","Avatar","subheader","palette","tabHeaderBackground","breakpoints","down","TicketHeader","TicketInfo","userName","setUserName","setContactName","offsetWidth","truncadName","substring","cursor","profilePicUrl","mainWrapper","borderLeft","transition","transitions","easing","sharp","leavingScreen","mainWrapperShift","easeOut","enteringScreen","TicketMessagesDialog","setDrawerOpen","setContact","setTicket","queueId","q","fetchTicket","prevState","_data$contact","handleDrawerOpen","renderTicketInfo","Box","contrastColor","tag","ContactTag","toUpperCase","pendingTicket","queueTag","background","noTicketsDiv","newMessagesCount","noTicketsText","lineHeight","connectionTag","contactNameWrapper","lastMessageTime","justifySelf","closedBadge","contactLastMessage","badgeStyle","acceptButton","ticketQueueColor","ticketInfo","secondaryContentSecond","alignContent","ticketInfo1","Radiusdot","transform","TicketListItemCustom","_ticket$queue5","_ticket$queue5$name","_ticket$queue6","_ticket$contact","_ticket$contact2","_ticket$whatsapp","_ticket$whatsapp2","_ticket$whatsapp2$nam","_ticket$queue7","_ticket$queue8","_ticket$queue8$name","ticketUser","setTicketUser","ticketQueueName","setTicketQueueName","setTicketQueueColor","setTag","whatsAppName","setWhatsAppName","openTicketMessageDialog","setOpenTicketMessageDialog","useParams","isMounted","_ticket$queue","_ticket$queue$name","_ticket$queue2","_ticket$user","_ticket$user$name","_ticket$whatsapp$name","handleSendMessage","read","uuidv4","handleSelectTicket","selected","Tooltip","arrow","placement","ListItemAvatar","disableTypography","VisibilityIcon","blue","chatbot","AndroidIcon","grey","lastMessage","unreadMessages","badge","settingIndex","put","handleAcepptTicket","_ticket$queue3","useIntegration","promptId","handleCloseTicket","_ticket$queue4","handleReopenTicket","useTickets","queueIds","withUnreadMessages","setTickets","fetchTickets","tabContainer","maxHeight","popoverPaper","spacing","noShadow","NotificationsPopOver","volume","ticketIdUrl","location","pathname","ticketIdRef","isOpen","setIsOpen","setNotifications","showPendingTickets","setShowPendingTickets","setDesktopNotifications","play","useSound","alertSound","soundAlertRef","historyRef","allTicket","fetchSettings","Notification","requestPermission","console","log","processNotifications","newNotifications","ticketIndex","notfiticationIndex","n","String","_user$queues","some","visibilityState","handleNotifications","urlPicture","renotify","onclick","preventDefault","focus","handleClickAway","NotificationTicket","handleClick","aria-label","overlap","ChatIcon","Popover","disableScrollLock","paper","TicketListItem","icons","customBadge","NotificationsVolume","setVolume","VolumeUpIcon","Grid","container","item","VolumeDownIcon","xs","Slider","step","min","max","handleVolumeChange","chips","chip","QueueSelect","selectedQueueIds","setQueues","FormControl","InputLabel","Select","multiple","labelWidth","MenuProps","renderValue","Chip","multFieldLine","btnWrapper","formControl","UserSchema","Yup","shape","required","UserModal","initialState","loggedInUser","setSelectedQueueIds","setWhatsappId","_data$queues","userQueueIds","fetchUser","scroll","Formik","initialValues","enableReinitialize","validationSchema","onSubmit","values","handleSaveUser","setSubmitting","touched","errors","isSubmitting","Form","Field","as","autoFocus","helperText","labelId","backdrop","drawer","BackdropLoading","Backdrop","switch","visible","btnHeader","DarkMode","mainPaper","AnnouncementDialog","announcement","aria-describedby","border","filename","backgroundRepeat","backgroundSize","backgroundPosition","DialogContentText","newAnnouncements","announcementIndex","announcementId","AnnouncementsPopover","setAnnouncement","showAnnouncementDialog","setShowAnnouncementDialog","fetchAnnouncements","record","Notifications","Paper","scrollHeight","clientHeight","useDate","dateToClient","strDate","isValid","datetimeToClient","dateToDatabase","ChatPopover","notifySound","userObj","senderId","goToMessages","fancyBackground","toolbar","dark","main","barraSuperior","toolbarIcon","appBarShift","menuButton","menuButtonHidden","drawerPaper","scrollbarStylesSoft","drawerPaperClose","overflowX","up","appBarSpacer","containerWithScroll","logo","LoggedInLayout","_user$company","_user$company2","_user$company3","_user$company4","themeToggle","userModalOpen","setUserModalOpen","setMenuOpen","drawerOpen","drawerVariant","setDrawerVariant","useTheme","colorMode","greaterThenSm","useMediaQuery","reload","interval","setInterval","clearInterval","handleCloseMenu","Drawer","ChevronLeftIcon","AppBar","Toolbar","edge","MenuIcon","Brightness7Icon","Brightness4Icon","handleRefreshPage","CachedIcon","aria-controls","aria-haspopup","AccountCircle","handleOpenUserModal","Title","Chart","toISOString","chartData","setChartData","time","amount","aux","startOfHour","ResponsiveContainer","BarChart","barSize","CartesianGrid","strokeDasharray","XAxis","dataKey","stroke","YAxis","allowDecimals","Label","angle","textAnchor","Bar","cardAvatar","cardTitle","cardSubtitle","CardCounter","off","red","pointer","RatingBox","rating","ratingTrunc","trunc","Rating","defaultValue","readOnly","TableAttendantsStatus","attendants","TableContainer","Table","TableHead","TableRow","TableCell","align","TableBody","k","minutes","avgSupportTime","startOf","online","CheckCircleIcon","ErrorIcon","useDashboard","useCompanies","finding","findAll","updateSchedules","fixedHeightPaper","alignRight","selectContainer","Dashboard","counters","setCounters","setAttendants","filterType","setFilterType","period","setPeriod","companyDueDate","setCompanyDueDate","dateFrom","setDateFrom","dateTo","setDateTo","days","isEmpty","date_from","date_to","keys","firstLoad","loadCompanies","companiesList","formatTime","Container","sm","md","TodayIcon","handleChangeFilterType","FormHelperText","InputLabelProps","shrink","handleChangePeriod","GroupIcon","supportPending","supportHappening","AssignmentIcon","supportFinished","PersonIcon","leads","SpeedIcon","avgWaitTime","textField","extraAttr","ContactSchema","ContactModal","contactId","onSave","fetchContact","handleSaveContact","FieldArray","_ref3","info","DeleteOutlineIcon","offline","createFilterOptions","NewTicketModal","modalOpen","initialContact","setOptions","setSearchParam","selectedContact","setSelectedContact","selectedQueue","setSelectedQueue","selectedWhatsapp","setSelectedWhatsapp","newContact","setNewContact","whatsapps","setWhatsapps","contactModalOpen","setContactModalOpen","openAlert","setOpenAlert","userTicketOpen","setUserTicketOpen","queueTicketOpen","setQueueTicketOpen","then","fetchContacts","handleSaveTicket","createAddContactOption","filterOptions","filtered","inputValue","renderOption","option","renderOptionLabel","handleCloseContactModal","Autocomplete","clearOnBlur","autoHighlight","freeSolo","clearOnEscape","getOptionLabel","newValue","handleSelectOption","renderInput","onKeyPress","InputProps","endAdornment","displayEmpty","w","TicketsSkeleton","ticketsListWrapper","borderTop","ticketsListHeader","ticketsCount","unshift","TicketsListCustom","updateCount","filteredTickets","indexOf","shouldUpdateTicket","_data$ticket$queue","elevation","TicketsListSkeleton","TabPanel","TicketsQueueSelect","userQueues","Checkbox","checked","TagsFilter","onFiltered","setTags","selecteds","setSelecteds","loadTags","v","r","renderTags","getTagProps","textShadow","UsersFilter","initialUsers","setUsers","loadUsers","Array","userList","getOptionSelected","toLowerCase","getUserProps","ticketsWrapper","tabsHeader","tabsInternal","settingsIcon","tab","internalTab","ticketOptionsBox","optionsBackground","ticketSearchLine","serachInputWrapper","total","searchIcon","searchInput","insiderTabPanel","insiderDoubleTabPanel","labelContainer","iconLabelWrapper","insiderTabLabel","smallFormControl","TicketsManagerTabs","setTab","tabOpen","setTabOpen","newTicketModalOpen","setNewTicketModalOpen","showAllTickets","setShowAllTickets","searchInputRef","openCount","setOpenCount","pendingCount","setPendingCount","selectedTags","setSelectedTags","selectedUsers","setSelectedUsers","searchTimeout","applyPanelStyle","handleCloseOrOpenTicket","Tabs","handleChangeTab","indicatorColor","textColor","Tab","MoveToInboxIcon","CheckBoxIcon","SearchIcon","InputBase","inputRef","searchedTerm","FormControlLabel","labelPlacement","control","Switch","handleChangeTabOpen","TicketsList","val","ContactDrawerSkeleton","contactHeader","contactAvatar","contactDetails","contactExtraInfo","textCenter","ContactForm","onCancel","inline","ContactNotesDialogListItem","note","deleteItem","useTicketNotes","saveNote","deleteNote","listNotes","NoteSchema","ContactNotes","newNote","setNewNote","showOnDeleteDialog","setShowOnDeleteDialog","selectedNote","setSelectedNote","notes","setNotes","handleResetState","loadNotes","openAndFetchData","handleChangeComment","handleOpenDialogDelete","handleSave","setErrors","rows","multiline","flexShrink","borderRight","contactdrawer","ContactDrawer","_contact$extraInfo","handleDrawerClose","setModalOpen","openForm","setOpenForm","anchor","PaperProps","BackdropProps","ModalProps","CloseIcon","CreateIcon","Link","timerBox","RecordingTimer","timer","setTimer","seconds","addZero","useQuickMessages","deleteRecord","Mp3Recorder","MicRecorder","bitRate","bordabox","newMessageBox","newmessagebox","messageInputWrapper","inputdigita","messageInput","sendMessageIcons","uploadInput","viewMediaInputWrapper","emojiBox","audioLoading","recorderWrapper","cancelAudioIcon","sendAudioIcon","replyginMsgWrapper","replyginMsgContainer","replyginMsgBody","replyginContactMsgSideColor","replyginSelfMsgSideColor","EmojiOptions","showEmoji","setShowEmoji","handleAddEmoji","MoodIcon","Picker","perLine","showPreview","showSkinTones","onSelect","SignSwitch","setSignMessage","isWidthUp","FileInput","handleChangeMedias","disableOption","htmlFor","AttachFileIcon","ActionButtons","inputMessage","recording","ticketStatus","handleCancelAudio","handleUploadAudio","handleStartRecording","SendIcon","HighlightOffIcon","CheckCircleOutlineIcon","MicIcon","CustomInput","setInputMessage","handleInputPaste","handleQuickAnswersClick","setQuickMessages","popupOpen","setPopupOpen","listQuickMessages","truncatedMessage","firstWord","charAt","filteredOptions","setInputRef","closeIcon","opt","isNil","onInputChange","reason","onPaste","shiftKey","maxRows","withWidth","_medias$","medias","setMedias","setRecording","initialValue","storedValue","setStoredValue","valueToStore","Function","useLocalStorage","emoji","native","selectedMedias","from","clipboardData","blob","extension","formData","FormData","getTime","append","handleUploadQuickMessageMedia","navigator","mediaDevices","getUserMedia","audio","start","stop","getMp3","CancelIcon","ClearIcon","renderReplyingMessage","useQueues","TransferTicketModalCustom","ticketid","allQueues","setAllQueues","selectedUser","setSelectedUser","findAllQueues","loadQueues","fetchUsers","noOptionsText","InputComponent","other","OutlinedDiv","inputComponent","inputProps","MessageVariablesPicker","msgVars","msgVar","onMouseDown","ScheduleSchema","ScheduleModal","scheduleId","cleanContact","setSchedule","currentContact","setCurrentContact","setContacts","attachment","setAttachment","attachmentFile","messageInputRef","c","customList","capitalize","file","head","handleAttachmentFile","scheduleData","handleSaveSchedule","setFieldValue","setValueFunc","firstHalfText","selectionStart","secondHalfText","selectionEnd","newCursorPos","setSelectionRange","handleClickMsgVar","DeleteOutline","click","TicketOptionsMenu","transferTicketModalOpen","setTransferTicketModalOpen","scheduleModalOpen","setScheduleModalOpen","setContactId","handleOpenConfirmationModal","keepMounted","handleOpenScheduleModal","handleCloseTransferTicketModal","handleCloseScheduleModal","actionButtons","TicketActionButtonsCustom","ticketOptionsMenuOpen","customTheme","createTheme","handleUpdateTicketStatus","Replay","UndoRoundedIcon","ThemeProvider","MoreVert","TagsContainer","createTag","optionsChanged","newTag","syncTags","PaperComponent","Ticket","TicketActionButtons","MessageInput","chatContainer","chatPapper","contactsWrapper","messagesWrapper","welcomeMsg","boxticket","TicketsCustom","TicketsManager","TicketAdvancedLayout","styled","gridTemplateRows","placeholderContainer","placeholderItem","TicketAdvanced","setOption","BottomNavigation","showLabels","BottomNavigationAction","QuestionAnswerIcon","Tickets","SignUp","qs","phone","planId","setPlans","listPlans","CssBaseline","recurrence","campaignsEnabled","handleSignUp","autoComplete","justify","mt","containerWrapper","gap","mobileContainer","hideOnMobile","Login","showPassword","setShowPassword","handleChangeInput","chatImage","noValidate","InputAdornment","VisibilityOff","Visibility","mainContainer","contentWrapper","MainContainer","contactsHeader","MainHeader","MainHeaderButtonsWrapper","customTableCell","TableRowSkeleton","columns","_","SessionSchema","memo","isDefault","provider","setWhatsApp","selectedPrompt","setSelectedPrompt","setPrompts","whatsQueueIds","handleChangePrompt","whatsappData","handleSaveWhatsApp","selectedIds","setQrCode","QRCode","tooltip","typography","pxToRem","tooltipPopper","CustomToolTip","popper","Connections","whatsAppModalOpen","setWhatsAppModalOpen","qrModalOpen","setQrModalOpen","selectedWhatsApp","setSelectedWhatsApp","confirmModalOpen","setConfirmModalOpen","confirmationModalInitialState","confirmModalInfo","setConfirmModalInfo","handleOpenWhatsAppModal","handleCloseWhatsAppModal","useCallback","handleCloseQrModal","renderActionButtons","handleOpenQrModal","handleStartWhatsAppSession","handleRequestNewQrCode","QrcodeModal","WhatsAppModal","SignalCellularConnectedNoInternet0Bar","CropFree","SignalCellular4Bar","SignalCellularConnectedNoInternet2Bar","renderStatusToolTips","CheckCircle","handleEditWhatsApp","Edit","textfield","row","buttonContainer","SchedulesForm","labelSaveButton","setSchedules","weekday","weekdayEn","startTime","endTime","render","arrayHelpers","FastField","field","NumberFormat","customInput","_ref4","QueueSelectCustom","ModalUsers","tableContainer","textRight","CompanyForm","onDelete","modalUser","setModalUser","firstUser","setFirstUser","setRecord","handleCloseModalUsers","resetForm","handleSubmit","setValues","incrementDueDate","handleOpenModalUsers","CompaniesManagerGrid","rowStyle","renderPlan","renderCampaignsStatus","renderStatus","CompaniesManager","showConfirmDialog","setShowConfirmDialog","setRecords","loadPlans","companyList","handleCancel","handleOpenDeleteDialog","handleDelete","PlanManagerForm","PlansManagerGrid","minimumFractionDigits","renderCampaigns","renderSchedules","renderInternalChat","renderExternalApi","renderKanban","renderOpenAi","renderIntegrations","PlansManager","planList","_data$value","HelpManagerForm","HelpsManagerGrid","video","HelpsManager","useHelps","loadHelps","helpList","useSettings","getAll","fontecor","Options","scheduleTypeChanged","userRating","setUserRating","scheduleType","setScheduleType","callType","setCallType","chatbotType","setChatbotType","CheckMsgIsGroup","setCheckMsgIsGroupType","loadingUserRating","setLoadingUserRating","loadingScheduleType","setLoadingScheduleType","loadingCallType","setLoadingCallType","loadingChatbotType","setLoadingChatbotType","loadingCheckMsgIsGroup","setCheckMsgIsGroup","ipixcType","setIpIxcType","loadingIpIxcType","setLoadingIpIxcType","tokenixcType","setTokenIxcType","loadingTokenIxcType","setLoadingTokenIxcType","ipmkauthType","setIpMkauthType","loadingIpMkauthType","setLoadingIpMkauthType","clientidmkauthType","setClientIdMkauthType","loadingClientIdMkauthType","setLoadingClientIdMkauthType","clientsecretmkauthType","setClientSecrectMkauthType","loadingClientSecrectMkauthType","setLoadingClientSecrectMkauthType","asaasType","setAsaasType","loadingAsaasType","setLoadingAsaasType","SendGreetingAccepted","setSendGreetingAccepted","loadingSendGreetingAccepted","setLoadingSendGreetingAccepted","SettingsTransfTicket","setSettingsTransfTicket","loadingSettingsTransfTicket","setLoadingSettingsTransfTicket","handleChangeUserRating","handleScheduleType","handleGroupType","handleCallType","handleChatbotType","handleSendGreetingAccepted","handleSettingsTransfTicket","scrollButtons","handleChangeIPIxc","handleChangeTokenIxc","handleChangeIpMkauth","handleChangeClientIdMkauth","handleChangeClientSecrectMkauth","handleChangeAsaas","OnlyForSuperUser","SettingsCustom","setCompany","currentUser","setCurrentUser","setSettings","schedulesEnabled","setSchedulesEnabled","getAllSettings","settingList","findData","isSuper","handleTabChange","InputField","errorText","meta","useField","at","_renderHelperText","SelectField","selectedValue","isError","countries","AddressForm","billingName","setBillingName","addressZipCode","setAddressZipCode","addressStreet","setAddressStreet","addressState","setAddressState","addressCity","setAddressCity","addressDistrict","setAddressDistrict","formField","firstName","address1","city","zipcode","country","ul","listStyle","cardHeader","cardPricing","footer","divider","customCard","custom","Pricing","setActiveStep","activeStep","usersPlans","setUsersPlans","companiesPlans","setCompaniesPlans","connectionsPlans","setConnectionsPlans","storagePlans","setStoragePlans","customValuePlans","setCustomValuePlans","plansCompanies","price","buttonText","buttonVariant","tiers","tier","StarIcon","CardContent","line","CardActions","listItem","PaymentDetails","formValues","newPlan","ReviewOrder","useFormikContext","ShippingDetails","div","Total","SuccessContent","CheckoutSuccess","pix","pixString","copied","setCopied","valor","original","CopyToClipboard","onCopy","handleCopyQR","FaCheckCircle","FaCopy","formId","requiredErrorMsg","lastName","invalidErrorMsg","useAddressForPaymentDetails","invoiceId","nameOnCard","cardNumber","expiryDate","cvv","checkoutFormModel","nullable","stepper","wrapper","CheckoutPage","steps","datePayment","setDatePayment","setinvoiceId","Invoice","currentValidationSchema","isLastStep","_handleBack","Stepper","Step","StepLabel","formInitialValues","newValues","address2","_submitForm","setTouched","PaymentForm","_renderStepContent","invoices","newUsers","userIndex","Invoices","selectedContactId","setSelectedContactId","fetchInvoices","hoje","rowStatus","SubscriptionModal","detail","currency","handleOpenContactModal","Users","deletingUser","setDeletingUser","handleDeleteUser","handleCloseUserModal","startAdornment","handleEditUser","newContacts","contactIndex","Contacts","contactTicket","setContactTicket","deletingContact","setDeletingContact","confirmOpen","setConfirmOpen","handleDeleteContact","go","handleimportContact","CSVLink","textDecoration","separator","hadleEditContact","ColorPicker","currentColor","selectedColor","setSelectedColor","BlockPicker","triangle","colors","hex","onChangeComplete","addButton","QueueOptionStepper","updateOptions","activeOption","setActiveOption","handleOption","parentId","optionList","edition","handleEdition","renderTitle","handleOptionChangeTitle","SaveIcon","order","handleDeleteOption","renderMessage","handleOptionChangeMessage","renderStep","StepContent","optionNumber","handleAddOption","AddIcon","nonLinear","orientation","QueueOptions","fetchOptions","addOption","newOption","renderStepper","colorAdorment","QueueSchema","QueueModal","colorPickerModalOpen","setColorPickerModalOpen","setQueue","greetingRef","integrations","setIntegrations","queueEditable","setQueueEditable","queueIntegrations","handleSaveQueue","onFocus","Colorize","textField1","integration","newQueues","queueIndex","Queues","queueModalOpen","setQueueModalOpen","handleCloseConfirmationModal","handleDeleteQueue","handleCloseQueueModal","handleOpenQueueModal","handleEditQueue","TagSchema","TagModal","tagId","kanban","setKanban","handleKanbanChange","tagData","handleSaveTag","ColorBox","disableAlpha","hslGradient","newTags","tagIndex","Tags","selectedTag","setSelectedTag","deletingTag","setDeletingTag","tagModalOpen","setTagModalOpen","fetchTags","handleDeleteTag","handleCloseTagModal","handleOpenTagModal","handleEditTag","mainHeader","elementMargin","formContainer","MessagesAPI","formMessageTextData","formMessageMediaData","setFile","catch","handleSendTextMessage","firstFile","handleSendMediaMessage","mainPaperContainer","gridTemplateColumns","helpPaper","shadows","paperHover","videoThumbnail","videoTitle","videoDescription","videoModal","videoModalContent","outline","aspectRatio","Helps","selectedVideo","setSelectedVideo","closeVideoModal","handleModalClose","addEventListener","removeEventListener","openVideoModal","Modal","frameBorder","allow","allowFullScreen","ContactListSchema","ContactListModal","contactListId","setContactList","fetchContactList","contactListData","handleSaveContactList","newContactLists","contactListIndex","ContactLists","selectedContactList","setSelectedContactList","deletingContactList","setDeletingContactList","contactListModalOpen","setContactListModalOpen","fetchContactLists","handleDeleteContactList","ContactListDialog","handleCloseContactListModal","handleOpenContactListModal","contactsCount","planilhaExemplo","download","DownloadIcon","goToContacts","handleEditContactList","ContactListItemModal","useContactLists","findById","ContactListItems","contactListItemModalOpen","setContactListItemModalOpen","fileUploadRef","findContactList","handleCloseContactListItemModal","handleImportContacts","goToContactLists","handleOpenContactListItemModal","isWhatsappValid","titleAccess","htmlColor","BlockIcon","path","require","QuickeMessageSchema","QuickMessageDialog","quickemessageId","quickemessage","setQuickemessage","quickemessageData","isMedia","basename","handleSaveQuickeMessage","quickmessages","newQuickmessages","quickemessageIndex","Quickemessages","selectedQuickemessage","setSelectedQuickemessage","deletingQuickemessage","setDeletingQuickemessage","quickemessageModalOpen","setQuickMessageDialogOpen","quickemessages","fetchQuickemessages","handleDeleteQuickemessage","resetPagination","handleCloseQuickMessageDialog","handleOpenQuickMessageDialog","_quickemessage$mediaN","handleEditQuickemessage","Kanban","reloadData","setReloadData","isInitialLoadComplete","setIsInitialLoadComplete","fetchedTags","lista","jsonString","lanes","UserQueue","teste","handleCardClick","cards","toString","popularCards","Board","onCardMoveAcrossLanes","cardId","sourceLaneId","targetLaneId","Route","Component","isPrivate","Redirect","RouterRoute","newSchedules","scheduleIndex","Schedules","selectedSchedule","setSelectedSchedule","deletingSchedule","setDeletingSchedule","param","URLSearchParams","fetchSchedules","handleOpenScheduleModalFromContactId","handleDeleteSchedule","str","len","handleEditSchedule","truncate","tabmsg","campaigntab","CampaignSchema","CampaignModal","campaignId","tagListId","campaign","setCampaign","setContactLists","messageTab","setMessageTab","campaignEditable","setCampaignEditable","tagLists","setTagLists","formattedTagLists","_ref5","prevCampaignData","entries","_ref6","moreThenAnHour","Number","isNaN","isEditable","renderMessageField","identifier","renderConfirmationMessageField","dataValues","_ref7","handleSaveCampaign","_ref8","fileListId","f","centered","restartCampaign","cancelCampaign","newCampaigns","campaignIndex","Campaigns","selectedCampaign","setSelectedCampaign","deletingCampaign","setDeletingCampaign","campaignModalOpen","setCampaignModalOpen","fetchCampaigns","handleDeleteCampaign","handleCloseCampaignModal","handleOpenCampaignModal","formatStatus","PauseCircleOutlineIcon","PlayCircleOutlineIcon","DescriptionIcon","handleEditCampaign","tabPanelsContainer","initialSettings","messageInterval","longerIntervalAfter","greaterInterval","variables","CampaignsConfig","showVariablesForm","setShowVariablesForm","selectedKey","setSelectedKey","variable","setVariable","settingsList","fromEntries","handleOnChangeVariable","changedProp","handleOnChangeSettings","removeVariable","newList","addVariable","variablesExists","CampaignReport","validContacts","setValidContacts","delivered","setDelivered","confirmationRequested","setConfirmationRequested","confirmed","setConfirmed","percent","setPercent","mounted","findCampaign","valids","isNull","deliveredAt","confirmationRequestedAt","LinearProgress","DoneIcon","DoneAllIcon","ListAltIcon","ScheduleIcon","AnnouncementSchema","AnnouncementModal","announcementData","handleSaveAnnouncement","Announcements","selectedAnnouncement","setSelectedAnnouncement","deletingAnnouncement","setDeletingAnnouncement","announcementModalOpen","setAnnouncementModalOpen","handleDeleteAnnouncement","handleCloseAnnouncementModal","handleOpenAnnouncementModal","_announcement$mediaNa","handleEditAnnouncement","boxlist","chatList","ChatList","handleSelectChat","handleDeleteChat","handleEditChat","pageInfo","selectedChat","setSelectedChat","getPrimaryText","mainText","getSecondaryText","getItemStyle","ownerId","messageList","chatlist","inputArea","buttonSend","boxLeft","boxRight","ChatMessages","handleLoadMore","scrollToBottomRef","baseRef","contentMessage","setContentMessage","sender","Input","onKeyUp","gridContainer","gridItem","gridItemTab","btnContainer","ChatModal","handleLoadNewChat","setTitle","alert","showDialog","setShowDialog","dialogType","setDialogType","currentChat","setCurrentChat","setChats","chatsPageInfo","setChatsPageInfo","setMessages","messagesPageInfo","setMessagesPageInfo","messagesPage","setMessagesPage","findChats","selectChat","findMessages","changedChats","filteredChats","sendMessage","deleteChat","loadMoreMessages","_formatDate","past","abs","ceil","trialExpiration","FileListSchema","FilesModal","setFiles","selectedFileNames","setSelectedFileNames","setFileList","uploadFiles","filesOptions","fileOption","fileData","handleSaveFileList","minRows","selectedFile","updatedOptions","updatedFileNames","newFiles","fileListIndex","FileLists","selectedFileList","setSelectedFileList","deletingFileList","setDeletingFileList","fileListModalOpen","setFileListModalOpen","fetchFileLists","fileId","handleDeleteFileList","FileModal","handleCloseFileListModal","handleOpenFileListModal","handleEditFileList","QueueSelectSingle","PromptModal","selectedVoice","setSelectedVoice","showApiKey","setShowApiKey","handleToggleApiKey","maxTokens","apiKey","maxMessages","setPrompt","fetchPrompt","handleChangeVoice","promptData","handleSavePrompt","newPrompts","promptIndex","p","Prompts","promptModalOpen","setPromptModalOpen","handleDeletePrompt","handleClosePromptModal","handleOpenPromptModal","handleEditPrompt","btnLeft","DialogflowSchema","QueueIntegration","setIntegration","handleSaveDialogflow","xl","helpertext","handleTestSession","newIntegrations","integrationIndex","selectedIntegration","setSelectedIntegration","fetchIntegrations","handleDeleteIntegration","IntegrationModal","handleCloseIntegrationModal","dialogflow","n8n","webhooks","typebot","handleEditIntegration","Routes","BrowserRouter","exact","Signup","TicketResponsiveContainer","QuickMessages","Files","Financeiro","Annoucements","Subscription","Chat","ToastContainer","queryClient","QueryClient","App","setLocale","prefersDarkMode","preferredTheme","setMode","prevMode","textPrimary","borderPrimary","light","announcementspopover","boxchatlist","messageIcons","inputBackground","i18nlocale","ptBR","QueryClientProvider","client","ReactDOM","module","exports"],"mappings":"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C,OAbW7P,IAAqC,IAApC,QAAEb,EAAO,SAAEc,KAAa6P,GAAM9P,EACxD,MAAMyF,EAAUpB,KAEhB,OACCzb,IAAAsX,cAACqG,KAAMyC,OAAAC,OAAA,CAAChD,UAAWR,EAAQyD,OAAQ7e,SAAU8U,GAAa2Q,GACxD7P,EACAd,GACAvW,IAAAsX,cAAC6P,KAAgB,CAACC,KAAM,GAAI/J,UAAWR,EAAQ+J,mB,UCzBnD,MAAMS,GAAW,CAChB,IACA,OACA,UACA,OACA,UACA,QACA,QACA,IACA,OACA,MACA,MACA,MACA,aACA,OACA,KACA,SACA,SACA,UACA,OACA,OACA,MACA,WACA,OACA,WACA,KACA,MACA,UACA,MACA,SACA,MACA,KACA,KACA,KACA,QACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,SACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,UACA,OACA,WACA,OACA,QACA,MACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,QACA,SACA,OACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,QACA,KACA,QACA,IACA,KACA,MACA,QACA,MAGA,SACA,WACA,OACA,UACA,gBACA,IACA,QACA,OACA,iBACA,SACA,OACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,MACA,OACA,SAGKC,GAAkB,CAAC,IAAK,IAAK,SAAU,KAAM,IAAK,OAAQ,OAE1DC,GAAanQ,IAAA,IAAC,SAAEC,KAAasI,GAAOvI,EAAA,OACzCpX,IAAAsX,cAAA,IAAA8I,OAAAC,OAAA,GAAOV,EAAK,CAAElC,OAAO,SAAS+J,IAAI,wBAChCnQ,IAsCYoQ,OAlCSC,IAAmB,IAAlB,SAAErQ,GAAUqQ,EACpC,MAAMC,EAAY,aACZC,EAAa,WAEfvQ,GAAYsQ,EAAUzhB,K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","file":"static/js/main.6bd2db72.chunk.js","sourcesContent":["import React from \"react\";\n\nconst ColorModeContext = React.createContext({ toggleColorMode: () => {} });\n\nexport default ColorModeContext;","const messages = {\n  pt: {\n    translations: {\n      signup: {\n        title: \"Cadastre-se\",\n        toasts: {\n          success: \"Usuário criado com sucesso! Faça seu login!!!.\",\n          fail: \"Erro ao criar usuário. Verifique os dados informados.\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n        },\n        buttons: {\n          submit: \"Cadastrar\",\n          login: \"Já tem uma conta? Entre!\",\n        },\n      },\n      login: {\n        title: \"Login\",\n        form: {\n          email: \"Email\",\n          password: \"Senha\",\n        },\n        buttons: {\n          submit: \"Entrar\",\n          register: \"Não tem um conta? Cadastre-se!\",\n        },\n      },\n      plans: {\n        form: {\n          name: \"Nome\",\n          users: \"Usuários\",\n          connections: \"Conexões\",\n          campaigns: \"Campanhas\",\n          schedules: \"Agendamentos\",\n          enabled: \"Habilitadas\",\n          disabled: \"Desabilitadas\",\n          clear: \"Cancelar\",\n          delete: \"Excluir\",\n          save: \"Salvar\",\n          yes: \"Sim\",\n          no: \"Não\",\n          money: \"R$\",\n        },\n      },\n      companies: {\n        title: \"Cadastrar Empresa\",\n        form: {\n          name: \"Nome da Empresa\",\n          plan: \"Plano\",\n          token: \"Token\",\n          submit: \"Cadastrar\",\n          success: \"Empresa criada com sucesso!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"Login efetuado com sucesso!\",\n        },\n        token: \"Token\",\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Atendimentos hoje: \",\n          },\n        },\n      },\n      connections: {\n        title: \"Conexões\",\n        toasts: {\n          deleted: \"Conexão com o WhatsApp excluída com sucesso!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Deletar\",\n          deleteMessage: \"Você tem certeza? Essa ação não pode ser revertida.\",\n          disconnectTitle: \"Desconectar\",\n          disconnectMessage:\n            \"Tem certeza? Você precisará ler o QR Code novamente.\",\n        },\n        buttons: {\n          add: \"Adicionar WhatsApp\",\n          disconnect: \"desconectar\",\n          tryAgain: \"Tentar novamente\",\n          qrcode: \"QR CODE\",\n          newQr: \"Novo QR CODE\",\n          connecting: \"Conectando\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"Falha ao iniciar sessão do WhatsApp\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado à internet e tente novamente, ou solicite um novo QR Code\",\n          },\n          qrcode: {\n            title: \"Esperando leitura do QR Code\",\n            content:\n              \"Clique no botão 'QR CODE' e leia o QR Code com o seu celular para iniciar a sessão\",\n          },\n          connected: {\n            title: \"Conexão estabelecida!\",\n          },\n          timeout: {\n            title: \"A conexão com o celular foi perdida\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado à internet e o WhatsApp esteja aberto, ou clique no botão 'Desconectar' para obter um novo QR Code\",\n          },\n        },\n        table: {\n          name: \"Nome\",\n          status: \"Status\",\n          lastUpdate: \"Última atualização\",\n          default: \"Padrão\",\n          actions: \"Ações\",\n          session: \"Sessão\",\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Adicionar WhatsApp\",\n          edit: \"Editar WhatsApp\",\n        },\n        form: {\n          name: \"Nome\",\n          default: \"Padrão\",\n          sendIdQueue: \"Fila\",\n          timeSendQueue: \"Redirecionar para fila em X minutos\",\n          queueRedirection: \"Redirecionamento de Fila\",\n          queueRedirectionDesc: \"Selecione uma fila para os contatos que não possuem fila serem redirecionados\",\n          prompt: \"Prompt\",\n          maxUseBotQueues: \"Enviar bot x vezes\",\n          timeUseBotQueues: \"Intervalo em minutos entre envio de bot\",\n          expiresTicket: \"Encerrar chats abertos após x minutos\",\n          expiresInactiveMessage: \"Mensagem de encerramento por inatividade\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"WhatsApp salvo com sucesso.\",\n      },\n      qrCode: {\n        message: \"Leia o QrCode para iniciar a sessão\",\n      },\n      contacts: {\n        title: \"Contatos\",\n        toasts: {\n          deleted: \"Contato excluído com sucesso!\",\n        },\n        searchPlaceholder: \"Pesquisar...\",\n        confirmationModal: {\n          deleteTitle: \"Deletar \",\n          importTitlte: \"Importar contatos\",\n          deleteMessage:\n            \"Tem certeza que deseja deletar este contato? Todos os atendimentos relacionados serão perdidos.\",\n          importMessage: \"Deseja importar todos os contatos do telefone?\",\n        },\n        buttons: {\n          import: \"Importar Contatos\",\n          add: \"Adicionar Contato\",\n        },\n        table: {\n          name: \"Nome\",\n          whatsapp: \"WhatsApp\",\n          email: \"Email\",\n          actions: \"Ações\",\n        },\n      },\n      queueIntegrationModal: {\n        title: {\n          add: \"Adicionar projeto\",\n          edit: \"Editar projeto\",\n        },\n        form: {\n          id: \"ID\",\n          type: \"Tipo\",\n          name: \"Nome\",\n          projectName: \"Nome do Projeto\",\n          language: \"Linguagem\",\n          jsonContent: \"JsonContent\",\n          urlN8N: \"URL\",\n          typebotSlug: \"Typebot - Slug\",\n          typebotExpires: \"Tempo em minutos para expirar uma conversa\",\n          typebotKeywordFinish: \"Palavra para finalizar o ticket\",\n          typebotKeywordRestart: \"Palavra para reiniciar o fluxo\",\n          typebotRestartMessage: \"Mensagem ao reiniciar a conversa\",\n          typebotUnknownMessage: \"Mensagem de opção inválida\",\n          typebotDelayMessage: \"Intervalo (ms) entre mensagens\",   \n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n          test: \"Testar Bot\",\n        },\n        messages: {\n          testSuccess: \"Integração testada com sucesso!\",\n          addSuccess: \"Integração adicionada com sucesso.\",\n          editSuccess: \"Integração editada com sucesso.\",\n        },\n      },\n      promptModal: {\n        form: {\n          name: \"Nome\",\n          prompt: \"Prompt\",\n          voice: \"Voz\",\n          max_tokens: \"Máximo de Tokens na resposta\",\n          temperature: \"Temperatura\",\n          apikey: \"API Key\",\n          max_messages: \"Máximo de mensagens no Histórico\",\n          voiceKey: \"Chave da API de Voz\",\n          voiceRegion: \"Região de Voz\",\n        },\n        success: \"Prompt salvo com sucesso!\",\n        title: {\n          add: \"Adicionar Prompt\",\n          edit: \"Editar Prompt\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      prompts: {\n        title: \"Prompts\",\n        table: {\n          name: \"Nome\",\n          queue: \"Setor/Fila\",\n          max_tokens: \"Máximo Tokens Resposta\",\n          actions: \"Ações\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Você tem certeza? Essa ação não pode ser revertida!\",\n        },\n        buttons: {\n          add: \"Adicionar Prompt\",\n        },\n      },\n      contactModal: {\n        title: {\n          add: \"Adicionar contato\",\n          edit: \"Editar contato\",\n        },\n        form: {\n          mainInfo: \"Dados do contato\",\n          extraInfo: \"Informações adicionais\",\n          name: \"Nome\",\n          number: \"Número do Whatsapp\",\n          email: \"Email\",\n          extraName: \"Nome do campo\",\n          extraValue: \"Valor\",\n          whatsapp: \"Conexão Origem: \"\n        },\n        buttons: {\n          addExtraInfo: \"Adicionar informação\",\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Contato salvo com sucesso.\",\n      },\n      queueModal: {\n        title: {\n          add: \"Adicionar fila\",\n          edit: \"Editar fila\",\n        },\n        form: {\n          name: \"Nome\",\n          color: \"Cor\",\n          greetingMessage: \"Mensagem de saudação\",\n          complationMessage: \"Mensagem de conclusão\",\n          outOfHoursMessage: \"Mensagem de fora de expediente\",\n          ratingMessage: \"Mensagem de avaliação\",\n          token: \"Token\",\n          orderQueue: \"Ordem da fila (Bot)\",\n          integrationId: \"Integração\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n\t\t  attach: \"Anexar Arquivo\",\n        },\n      },\n      userModal: {\n        title: {\n          add: \"Adicionar usuário\",\n          edit: \"Editar usuário\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n          profile: \"Perfil\",\n          whatsapp: \"Conexão Padrão\"\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Usuário salvo com sucesso.\",\n      },\n      scheduleModal: {\n        title: {\n          add: \"Novo Agendamento\",\n          edit: \"Editar Agendamento\",\n        },\n        form: {\n          body: \"Mensagem\",\n          contact: \"Contato\",\n          sendAt: \"Data de Agendamento\",\n          sentAt: \"Data de Envio\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Agendamento salvo com sucesso.\",\n      },\n      tagModal: {\n        title: {\n          add: \"Nova Tag\",\n          edit: \"Editar Tag\",\n        },\n        form: {\n          name: \"Nome\",\n          color: \"Cor\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Tag salvo com sucesso.\",\n      },\n      chat: {\n        noTicketMessage: \"Selecione um ticket para começar a conversar.\",\n      },\n      uploads: {\n        titles: {\n          titleUploadMsgDragDrop: \"ARRASTE E SOLTE ARQUIVOS NO CAMPO ABAIXO\",\n          titleFileList: \"Lista de arquivo(s)\"\n        },\n      },\n      ticketsManager: {\n        buttons: {\n          newTicket: \"Novo\",\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Filas\",\n      },\n      tickets: {\n        toasts: {\n          deleted: \"O atendimento que você estava foi deletado.\",\n        },\n        notification: {\n          message: \"Mensagem de\",\n        },\n        tabs: {\n          open: { title: \"Abertas\" },\n          closed: { title: \"Resolvidos\" },\n          search: { title: \"Busca\" },\n        },\n        search: {\n          placeholder: \"Buscar atendimento e mensagens\",\n        },\n        buttons: {\n          showAll: \"Todos\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transferir Ticket\",\n        fieldLabel: \"Digite para buscar usuários\",\n        fieldQueueLabel: \"Transferir para fila\",\n        fieldQueuePlaceholder: \"Selecione uma fila\",\n        noOptions: \"Nenhum usuário encontrado com esse nome\",\n        buttons: {\n          ok: \"Transferir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      ticketsList: {\n        pendingHeader: \"Aguardando\",\n        assignedHeader: \"Atendendo\",\n        noTicketsTitle: \"Nada aqui!\",\n        noTicketsMessage:\n          \"Nenhum atendimento encontrado com esse status ou termo pesquisado\",\n        buttons: {\n          accept: \"Aceitar\",\n          closed: \"Finalizar\",\n          reopen: \"Reabrir\"\n        },\n      },\n      newTicketModal: {\n        title: \"Criar Ticket\",\n        fieldLabel: \"Digite para pesquisar o contato\",\n        add: \"Adicionar\",\n        buttons: {\n          ok: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Conexões\",\n          tickets: \"Atendimentos\",\n          quickMessages: \"Respostas Rápidas\",\n          contacts: \"Contatos\",\n          queues: \"Filas & Chatbot\",\n          tags: \"Tags\",\n          administration: \"Administração\",\n          users: \"Usuários\",\n          settings: \"Configurações\",\n          helps: \"Ajuda\",\n          messagesAPI: \"API\",\n          schedules: \"Agendamentos\",\n          campaigns: \"Campanhas\",\n          annoucements: \"Informativos\",\n          chats: \"Chat Interno\",\n          financeiro: \"Financeiro\",\n          files: \"Lista de arquivos\",\n          prompts: \"Open.Ai\",\n          queueIntegration: \"Integrações\",\n        },\n        appBar: {\n          user: {\n            profile: \"Perfil\",\n            logout: \"Sair\",\n          },\n        },\n      },\n      queueIntegration: {\n        title: \"Integrações\",\n        table: {\n          id: \"ID\",\n          type: \"Tipo\",\n          name: \"Nome\",\n          projectName: \"Nome do Projeto\",\n          language: \"Linguagem\",\n          lastUpdate: \"Ultima atualização\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Adicionar Projeto\",\n        },\n        searchPlaceholder: \"Pesquisar...\",\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Você tem certeza? Essa ação não pode ser revertida! e será removida das filas e conexões vinculadas\",\n        },\n      },\n      files: {\n        title: \"Lista de arquivos\",\n        table: {\n          name: \"Nome\",\n          contacts: \"Contatos\",\n          actions: \"Ação\",\n        },\n        toasts: {\n          deleted: \"Lista excluída com sucesso!\",\n          deletedAll: \"Todas as listas foram excluídas com sucesso!\",\n        },\n        buttons: {\n          add: \"Adicionar\",\n          deleteAll: \"Deletar Todos\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Deletar\",\n          deleteAllTitle: \"Deletar Todos\",\n          deleteMessage: \"Tem certeza que deseja deletar esta lista?\",\n          deleteAllMessage: \"Tem certeza que deseja deletar todas as listas?\",\n        },\n      },\n      messagesAPI: {\n        title: \"API\",\n        textMessage: {\n          number: \"Número\",\n          body: \"Mensagem\",\n          token: \"Token cadastrado\",\n        },\n        mediaMessage: {\n          number: \"Número\",\n          body: \"Nome do arquivo\",\n          media: \"Arquivo\",\n          token: \"Token cadastrado\",\n        },\n      },\n      notifications: {\n        noTickets: \"Nenhuma notificação.\",\n      },\n      quickMessages: {\n        title: \"Respostas Rápidas\",\n        searchPlaceholder: \"Pesquisar...\",\n        noAttachment: \"Sem anexo\",\n        confirmationModal: {\n          deleteTitle: \"Exclusão\",\n          deleteMessage: \"Esta ação é irreversível! Deseja prosseguir?\",\n        },\n        buttons: {\n          add: \"Adicionar\",\n          attach: \"Anexar Arquivo\",\n          cancel: \"Cancelar\",\n          edit: \"Editar\",\n        },\n        toasts: {\n          success: \"Atalho adicionado com sucesso!\",\n          deleted: \"Atalho removido com sucesso!\",\n        },\n        dialog: {\n          title: \"Mensagem Rápida\",\n          shortcode: \"Atalho\",\n          message: \"Resposta\",\n          save: \"Salvar\",\n          cancel: \"Cancelar\",\n          geral: \"Permitir editar\",\n          add: \"Adicionar\",\n          edit: \"Editar\",\n          visao: \"Permitir visão\",\n        },\n        table: {\n          shortcode: \"Atalho\",\n          message: \"Mensagem\",\n          actions: \"Ações\",\n          mediaName: \"Nome do Arquivo\",\n          status: \"Status\",\n        },\n      },\n      messageVariablesPicker: {\n        label: \"Variavéis disponíveis\",\n        vars: {\n          contactFirstName: \"Primeiro Nome\",\n          contactName: \"Nome\",\n          greeting: \"Saudação\",\n          protocolNumber: \"Protocolo\",\n          date: \"Data\",\n          hour: \"Hora\",\n        },\n      },\n      contactLists: {\n        title: \"Listas de Contatos\",\n        table: {\n          name: \"Nome\",\n          contacts: \"Contatos\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Nova Lista\",\n        },\n        dialog: {\n          name: \"Nome\",\n          company: \"Empresa\",\n          okEdit: \"Editar\",\n          okAdd: \"Adicionar\",\n          add: \"Adicionar\",\n          edit: \"Editar\",\n          cancel: \"Cancelar\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n        toasts: {\n          deleted: \"Registro excluído\",\n        },\n      },\n      contactListItems: {\n        title: \"Contatos\",\n        searchPlaceholder: \"Pesquisa\",\n        buttons: {\n          add: \"Novo\",\n          lists: \"Listas\",\n          import: \"Importar\",\n        },\n        dialog: {\n          name: \"Nome\",\n          number: \"Número\",\n          whatsapp: \"Whatsapp\",\n          email: \"E-mail\",\n          okEdit: \"Editar\",\n          okAdd: \"Adicionar\",\n          add: \"Adicionar\",\n          edit: \"Editar\",\n          cancel: \"Cancelar\",\n        },\n        table: {\n          name: \"Nome\",\n          number: \"Número\",\n          whatsapp: \"Whatsapp\",\n          email: \"E-mail\",\n          actions: \"Ações\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n          importMessage: \"Deseja importar os contatos desta planilha? \",\n          importTitlte: \"Importar\",\n        },\n        toasts: {\n          deleted: \"Registro excluído\",\n        },\n      },\n      campaigns: {\n        title: \"Campanhas\",\n        searchPlaceholder: \"Pesquisa\",\n        buttons: {\n          add: \"Nova Campanha\",\n          contactLists: \"Listas de Contatos\",\n        },\n        table: {\n          name: \"Nome\",\n          whatsapp: \"Conexão\",\n          contactList: \"Lista de Contatos\",\n          status: \"Status\",\n          scheduledAt: \"Agendamento\",\n          completedAt: \"Concluída\",\n          confirmation: \"Confirmação\",\n          actions: \"Ações\",\n        },\n        dialog: {\n          new: \"Nova Campanha\",\n          update: \"Editar Campanha\",\n          readonly: \"Apenas Visualização\",\n          form: {\n            name: \"Nome\",\n            message1: \"Mensagem 1\",\n            message2: \"Mensagem 2\",\n            message3: \"Mensagem 3\",\n            message4: \"Mensagem 4\",\n            message5: \"Mensagem 5\",\n            confirmationMessage1: \"Mensagem de Confirmação 1\",\n            confirmationMessage2: \"Mensagem de Confirmação 2\",\n            confirmationMessage3: \"Mensagem de Confirmação 3\",\n            confirmationMessage4: \"Mensagem de Confirmação 4\",\n            confirmationMessage5: \"Mensagem de Confirmação 5\",\n            messagePlaceholder: \"Conteúdo da mensagem\",\n            whatsapp: \"Conexão\",\n            status: \"Status\",\n            scheduledAt: \"Agendamento\",\n            confirmation: \"Confirmação\",\n            contactList: \"Lista de Contato\",\n            tagList: \"Lista de Tags\",\n            fileList: \"Lista de Arquivos\"\n          },\n          buttons: {\n            add: \"Adicionar\",\n            edit: \"Atualizar\",\n            okadd: \"Ok\",\n            cancel: \"Cancelar Disparos\",\n            restart: \"Reiniciar Disparos\",\n            close: \"Fechar\",\n            attach: \"Anexar Arquivo\",\n          },\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n        toasts: {\n          success: \"Operação realizada com sucesso\",\n          cancel: \"Campanha cancelada\",\n          restart: \"Campanha reiniciada\",\n          deleted: \"Registro excluído\",\n        },\n      },\n      announcements: {\n        active: 'Ativo',\n        inactive: 'Inativo',\n        title: \"Informativos\",\n        searchPlaceholder: \"Pesquisa\",\n        buttons: {\n          add: \"Novo Informativo\",\n          contactLists: \"Listas de Informativos\",\n        },\n        table: {\n          priority: \"Prioridade\",\n          title: \"Title\",\n          text: \"Texto\",\n          mediaName: \"Arquivo\",\n          status: \"Status\",\n          actions: \"Ações\",\n        },\n        dialog: {\n          edit: \"Edição de Informativo\",\n          add: \"Novo Informativo\",\n          update: \"Editar Informativo\",\n          readonly: \"Apenas Visualização\",\n          form: {\n            priority: \"Prioridade\",\n            title: \"Title\",\n            text: \"Texto\",\n            mediaPath: \"Arquivo\",\n            status: \"Status\",\n          },\n          buttons: {\n            add: \"Adicionar\",\n            edit: \"Atualizar\",\n            okadd: \"Ok\",\n            cancel: \"Cancelar\",\n            close: \"Fechar\",\n            attach: \"Anexar Arquivo\",\n          },\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n        toasts: {\n          success: \"Operação realizada com sucesso\",\n          deleted: \"Registro excluído\",\n        },\n      },\n      campaignsConfig: {\n        title: \"Configurações de Campanhas\",\n      },\n      queues: {\n        title: \"Filas & Chatbot\",\n        table: {\n          name: \"Nome\",\n          color: \"Cor\",\n          greeting: \"Mensagem de saudação\",\n          actions: \"Ações\",\n          orderQueue: \"Ordenação da fila (bot)\",\n        },\n        buttons: {\n          add: \"Adicionar fila\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Você tem certeza? Essa ação não pode ser revertida! Os atendimentos dessa fila continuarão existindo, mas não terão mais nenhuma fila atribuída.\",\n        },\n      },\n      queueSelect: {\n        inputLabel: \"Filas\",\n      },\n      users: {\n        title: \"Usuários\",\n        table: {\n          name: \"Nome\",\n          email: \"Email\",\n          profile: \"Perfil\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Adicionar usuário\",\n        },\n        toasts: {\n          deleted: \"Usuário excluído com sucesso.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Todos os dados do usuário serão perdidos. Os atendimento abertos deste usuário serão movidos para a fila.\",\n        },\n      },\n      helps: {\n        title: \"Central de Ajuda\",\n      },\n      schedules: {\n        title: \"Agendamentos\",\n        confirmationModal: {\n          deleteTitle: \"Você tem certeza que quer excluir este Agendamento?\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n        table: {\n          contact: \"Contato\",\n          body: \"Mensagem\",\n          sendAt: \"Data de Agendamento\",\n          sentAt: \"Data de Envio\",\n          status: \"Status\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Novo Agendamento\",\n        },\n        toasts: {\n          deleted: \"Agendamento excluído com sucesso.\",\n        },\n      },\n      tags: {\n        title: \"Tags\",\n        confirmationModal: {\n          deleteTitle: \"Você tem certeza que quer excluir esta Tag?\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n        table: {\n          name: \"Nome\",\n          color: \"Cor\",\n          tickets: \"Registros Tagdos\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Nova Tag\",\n        },\n        toasts: {\n          deleted: \"Tag excluído com sucesso.\",\n        },\n      },\n      settings: {\n        success: \"Configurações salvas com sucesso.\",\n        title: \"Configurações\",\n        settings: {\n          userCreation: {\n            name: \"Criação de usuário\",\n            options: {\n              enabled: \"Ativado\",\n              disabled: \"Desativado\",\n            },\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Atribuído à:\",\n          buttons: {\n            return: \"Retornar\",\n            resolve: \"Resolver\",\n            reopen: \"Reabrir\",\n            accept: \"Aceitar\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderOpen: \"Digite uma mensagem\",\n        placeholderClosed:\n          \"Reabra ou aceite esse ticket para enviar uma mensagem.\",\n        signMessage: \"Assinar\",\n      },\n      contactDrawer: {\n        header: \"Dados do contato\",\n        buttons: {\n          edit: \"Editar contato\",\n        },\n        extraInfo: \"Outras informações\",\n      },\n      fileModal: {\n        title: {\n          add: \"Adicionar lista de arquivos\",\n          edit: \"Editar lista de arquivos\",\n        },\n        buttons: {\n          okAdd: \"Salvar\",\n          okEdit: \"Editar\",\n          cancel: \"Cancelar\",\n          fileOptions: \"Adicionar arquivo\",\n        },\n        form: {\n          name: \"Nome da lista de arquivos\",\n          message: \"Detalhes da lista\",\n          fileOptions: \"Lista de arquivos\",\n          extraName: \"Mensagem para enviar com arquivo\",\n          extraValue: \"Valor da opção\",\n        },\n        success: \"Lista de arquivos salva com sucesso!\",\n      },\n      ticketOptionsMenu: {\n        schedule: \"Agendamento\",\n        delete: \"Deletar\",\n        transfer: \"Transferir\",\n        registerAppointment: \"Observações do Contato\",\n        appointmentsModal: {\n          title: \"Observações do Contato\",\n          textarea: \"Observação\",\n          placeholder: \"Insira aqui a informação que deseja registrar\",\n        },\n        confirmationModal: {\n          title: \"Deletar o ticket do contato\",\n          message:\n            \"Atenção! Todas as mensagens relacionadas ao ticket serão perdidas.\",\n        },\n        buttons: {\n          delete: \"Excluir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancelar\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Deletar\",\n        reply: \"Responder\",\n        confirmationModal: {\n          title: \"Apagar mensagem?\",\n          message: \"Esta ação não pode ser revertida.\",\n        },\n      },\n      backendErrors: {\n        ERR_NO_OTHER_WHATSAPP: \"Deve haver pelo menos um WhatsApp padrão.\",\n        ERR_NO_DEF_WAPP_FOUND:\n          \"Nenhum WhatsApp padrão encontrado. Verifique a página de conexões.\",\n        ERR_WAPP_NOT_INITIALIZED:\n          \"Esta sessão do WhatsApp não foi inicializada. Verifique a página de conexões.\",\n        ERR_WAPP_CHECK_CONTACT:\n          \"Não foi possível verificar o contato do WhatsApp. Verifique a página de conexões\",\n        ERR_WAPP_INVALID_CONTACT: \"Este não é um número de Whatsapp válido.\",\n        ERR_WAPP_DOWNLOAD_MEDIA:\n          \"Não foi possível baixar mídia do WhatsApp. Verifique a página de conexões.\",\n        ERR_INVALID_CREDENTIALS:\n          \"Erro de autenticação. Por favor, tente novamente.\",\n        ERR_SENDING_WAPP_MSG:\n          \"Erro ao enviar mensagem do WhatsApp. Verifique a página de conexões.\",\n        ERR_DELETE_WAPP_MSG: \"Não foi possível excluir a mensagem do WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET: \"Já existe um tíquete aberto para este contato.\",\n        ERR_SESSION_EXPIRED: \"Sessão expirada. Por favor entre.\",\n        ERR_USER_CREATION_DISABLED:\n          \"A criação do usuário foi desabilitada pelo administrador.\",\n        ERR_NO_PERMISSION: \"Você não tem permissão para acessar este recurso.\",\n        ERR_DUPLICATED_CONTACT: \"Já existe um contato com este número.\",\n        ERR_NO_SETTING_FOUND: \"Nenhuma configuração encontrada com este ID.\",\n        ERR_NO_CONTACT_FOUND: \"Nenhum contato encontrado com este ID.\",\n        ERR_NO_TICKET_FOUND: \"Nenhum tíquete encontrado com este ID.\",\n        ERR_NO_USER_FOUND: \"Nenhum usuário encontrado com este ID.\",\n        ERR_NO_WAPP_FOUND: \"Nenhum WhatsApp encontrado com este ID.\",\n        ERR_CREATING_MESSAGE: \"Erro ao criar mensagem no banco de dados.\",\n        ERR_CREATING_TICKET: \"Erro ao criar tíquete no banco de dados.\",\n        ERR_FETCH_WAPP_MSG:\n          \"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\n          \"Esta cor já está em uso, escolha outra.\",\n        ERR_WAPP_GREETING_REQUIRED:\n          \"A mensagem de saudação é obrigatório quando há mais de uma fila.\",\n      },\n    },\n  },\n};\n\nexport { messages };","import { messages as portugueseMessages } from \"./pt\";\nimport { messages as englishMessages } from \"./en\";\nimport { messages as spanishMessages } from \"./es\";\n\nconst messages = {\n\t...portugueseMessages,\n\t...englishMessages,\n\t...spanishMessages,\n};\n\nexport { messages };\n","const messages = {\n\ten: {\n\t\ttranslations: {\n\t\t\tsignup: {\n\t\t\t\ttitle: \"Sign up\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tsuccess: \"User created successfully! Please login!\",\n\t\t\t\t\tfail: \"Error creating user. Check the reported data.\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tpassword: \"Password\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tsubmit: \"Register\",\n\t\t\t\t\tlogin: \"Already have an account? Log in!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tlogin: {\n\t\t\t\ttitle: \"Login\",\n\t\t\t\tform: {\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tpassword: \"Password\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tsubmit: \"Enter\",\n\t\t\t\t\tregister: \"Don't have an account? Register!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tauth: {\n\t\t\t\ttoasts: {\n\t\t\t\t\tsuccess: \"Login successfully!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tdashboard: {\n\t\t\t\tcharts: {\n\t\t\t\t\tperDay: {\n\t\t\t\t\t\ttitle: \"Tickets today: \",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tconnections: {\n\t\t\t\ttitle: \"Connections\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"WhatsApp connection deleted sucessfully!\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\tdeleteMessage: \"Are you sure? It cannot be reverted.\",\n\t\t\t\t\tdisconnectTitle: \"Disconnect\",\n\t\t\t\t\tdisconnectMessage: \"Are you sure? You'll need to read QR Code again.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Add WhatsApp\",\n\t\t\t\t\tdisconnect: \"Disconnect\",\n\t\t\t\t\ttryAgain: \"Try Again\",\n\t\t\t\t\tqrcode: \"QR CODE\",\n\t\t\t\t\tnewQr: \"New QR CODE\",\n\t\t\t\t\tconnecting: \"Connectiing\",\n\t\t\t\t},\n\t\t\t\ttoolTips: {\n\t\t\t\t\tdisconnected: {\n\t\t\t\t\t\ttitle: \"Failed to start WhatsApp session\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Make sure your cell phone is connected to the internet and try again, or request a new QR Code\",\n\t\t\t\t\t},\n\t\t\t\t\tqrcode: {\n\t\t\t\t\t\ttitle: \"Waiting for QR Code read\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Click on 'QR CODE' button and read the QR Code with your cell phone to start session\",\n\t\t\t\t\t},\n\t\t\t\t\tconnected: {\n\t\t\t\t\t\ttitle: \"Connection established\",\n\t\t\t\t\t},\n\t\t\t\t\ttimeout: {\n\t\t\t\t\t\ttitle: \"Connection with cell phone has been lost\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Make sure your cell phone is connected to the internet and WhatsApp is open, or click on 'Disconnect' button to get a new QRcode\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tstatus: \"Status\",\n\t\t\t\t\tlastUpdate: \"Last Update\",\n\t\t\t\t\tdefault: \"Default\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t\tsession: \"Session\",\n\t\t\t\t},\n\t\t\t},\n\t\t\twhatsappModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add WhatsApp\",\n\t\t\t\t\tedit: \"Edit WhatsApp\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tdefault: \"Default\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"WhatsApp saved successfully.\",\n\t\t\t},\n\t\t\tqrCode: {\n\t\t\t\tmessage: \"Read QrCode to start the session\",\n\t\t\t},\n\t\t\tcontacts: {\n\t\t\t\ttitle: \"Contacts\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"Contact deleted sucessfully!\",\n\t\t\t\t},\n\t\t\t\tsearchPlaceholder: \"Search ...\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\timportTitlte: \"Import contacts\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"Are you sure you want to delete this contact? All related tickets will be lost.\",\n\t\t\t\t\timportMessage: \"Do you want to import all contacts from the phone?\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\timport: \"Import Contacts\",\n\t\t\t\t\tadd: \"Add Contact\",\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\twhatsapp: \"WhatsApp\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tcontactModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add contact\",\n\t\t\t\t\tedit: \"Edit contact\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tmainInfo: \"Contact details\",\n\t\t\t\t\textraInfo: \"Additional information\",\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tnumber: \"Whatsapp number\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\textraName: \"Field name\",\n\t\t\t\t\textraValue: \"Value\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\taddExtraInfo: \"Add information\",\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"Contact saved successfully.\",\n\t\t\t},\n\t\t\tqueueModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add queue\",\n\t\t\t\t\tedit: \"Edit queue\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tcolor: \"Color\",\n\t\t\t\t\tgreetingMessage: \"Greeting Message\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tuserModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add user\",\n\t\t\t\t\tedit: \"Edit user\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tpassword: \"Password\",\n\t\t\t\t\tprofile: \"Profile\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"User saved successfully.\",\n\t\t\t},\n\t\t\tchat: {\n\t\t\t\tnoTicketMessage: \"Select a ticket to start chatting.\",\n\t\t\t},\n\t\t\tticketsManager: {\n\t\t\t\tbuttons: {\n\t\t\t\t\tnewTicket: \"New\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tticketsQueueSelect: {\n\t\t\t\tplaceholder: \"Queues\",\n\t\t\t},\n\t\t\ttickets: {\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"The ticket you were on has been deleted.\",\n\t\t\t\t},\n\t\t\t\tnotification: {\n\t\t\t\t\tmessage: \"Message from\",\n\t\t\t\t},\n\t\t\t\ttabs: {\n\t\t\t\t\topen: { title: \"Inbox\" },\n\t\t\t\t\tclosed: { title: \"Resolved\" },\n\t\t\t\t\tsearch: { title: \"Search\" },\n\t\t\t\t},\n\t\t\t\tsearch: {\n\t\t\t\t\tplaceholder: \"Search tickets and messages.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tshowAll: \"All\",\n\t\t\t\t},\n\t\t\t},\n\t\t\ttransferTicketModal: {\n\t\t\t\ttitle: \"Transfer Ticket\",\n\t\t\t\tfieldLabel: \"Type to search for users\",\n\t\t\t\tnoOptions: \"No user found with this name\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tok: \"Transfer\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tticketsList: {\n\t\t\t\tpendingHeader: \"Queue\",\n\t\t\t\tassignedHeader: \"Working on\",\n\t\t\t\tnoTicketsTitle: \"Nothing here!\",\n\t\t\t\tnoTicketsMessage: \"No tickets found with this status or search term.\",\n\t\t\t\tbuttons: {\n\t\t\t\t\taccept: \"Accept\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tnewTicketModal: {\n\t\t\t\ttitle: \"Create Ticket\",\n\t\t\t\tfieldLabel: \"Type to search for a contact\",\n\t\t\t\tadd: \"Add\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tok: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tmainDrawer: {\n\t\t\t\tlistItems: {\n\t\t\t\t\tdashboard: \"Dashboard\",\n\t\t\t\t\tconnections: \"Connections\",\n\t\t\t\t\ttickets: \"Tickets\",\n\t\t\t\t\tcontacts: \"Contacts\",\n\t\t\t\t\tqueues: \"Queues\",\n\t\t\t\t\tadministration: \"Administration\",\n\t\t\t\t\tusers: \"Users\",\n\t\t\t\t\tsettings: \"Settings\",\n\t\t\t\t},\n\t\t\t\tappBar: {\n\t\t\t\t\tuser: {\n\t\t\t\t\t\tprofile: \"Profile\",\n\t\t\t\t\t\tlogout: \"Logout\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tnotifications: {\n\t\t\t\tnoTickets: \"No notifications.\",\n\t\t\t},\n\t\t\tqueues: {\n\t\t\t\ttitle: \"Queues\",\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tcolor: \"Color\",\n\t\t\t\t\tgreeting: \"Greeting message\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Add queue\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"Are you sure? It cannot be reverted! Tickets in this queue will still exist, but will not have any queues assigned.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tqueueSelect: {\n\t\t\t\tinputLabel: \"Queues\",\n\t\t\t},\n\t\t\tusers: {\n\t\t\t\ttitle: \"Users\",\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tprofile: \"Profile\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Add user\",\n\t\t\t\t},\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"User deleted sucessfully.\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"All user data will be lost. Users' open tickets will be moved to queue.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tsettings: {\n\t\t\t\tsuccess: \"Settings saved successfully.\",\n\t\t\t\ttitle: \"Settings\",\n\t\t\t\tsettings: {\n\t\t\t\t\tuserCreation: {\n\t\t\t\t\t\tname: \"User creation\",\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tenabled: \"Enabled\",\n\t\t\t\t\t\t\tdisabled: \"Disabled\",\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessagesList: {\n\t\t\t\theader: {\n\t\t\t\t\tassignedTo: \"Assigned to:\",\n\t\t\t\t\tbuttons: {\n\t\t\t\t\t\treturn: \"Return\",\n\t\t\t\t\t\tresolve: \"Resolve\",\n\t\t\t\t\t\treopen: \"Reopen\",\n\t\t\t\t\t\taccept: \"Accept\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessagesInput: {\n\t\t\t\tplaceholderOpen: \"Type a message\",\n\t\t\t\tplaceholderClosed: \"Reopen or accept this ticket to send a message.\",\n\t\t\t\tsignMessage: \"Sign\",\n\t\t\t},\n\t\t\tcontactDrawer: {\n\t\t\t\theader: \"Contact details\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tedit: \"Edit contact\",\n\t\t\t\t},\n\t\t\t\textraInfo: \"Other information\",\n\t\t\t},\n\t\t\tticketOptionsMenu: {\n\t\t\t\tdelete: \"Delete\",\n\t\t\t\ttransfer: \"Transfer\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\ttitle: \"Delete ticket #\",\n\t\t\t\t\ttitleFrom: \"from contact \",\n\t\t\t\t\tmessage: \"Attention! All ticket's related messages will be lost.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tdelete: \"Delete\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tconfirmationModal: {\n\t\t\t\tbuttons: {\n\t\t\t\t\tconfirm: \"Ok\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessageOptionsMenu: {\n\t\t\t\tdelete: \"Delete\",\n\t\t\t\treply: \"Reply\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\ttitle: \"Delete message?\",\n\t\t\t\t\tmessage: \"This action cannot be reverted.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tbackendErrors: {\n\t\t\t\tERR_NO_OTHER_WHATSAPP:\n\t\t\t\t\t\"There must be at lest one default WhatsApp connection.\",\n\t\t\t\tERR_NO_DEF_WAPP_FOUND:\n\t\t\t\t\t\"No default WhatsApp found. Check connections page.\",\n\t\t\t\tERR_WAPP_NOT_INITIALIZED:\n\t\t\t\t\t\"This WhatsApp session is not initialized. Check connections page.\",\n\t\t\t\tERR_WAPP_CHECK_CONTACT:\n\t\t\t\t\t\"Could not check WhatsApp contact. Check connections page.\",\n\t\t\t\tERR_WAPP_INVALID_CONTACT: \"This is not a valid whatsapp number.\",\n\t\t\t\tERR_WAPP_DOWNLOAD_MEDIA:\n\t\t\t\t\t\"Could not download media from WhatsApp. Check connections page.\",\n\t\t\t\tERR_INVALID_CREDENTIALS: \"Authentication error. Please try again.\",\n\t\t\t\tERR_SENDING_WAPP_MSG:\n\t\t\t\t\t\"Error sending WhatsApp message. Check connections page.\",\n\t\t\t\tERR_DELETE_WAPP_MSG: \"Couldn't delete message from WhatsApp.\",\n\t\t\t\tERR_OTHER_OPEN_TICKET:\n\t\t\t\t\t\"There's already an open ticket for this contact.\",\n\t\t\t\tERR_SESSION_EXPIRED: \"Session expired. Please login.\",\n\t\t\t\tERR_USER_CREATION_DISABLED:\n\t\t\t\t\t\"User creation was disabled by administrator.\",\n\t\t\t\tERR_NO_PERMISSION: \"You don't have permission to access this resource.\",\n\t\t\t\tERR_DUPLICATED_CONTACT: \"A contact with this number already exists.\",\n\t\t\t\tERR_NO_SETTING_FOUND: \"No setting found with this ID.\",\n\t\t\t\tERR_NO_CONTACT_FOUND: \"No contact found with this ID.\",\n\t\t\t\tERR_NO_TICKET_FOUND: \"No ticket found with this ID.\",\n\t\t\t\tERR_NO_USER_FOUND: \"No user found with this ID.\",\n\t\t\t\tERR_NO_WAPP_FOUND: \"No WhatsApp found with this ID.\",\n\t\t\t\tERR_CREATING_MESSAGE: \"Error while creating message on database.\",\n\t\t\t\tERR_CREATING_TICKET: \"Error while creating ticket on database.\",\n\t\t\t\tERR_FETCH_WAPP_MSG:\n\t\t\t\t\t\"Error fetching the message in WhtasApp, maybe it is too old.\",\n\t\t\t\tERR_QUEUE_COLOR_ALREADY_EXISTS:\n\t\t\t\t\t\"This color is already in use, pick another one.\",\n\t\t\t\tERR_WAPP_GREETING_REQUIRED:\n\t\t\t\t\t\"Greeting message is required if there is more than one queue.\",\n\t\t\t},\n\t\t},\n\t},\n};\n\nexport { messages };\n","const messages = {\n\tes: {\n\t\ttranslations: {\n\t\t\tsignup: {\n\t\t\t\ttitle: \"Registro\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tsuccess:\n\t\t\t\t\t\t\"¡El usuario ha sido creado satisfactoriamente! ¡Ahora inicia sesión!\",\n\t\t\t\t\tfail: \"Error creando el usuario. Verifica la data reportada.\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\temail: \"Correo Electrónico\",\n\t\t\t\t\tpassword: \"Contraseña\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tsubmit: \"Regístrate\",\n\t\t\t\t\tlogin: \"¿Ya tienes una cuenta? ¡Inicia sesión!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tlogin: {\n\t\t\t\ttitle: \"Inicio de Sesión\",\n\t\t\t\tform: {\n\t\t\t\t\temail: \"Correo Electrónico\",\n\t\t\t\t\tpassword: \"Contraseña\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tsubmit: \"Ingresa\",\n\t\t\t\t\tregister: \"¿No tienes cuenta? ¡Regístrate!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tauth: {\n\t\t\t\ttoasts: {\n\t\t\t\t\tsuccess: \"¡Inicio de sesión exitoso!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tdashboard: {\n\t\t\t\tcharts: {\n\t\t\t\t\tperDay: {\n\t\t\t\t\t\ttitle: \"Tickets hoy: \",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tconnections: {\n\t\t\t\ttitle: \"Conexiones\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted:\n\t\t\t\t\t\t\"¡La conexión de WhatsApp ha sido borrada satisfactoriamente!\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Borrar\",\n\t\t\t\t\tdeleteMessage: \"¿Estás seguro? Este proceso no puede ser revertido.\",\n\t\t\t\t\tdisconnectTitle: \"Desconectar\",\n\t\t\t\t\tdisconnectMessage: \"Estás seguro? Deberá volver a leer el código QR\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Agrega WhatsApp\",\n\t\t\t\t\tdisconnect: \"Desconectar\",\n\t\t\t\t\ttryAgain: \"Inténtalo de nuevo\",\n\t\t\t\t\tqrcode: \"QR CODE\",\n\t\t\t\t\tnewQr: \"Nuevo QR CODE\",\n\t\t\t\t\tconnecting: \"Conectando\",\n\t\t\t\t},\n\t\t\t\ttoolTips: {\n\t\t\t\t\tdisconnected: {\n\t\t\t\t\t\ttitle: \"No se pudo iniciar la sesión de WhatsApp\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Asegúrese de que su teléfono celular esté conectado a Internet y vuelva a intentarlo o solicite un nuevo código QR\",\n\t\t\t\t\t},\n\t\t\t\t\tqrcode: {\n\t\t\t\t\t\ttitle: \"Esperando la lectura del código QR\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Haga clic en el botón 'CÓDIGO QR' y lea el Código QR con su teléfono celular para iniciar la sesión\",\n\t\t\t\t\t},\n\t\t\t\t\tconnected: {\n\t\t\t\t\t\ttitle: \"Conexión establecida\",\n\t\t\t\t\t},\n\t\t\t\t\ttimeout: {\n\t\t\t\t\t\ttitle: \"Se perdió la conexión con el teléfono celular\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Asegúrese de que su teléfono celular esté conectado a Internet y que WhatsApp esté abierto, o haga clic en el botón 'Desconectar' para obtener un nuevo código QR\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tstatus: \"Estado\",\n\t\t\t\t\tlastUpdate: \"Última Actualización\",\n\t\t\t\t\tdefault: \"Por Defecto\",\n\t\t\t\t\tactions: \"Acciones\",\n\t\t\t\t\tsession: \"Sesión\",\n\t\t\t\t},\n\t\t\t},\n\t\t\twhatsappModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Agrega WhatsApp\",\n\t\t\t\t\tedit: \"Edita WhatsApp\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tdefault: \"Por Defecto\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Agregar\",\n\t\t\t\t\tokEdit: \"Guardar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"WhatsApp guardado satisfactoriamente.\",\n\t\t\t},\n\t\t\tqrCode: {\n\t\t\t\tmessage: \"Lée el código QR para empezar la sesión.\",\n\t\t\t},\n\t\t\tcontacts: {\n\t\t\t\ttitle: \"Contactos\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"¡Contacto borrado satisfactoriamente!\",\n\t\t\t\t},\n\t\t\t\tsearchPlaceholder: \"Buscar...\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Borrar\",\n\t\t\t\t\timportTitlte: \"Importar contactos\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"¿Estás seguro que deseas borrar este contacto? Todos los tickets relacionados se perderán.\",\n\t\t\t\t\timportMessage:\n\t\t\t\t\t\t\"¿Quieres importar todos los contactos desde tu teléfono?\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\timport: \"Importar Contactos\",\n\t\t\t\t\tadd: \"Agregar Contacto\",\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\twhatsapp: \"WhatsApp\",\n\t\t\t\t\temail: \"Correo Electrónico\",\n\t\t\t\t\tactions: \"Acciones\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tcontactModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Agregar contacto\",\n\t\t\t\t\tedit: \"Editar contacto\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tmainInfo: \"Detalles del contacto\",\n\t\t\t\t\textraInfo: \"Información adicional\",\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tnumber: \"Número de Whatsapp\",\n\t\t\t\t\temail: \"Correo Electrónico\",\n\t\t\t\t\textraName: \"Nombre del Campo\",\n\t\t\t\t\textraValue: \"Valor\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\taddExtraInfo: \"Agregar información\",\n\t\t\t\t\tokAdd: \"Agregar\",\n\t\t\t\t\tokEdit: \"Guardar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"Contacto guardado satisfactoriamente.\",\n\t\t\t},\n\t\t\tqueueModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Agregar cola\",\n\t\t\t\t\tedit: \"Editar cola\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tcolor: \"Color\",\n\t\t\t\t\tgreetingMessage: \"Mensaje de saludo\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Añadir\",\n\t\t\t\t\tokEdit: \"Ahorrar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t\tattach: \"Anexar Arquivo\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tuserModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Agregar usuario\",\n\t\t\t\t\tedit: \"Editar usuario\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\temail: \"Correo Electrónico\",\n\t\t\t\t\tpassword: \"Contraseña\",\n\t\t\t\t\tprofile: \"Perfil\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Agregar\",\n\t\t\t\t\tokEdit: \"Guardar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"Usuario guardado satisfactoriamente.\",\n\t\t\t},\n\t\t\tchat: {\n\t\t\t\tnoTicketMessage: \"Selecciona un ticket para empezar a chatear.\",\n\t\t\t},\n\t\t\tticketsManager: {\n\t\t\t\tbuttons: {\n\t\t\t\t\tnewTicket: \"Nuevo\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tticketsQueueSelect: {\n\t\t\t\tplaceholder: \"Linhas\",\n\t\t\t},\n\t\t\ttickets: {\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"El ticket en el que estabas ha sido borrado.\",\n\t\t\t\t},\n\t\t\t\tnotification: {\n\t\t\t\t\tmessage: \"Mensaje de\",\n\t\t\t\t},\n\t\t\t\ttabs: {\n\t\t\t\t\topen: { title: \"Bandeja\" },\n\t\t\t\t\tclosed: { title: \"Resueltos\" },\n\t\t\t\t\tsearch: { title: \"Buscar\" },\n\t\t\t\t},\n\t\t\t\tsearch: {\n\t\t\t\t\tplaceholder: \"Buscar tickets y mensajes.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tshowAll: \"Todos\",\n\t\t\t\t},\n\t\t\t},\n\t\t\ttransferTicketModal: {\n\t\t\t\ttitle: \"Transferir Ticket\",\n\t\t\t\tfieldLabel: \"Escriba para buscar usuarios\",\n\t\t\t\tnoOptions: \"No se encontraron usuarios con ese nombre\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tok: \"Transferir\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tticketsList: {\n\t\t\t\tpendingHeader: \"Cola\",\n\t\t\t\tassignedHeader: \"Trabajando en\",\n\t\t\t\tnoTicketsTitle: \"¡Nada acá!\",\n\t\t\t\tnoTicketsMessage:\n\t\t\t\t\t\"No se encontraron tickets con este estado o término de búsqueda\",\n\t\t\t\tbuttons: {\n\t\t\t\t\taccept: \"Acceptar\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tnewTicketModal: {\n\t\t\t\ttitle: \"Crear Ticket\",\n\t\t\t\tfieldLabel: \"Escribe para buscar un contacto\",\n\t\t\t\tadd: \"Añadir\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tok: \"Guardar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tmainDrawer: {\n\t\t\t\tlistItems: {\n\t\t\t\t\tdashboard: \"Dashboard\",\n\t\t\t\t\tconnections: \"Conexiones\",\n\t\t\t\t\ttickets: \"Tickets\",\n\t\t\t\t\tcontacts: \"Contactos\",\n\t\t\t\t\tqueues: \"Linhas\",\n\t\t\t\t\tadministration: \"Administración\",\n\t\t\t\t\tusers: \"Usuarios\",\n\t\t\t\t\tsettings: \"Configuración\",\n\t\t\t\t},\n\t\t\t\tappBar: {\n\t\t\t\t\tuser: {\n\t\t\t\t\t\tprofile: \"Perfil\",\n\t\t\t\t\t\tlogout: \"Cerrar Sesión\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tnotifications: {\n\t\t\t\tnoTickets: \"Sin notificaciones.\",\n\t\t\t},\n\t\t\tqueues: {\n\t\t\t\ttitle: \"Linhas\",\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tcolor: \"Color\",\n\t\t\t\t\tgreeting: \"Mensaje de saludo\",\n\t\t\t\t\tactions: \"Comportamiento\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Agregar cola\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Eliminar\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"¿Estás seguro? ¡Esta acción no se puede revertir! Los tickets en esa cola seguirán existiendo, pero ya no tendrán ninguna cola asignada.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tqueueSelect: {\n\t\t\t\tinputLabel: \"Linhas\",\n\t\t\t},\n\t\t\tusers: {\n\t\t\t\ttitle: \"Usuarios\",\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\temail: \"Correo Electrónico\",\n\t\t\t\t\tprofile: \"Perfil\",\n\t\t\t\t\tactions: \"Acciones\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Agregar usuario\",\n\t\t\t\t},\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"Usuario borrado satisfactoriamente.\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Borrar\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"Toda la información del usuario se perderá. Los tickets abiertos de los usuarios se moverán a la cola.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tsettings: {\n\t\t\t\tsuccess: \"Configuración guardada satisfactoriamente.\",\n\t\t\t\ttitle: \"Configuración\",\n\t\t\t\tsettings: {\n\t\t\t\t\tuserCreation: {\n\t\t\t\t\t\tname: \"Creación de usuarios\",\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tenabled: \"Habilitado\",\n\t\t\t\t\t\t\tdisabled: \"Deshabilitado\",\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessagesList: {\n\t\t\t\theader: {\n\t\t\t\t\tassignedTo: \"Asignado a:\",\n\t\t\t\t\tbuttons: {\n\t\t\t\t\t\treturn: \"Devolver\",\n\t\t\t\t\t\tresolve: \"Resolver\",\n\t\t\t\t\t\treopen: \"Reabrir\",\n\t\t\t\t\t\taccept: \"Aceptar\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessagesInput: {\n\t\t\t\tplaceholderOpen: \"Escribe un mensaje\",\n\t\t\t\tplaceholderClosed:\n\t\t\t\t\t\"Vuelva a abrir o acepte este ticket para enviar un mensaje.\",\n\t\t\t\tsignMessage: \"Firmar\",\n\t\t\t},\n\t\t\tcontactDrawer: {\n\t\t\t\theader: \"Detalles del contacto\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tedit: \"Editar contacto\",\n\t\t\t\t},\n\t\t\t\textraInfo: \"Otra información\",\n\t\t\t},\n\t\t\tticketOptionsMenu: {\n\t\t\t\tdelete: \"Borrar\",\n\t\t\t\ttransfer: \"Transferir\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\ttitle: \"¿Borrar ticket #\",\n\t\t\t\t\ttitleFrom: \"del contacto \",\n\t\t\t\t\tmessage:\n\t\t\t\t\t\t\"¡Atención! Todos los mensajes Todos los mensajes relacionados con el ticket se perderán.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tdelete: \"Borrar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tconfirmationModal: {\n\t\t\t\tbuttons: {\n\t\t\t\t\tconfirm: \"Ok\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessageOptionsMenu: {\n\t\t\t\tdelete: \"Borrar\",\n\t\t\t\treply: \"Responder\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\ttitle: \"¿Borrar mensaje?\",\n\t\t\t\t\tmessage: \"Esta acción no puede ser revertida.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tbackendErrors: {\n\t\t\t\tERR_NO_OTHER_WHATSAPP:\n\t\t\t\t\t\"Debe haber al menos una conexión de WhatsApp predeterminada.\",\n\t\t\t\tERR_NO_DEF_WAPP_FOUND:\n\t\t\t\t\t\"No se encontró WhatsApp predeterminado. Verifique la página de conexiones.\",\n\t\t\t\tERR_WAPP_NOT_INITIALIZED:\n\t\t\t\t\t\"Esta sesión de WhatsApp no ​​está inicializada. Verifique la página de conexiones.\",\n\t\t\t\tERR_WAPP_CHECK_CONTACT:\n\t\t\t\t\t\"No se pudo verificar el contacto de WhatsApp. Verifique la página de conexiones.\",\n\t\t\t\tERR_WAPP_INVALID_CONTACT: \"Este no es un número de whatsapp válido.\",\n\t\t\t\tERR_WAPP_DOWNLOAD_MEDIA:\n\t\t\t\t\t\"No se pudieron descargar los medios de WhatsApp. Verifique la página de conexiones.\",\n\t\t\t\tERR_INVALID_CREDENTIALS: \"Error de autenticación. Vuelva a intentarlo.\",\n\t\t\t\tERR_SENDING_WAPP_MSG:\n\t\t\t\t\t\"Error al enviar el mensaje de WhatsApp. Verifique la página de conexiones.\",\n\t\t\t\tERR_DELETE_WAPP_MSG: \"No se pudo borrar el mensaje de WhatsApp.\",\n\t\t\t\tERR_OTHER_OPEN_TICKET: \"Ya hay un ticket abierto para este contacto.\",\n\t\t\t\tERR_SESSION_EXPIRED: \"Sesión caducada. Inicie sesión.\",\n\t\t\t\tERR_USER_CREATION_DISABLED:\n\t\t\t\t\t\"La creación de usuarios fue deshabilitada por el administrador.\",\n\t\t\t\tERR_NO_PERMISSION: \"No tienes permiso para acceder a este recurso.\",\n\t\t\t\tERR_DUPLICATED_CONTACT: \"Ya existe un contacto con este número.\",\n\t\t\t\tERR_NO_SETTING_FOUND:\n\t\t\t\t\t\"No se encontró ninguna configuración con este ID.\",\n\t\t\t\tERR_NO_CONTACT_FOUND: \"No se encontró ningún contacto con este ID.\",\n\t\t\t\tERR_NO_TICKET_FOUND: \"No se encontró ningún ticket con este ID.\",\n\t\t\t\tERR_NO_USER_FOUND: \"No se encontró ningún usuario con este ID.\",\n\t\t\t\tERR_NO_WAPP_FOUND: \"No se encontró WhatsApp con este ID.\",\n\t\t\t\tERR_CREATING_MESSAGE: \"Error al crear el mensaje en la base de datos.\",\n\t\t\t\tERR_CREATING_TICKET: \"Error al crear el ticket en la base de datos.\",\n\t\t\t\tERR_FETCH_WAPP_MSG:\n\t\t\t\t\t\"Error al obtener el mensaje en WhtasApp, tal vez sea demasiado antiguo.\",\n\t\t\t\tERR_QUEUE_COLOR_ALREADY_EXISTS:\n\t\t\t\t\t\"Este color ya está en uso, elija otro.\",\n\t\t\t\tERR_WAPP_GREETING_REQUIRED:\n\t\t\t\t\t\"El mensaje de saludo es obligatorio cuando hay más de una cola.\",\n\t\t\t},\n\t\t},\n\t},\n};\n\nexport { messages };\n","import i18n from \"i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\n\nimport { messages } from \"./languages\";\n\ni18n.use(LanguageDetector).init({\n\tdebug: false,\n\tdefaultNS: [\"translations\"],\n\tfallbackLng: \"pt\",\n\tns: [\"translations\"],\n\tresources: messages,\n});\n\nexport { i18n };\n","import { toast } from \"react-toastify\";\nimport { i18n } from \"../translate/i18n\";\nimport { isString } from 'lodash';\n\nconst toastError = err => {\n\tconst errorMsg = err.response?.data?.error;\n\tif (errorMsg) {\n\t\tif (i18n.exists(`backendErrors.${errorMsg}`)) {\n\t\t\ttoast.error(i18n.t(`backendErrors.${errorMsg}`), {\n\t\t\t\ttoastId: errorMsg,\n\t\t\t\tautoClose: 2000,\n\t\t\t\thideProgressBar: false,\n\t\t\t\tcloseOnClick: true,\n\t\t\t\tpauseOnHover: false,\n\t\t\t\tdraggable: true,\n\t\t\t\tprogress: undefined,\n\t\t\t\ttheme: \"light\",\n\t\t\t});\n\t\t\treturn\n\t\t} else {\n\t\t\ttoast.error(errorMsg, {\n\t\t\t\ttoastId: errorMsg,\n\t\t\t\tautoClose: 2000,\n\t\t\t\thideProgressBar: false,\n\t\t\t\tcloseOnClick: true,\n\t\t\t\tpauseOnHover: false,\n\t\t\t\tdraggable: true,\n\t\t\t\tprogress: undefined,\n\t\t\t\ttheme: \"light\",\n\t\t\t});\n\t\t\treturn\n\t\t}\n\t} if (isString(err)) {\n\t\ttoast.error(err);\n\t\treturn\n\t} else {\n\t\ttoast.error(\"An error occurred!\");\n\t\treturn\n\t}\n};\n\nexport default toastError;\n","import axios from \"axios\";\n\nconst api = axios.create({\n\tbaseURL: process.env.REACT_APP_BACKEND_URL,\n\twithCredentials: true,\n});\n\nexport const openApi = axios.create({\n\tbaseURL: process.env.REACT_APP_BACKEND_URL\n});\n\nexport default api;\n","import openSocket from \"socket.io-client\";\nimport { isObject } from \"lodash\";\n\nexport function socketConnection(params) {\n  let userId = null;\n  if (localStorage.getItem(\"userId\")) {\n    userId = localStorage.getItem(\"userId\");\n  }\n  return openSocket(process.env.REACT_APP_BACKEND_URL, {\n    transports: [\"websocket\", \"polling\", \"flashsocket\"],\n    pingTimeout: 18000,\n    pingInterval: 18000,\n    query: isObject(params) ? { ...params} : { userId: params.userId },\n  });\n}\n","import { useState, useEffect, useReducer } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_WHATSAPPS\") {\n    const whatsApps = action.payload;\n\n    return [...whatsApps];\n  }\n\n  if (action.type === \"UPDATE_WHATSAPPS\") {\n    const whatsApp = action.payload;\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsApp.id);\n\n    if (whatsAppIndex !== -1) {\n      state[whatsAppIndex] = whatsApp;\n      return [...state];\n    } else {\n      return [whatsApp, ...state];\n    }\n  }\n\n  if (action.type === \"UPDATE_SESSION\") {\n    const whatsApp = action.payload;\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsApp.id);\n\n    if (whatsAppIndex !== -1) {\n      state[whatsAppIndex].status = whatsApp.status;\n      state[whatsAppIndex].updatedAt = whatsApp.updatedAt;\n      state[whatsAppIndex].qrcode = whatsApp.qrcode;\n      state[whatsAppIndex].retries = whatsApp.retries;\n      return [...state];\n    } else {\n      return [...state];\n    }\n  }\n\n  if (action.type === \"DELETE_WHATSAPPS\") {\n    const whatsAppId = action.payload;\n\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsAppId);\n    if (whatsAppIndex !== -1) {\n      state.splice(whatsAppIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useWhatsApps = () => {\n  const [whatsApps, dispatch] = useReducer(reducer, []);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    setLoading(true);\n    const fetchSession = async () => {\n      try {\n        const { data } = await api.get(\"/whatsapp/?session=0\");\n        dispatch({ type: \"LOAD_WHATSAPPS\", payload: data });\n        setLoading(false);\n      } catch (err) {\n        setLoading(false);\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, []);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-whatsapp`, (data) => {\n      if (data.action === \"update\") {\n        dispatch({ type: \"UPDATE_WHATSAPPS\", payload: data.whatsapp });\n      }\n    });\n\n    socket.on(`company-${companyId}-whatsapp`, (data) => {\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_WHATSAPPS\", payload: data.whatsappId });\n      }\n    });\n\n    socket.on(`company-${companyId}-whatsappSession`, (data) => {\n      if (data.action === \"update\") {\n        dispatch({ type: \"UPDATE_SESSION\", payload: data.session });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  return { whatsApps, loading };\n};\n\nexport default useWhatsApps;\n","import React, { createContext } from \"react\";\n\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\n\nconst WhatsAppsContext = createContext();\n\nconst WhatsAppsProvider = ({ children }) => {\n\tconst { loading, whatsApps } = useWhatsApps();\n\n\treturn (\n\t\t<WhatsAppsContext.Provider value={{ whatsApps, loading }}>\n\t\t\t{children}\n\t\t</WhatsAppsContext.Provider>\n\t);\n};\n\nexport { WhatsAppsContext, WhatsAppsProvider };\n","import { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { has, isArray } from \"lodash\";\n\nimport { toast } from \"react-toastify\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { socketConnection } from \"../../services/socket\";\nimport moment from \"moment\";\nconst useAuth = () => {\n  const history = useHistory();\n  const [isAuth, setIsAuth] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [user, setUser] = useState({});\n\n  api.interceptors.request.use(\n    (config) => {\n      const token = localStorage.getItem(\"token\");\n      if (token) {\n        config.headers[\"Authorization\"] = `Bearer ${JSON.parse(token)}`;\n        setIsAuth(true);\n      }\n      return config;\n    },\n    (error) => {\n      Promise.reject(error);\n    }\n  );\n\n  api.interceptors.response.use(\n    (response) => {\n      return response;\n    },\n    async (error) => {\n      const originalRequest = error.config;\n      if (error?.response?.status === 403 && !originalRequest._retry) {\n        originalRequest._retry = true;\n\n        const { data } = await api.post(\"/auth/refresh_token\");\n        if (data) {\n          localStorage.setItem(\"token\", JSON.stringify(data.token));\n          api.defaults.headers.Authorization = `Bearer ${data.token}`;\n        }\n        return api(originalRequest);\n      }\n      if (error?.response?.status === 401) {\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"companyId\");\n        api.defaults.headers.Authorization = undefined;\n        setIsAuth(false);\n      }\n      return Promise.reject(error);\n    }\n  );\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    (async () => {\n      if (token) {\n        try {\n          const { data } = await api.post(\"/auth/refresh_token\");\n          api.defaults.headers.Authorization = `Bearer ${data.token}`;\n          setIsAuth(true);\n          setUser(data.user);\n        } catch (err) {\n          toastError(err);\n        }\n      }\n      setLoading(false);\n    })();\n  }, []);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    if (companyId) {\n   \n    const socket = socketConnection({ companyId });\n\n      socket.on(`company-${companyId}-user`, (data) => {\n        if (data.action === \"update\" && data.user.id === user.id) {\n          setUser(data.user);\n        }\n      });\n    \n    \n    return () => {\n      socket.disconnect();\n    };\n  }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [user]);\n\n  const handleLogin = async (userData) => {\n    setLoading(true);\n\n    try {\n      const { data } = await api.post(\"/auth/login\", userData);\n      const {\n        user: { companyId, id, company },\n      } = data;\n\n      if (has(company, \"settings\") && isArray(company.settings)) {\n        const setting = company.settings.find(\n          (s) => s.key === \"campaignsEnabled\"\n        );\n        if (setting && setting.value === \"true\") {\n          localStorage.setItem(\"cshow\", null); //regra pra exibir campanhas\n        }\n      }\n\n      moment.locale('pt-br');\n      const dueDate = data.user.company.dueDate;\n      const hoje = moment(moment()).format(\"DD/MM/yyyy\");\n      const vencimento = moment(dueDate).format(\"DD/MM/yyyy\");\n\n      var diff = moment(dueDate).diff(moment(moment()).format());\n\n      var before = moment(moment().format()).isBefore(dueDate);\n      var dias = moment.duration(diff).asDays();\n\n      if (before === true) {\n        localStorage.setItem(\"token\", JSON.stringify(data.token));\n        localStorage.setItem(\"companyId\", companyId);\n        localStorage.setItem(\"userId\", id);\n        localStorage.setItem(\"companyDueDate\", vencimento);\n        api.defaults.headers.Authorization = `Bearer ${data.token}`;\n        setUser(data.user);\n        setIsAuth(true);\n        toast.success(i18n.t(\"auth.toasts.success\"));\n        if (Math.round(dias) < 5) {\n          toast.warn(`Sua assinatura vence em ${Math.round(dias)} ${Math.round(dias) === 1 ? 'dia' : 'dias'} `);\n        }\n        history.push(\"/tickets\");\n        setLoading(false);\n      } else {\n        toastError(`Opss! Sua assinatura venceu ${vencimento}.\nEntre em contato com o Suporte para mais informações! `);\n        setLoading(false);\n      }\n\n      //quebra linha \n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const handleLogout = async () => {\n    setLoading(true);\n\n    try {\n      await api.delete(\"/auth/logout\");\n      setIsAuth(false);\n      setUser({});\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"companyId\");\n      localStorage.removeItem(\"userId\");\n      localStorage.removeItem(\"cshow\");\n      api.defaults.headers.Authorization = undefined;\n      setLoading(false);\n      history.push(\"/login\");\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const getCurrentUserInfo = async () => {\n    try {\n      const { data } = await api.get(\"/auth/me\");\n      return data;\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return {\n    isAuth,\n    user,\n    loading,\n    handleLogin,\n    handleLogout,\n    getCurrentUserInfo,\n  };\n};\n\nexport default useAuth;\n","import React, { createContext } from \"react\";\n\nimport useAuth from \"../../hooks/useAuth.js\";\n\nconst AuthContext = createContext();\n\nconst AuthProvider = ({ children }) => {\n\tconst { loading, user, isAuth, handleLogin, handleLogout } = useAuth();\n\n\treturn (\n\t\t<AuthContext.Provider\n\t\t\tvalue={{ loading, user, isAuth, handleLogin, handleLogout }}\n\t\t>\n\t\t\t{children}\n\t\t</AuthContext.Provider>\n\t);\n};\n\nexport { AuthContext, AuthProvider };\n","const rules = {\n\tuser: {\n\t\tstatic: [],\n\t},\n\n\tadmin: {\n\t\tstatic: [\n\t\t\t\"dashboard:view\",\n\t\t\t\"drawer-admin-items:view\",\n\t\t\t\"tickets-manager:showall\",\n\t\t\t\"user-modal:editProfile\",\n\t\t\t\"user-modal:editQueues\",\n\t\t\t\"ticket-options:deleteTicket\",\n\t\t\t\"contacts-page:deleteContact\",\n\t\t\t\"connections-page:actionButtons\",\n\t\t\t\"connections-page:addConnection\",\n\t\t\t\"connections-page:editOrDeleteConnection\"\n\t\t],\n\t},\n};\n\nexport default rules;\n","import rules from \"../../rules\";\n\nconst check = (role, action, data) => {\n\tconst permissions = rules[role];\n\tif (!permissions) {\n\t\t// role is not present in the rules\n\t\treturn false;\n\t}\n\n\tconst staticPermissions = permissions.static;\n\n\tif (staticPermissions && staticPermissions.includes(action)) {\n\t\t// static rule not provided for action\n\t\treturn true;\n\t}\n\n\tconst dynamicPermissions = permissions.dynamic;\n\n\tif (dynamicPermissions) {\n\t\tconst permissionCondition = dynamicPermissions[action];\n\t\tif (!permissionCondition) {\n\t\t\t// dynamic rule not provided for action\n\t\t\treturn false;\n\t\t}\n\n\t\treturn permissionCondition(data);\n\t}\n\treturn false;\n};\n\nconst Can = ({ role, perform, data, yes, no }) =>\n\tcheck(role, perform, data) ? yes() : no();\n\nCan.defaultProps = {\n\tyes: () => null,\n\tno: () => null,\n};\n\nexport { Can };\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\n\nconst useStyles = makeStyles({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: '2rem'\n  },\n  inputContainer: {\n    display: 'flex',\n    width: '100%',\n    marginBottom: '1rem'\n  },\n  input: {\n    flexGrow: 1,\n    marginRight: '1rem'\n  },\n  listContainer: {\n    width: '100%',\n    height: '100%',\n    marginTop: '1rem',\n    backgroundColor: '#f5f5f5',\n    borderRadius: '5px',\n  },\n  list: {\n    marginBottom: '5px'\n  }\n});\n\nconst ToDoList = () => {\n  const classes = useStyles();\n\n  const [task, setTask] = useState('');\n  const [tasks, setTasks] = useState([]);\n  const [editIndex, setEditIndex] = useState(-1);\n\n  useEffect(() => {\n    const savedTasks = localStorage.getItem('tasks');\n    if (savedTasks) {\n      setTasks(JSON.parse(savedTasks));\n    }\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem('tasks', JSON.stringify(tasks));\n  }, [tasks]);\n\n  const handleTaskChange = (event) => {\n    setTask(event.target.value);\n  };\n\n  const handleAddTask = () => {\n    if (!task.trim()) {\n      // Impede que o usuário crie uma tarefa sem texto\n      return;\n    }\n\n    const now = new Date();\n    if (editIndex >= 0) {\n      // Editar tarefa existente\n      const newTasks = [...tasks];\n      newTasks[editIndex] = {text: task, updatedAt: now, createdAt: newTasks[editIndex].createdAt};\n      setTasks(newTasks);\n      setTask('');\n      setEditIndex(-1);\n    } else {\n      // Adicionar nova tarefa\n      setTasks([...tasks, {text: task, createdAt: now, updatedAt: now}]);\n      setTask('');\n    }\n  };\n\n  const handleEditTask = (index) => {\n    setTask(tasks[index].text);\n    setEditIndex(index);\n  };\n\n  const handleDeleteTask = (index) => {\n    const newTasks = [...tasks];\n    newTasks.splice(index, 1);\n    setTasks(newTasks);\n  };\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.inputContainer}>\n        <TextField\n          className={classes.input}\n          label=\"Nova tarefa\"\n          value={task}\n          onChange={handleTaskChange}\n          variant=\"outlined\"\n        />\n        <Button variant=\"contained\" color=\"primary\" onClick={handleAddTask}>\n          {editIndex >= 0 ? 'Salvar' : 'Adicionar'}\n        </Button>\n      </div>\n      <div className={classes.listContainer}>\n        <List>\n          {tasks.map((task, index) => (\n            <ListItem key={index} className={classes.list}>\n              <ListItemText primary={task.text} secondary={task.updatedAt.toLocaleString()} />\n              <ListItemSecondaryAction>\n                <IconButton onClick={() => handleEditTask(index)}>\n                  <EditIcon />\n                </IconButton>\n                <IconButton onClick={() => handleDeleteTask(index)}>\n                  <DeleteIcon />\n                </IconButton>\n              </ListItemSecondaryAction>\n            </ListItem>\n          ))}\n        </List>\n      </div>\n    </div>\n  );\n};\n\n\nexport default ToDoList;\n","import api, { openApi } from \"../../services/api\";\n\nconst usePlans = () => {\n\n    const getPlanList = async (params) => {\n        const { data } = await openApi.request({\n            url: '/plans/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const list = async (params) => {\n        const { data } = await api.request({\n            url: '/plans/all',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const finder = async (id) => {\n        const { data } = await api.request({\n            url: `/plans/${id}`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/plans',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/plans/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const remove = async (id) => {\n        const { data } = await api.request({\n            url: `/plans/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const getPlanCompany = async (params, id) => {\n        const { data } = await api.request({\n            url: `/companies/listPlan/${id}`,\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        getPlanList,\n        list,\n        save,\n        update,\n        finder,\n        remove,\n        getPlanCompany\n    }\n}\n\nexport default usePlans;","import React, { useContext, useEffect, useReducer, useState } from \"react\";\nimport { Link as RouterLink, useHistory } from \"react-router-dom\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { Badge, Collapse, List } from \"@material-ui/core\";\nimport DashboardOutlinedIcon from \"@material-ui/icons/DashboardOutlined\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport SyncAltIcon from \"@material-ui/icons/SyncAlt\";\nimport SettingsOutlinedIcon from \"@material-ui/icons/SettingsOutlined\";\nimport PeopleAltOutlinedIcon from \"@material-ui/icons/PeopleAltOutlined\";\nimport ContactPhoneOutlinedIcon from \"@material-ui/icons/ContactPhoneOutlined\";\nimport AccountTreeOutlinedIcon from \"@material-ui/icons/AccountTreeOutlined\";\nimport FlashOnIcon from \"@material-ui/icons/FlashOn\";\nimport HelpOutlineIcon from \"@material-ui/icons/HelpOutline\";\nimport CodeRoundedIcon from \"@material-ui/icons/CodeRounded\";\nimport EventIcon from \"@material-ui/icons/Event\";\nimport LocalOfferIcon from \"@material-ui/icons/LocalOffer\";\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\nimport ExpandLessIcon from \"@material-ui/icons/ExpandLess\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport PeopleIcon from \"@material-ui/icons/People\";\nimport ListIcon from \"@material-ui/icons/ListAlt\";\nimport AnnouncementIcon from \"@material-ui/icons/Announcement\";\nimport ForumIcon from \"@material-ui/icons/Forum\";\nimport LocalAtmIcon from '@material-ui/icons/LocalAtm';\nimport RotateRight from \"@material-ui/icons/RotateRight\";\nimport { i18n } from \"../translate/i18n\";\nimport { WhatsAppsContext } from \"../context/WhatsApp/WhatsAppsContext\";\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport LoyaltyRoundedIcon from '@material-ui/icons/LoyaltyRounded';\nimport { Can } from \"../components/Can\";\nimport { socketConnection } from \"../services/socket\";\nimport { isArray } from \"lodash\";\nimport api from \"../services/api\";\nimport BorderColorIcon from '@material-ui/icons/BorderColor';\nimport ToDoList from \"../pages/ToDoList/\";\nimport toastError from \"../errors/toastError\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { AllInclusive, AttachFile, BlurCircular, DeviceHubOutlined, Schedule } from '@material-ui/icons';\nimport usePlans from \"../hooks/usePlans\";\n\nconst useStyles = makeStyles((theme) => ({\n  ListSubheader: {\n    height: 26,\n    marginTop: \"-15px\",\n    marginBottom: \"-10px\",\n  },\n}));\n\n\nfunction ListItemLink(props) {\n  const { icon, primary, to, className } = props;\n\n  const renderLink = React.useMemo(\n    () =>\n      React.forwardRef((itemProps, ref) => (\n        <RouterLink to={to} ref={ref} {...itemProps} />\n      )),\n    [to]\n  );\n\n  return (\n    <li>\n      <ListItem button dense component={renderLink} className={className}>\n        {icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\n        <ListItemText primary={primary} />\n      </ListItem>\n    </li>\n  );\n}\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CHATS\") {\n    const chats = action.payload;\n    const newChats = [];\n\n    if (isArray(chats)) {\n      chats.forEach((chat) => {\n        const chatIndex = state.findIndex((u) => u.id === chat.id);\n        if (chatIndex !== -1) {\n          state[chatIndex] = chat;\n        } else {\n          newChats.push(chat);\n        }\n      });\n    }\n\n    return [...state, ...newChats];\n  }\n\n  if (action.type === \"UPDATE_CHATS\") {\n    const chat = action.payload;\n    const chatIndex = state.findIndex((u) => u.id === chat.id);\n\n    if (chatIndex !== -1) {\n      state[chatIndex] = chat;\n      return [...state];\n    } else {\n      return [chat, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CHAT\") {\n    const chatId = action.payload;\n\n    const chatIndex = state.findIndex((u) => u.id === chatId);\n    if (chatIndex !== -1) {\n      state.splice(chatIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n\n  if (action.type === \"CHANGE_CHAT\") {\n    const changedChats = state.map((chat) => {\n      if (chat.id === action.payload.chat.id) {\n        return action.payload.chat;\n      }\n      return chat;\n    });\n    return changedChats;\n  }\n};\n\nconst MainListItems = (props) => {\n  const classes = useStyles();\n  const { drawerClose, collapsed } = props;\n  const { whatsApps } = useContext(WhatsAppsContext);\n  const { user, handleLogout } = useContext(AuthContext);\n  const [connectionWarning, setConnectionWarning] = useState(false);\n  const [openCampaignSubmenu, setOpenCampaignSubmenu] = useState(false);\n  const [showCampaigns, setShowCampaigns] = useState(false);\n  const [showKanban, setShowKanban] = useState(false);\n  const [showOpenAi, setShowOpenAi] = useState(false);\n  const [showIntegrations, setShowIntegrations] = useState(false); const history = useHistory();\n  const [showSchedules, setShowSchedules] = useState(false);\n  const [showInternalChat, setShowInternalChat] = useState(false);\n  const [showExternalApi, setShowExternalApi] = useState(false);\n\n  const [invisible, setInvisible] = useState(true);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam] = useState(\"\");\n  const [chats, dispatch] = useReducer(reducer, []);\n  const { getPlanCompany } = usePlans();\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = user.companyId;\n      const planConfigs = await getPlanCompany(undefined, companyId);\n\n      setShowCampaigns(planConfigs.plan.useCampaigns);\n      setShowKanban(planConfigs.plan.useKanban);\n      setShowOpenAi(planConfigs.plan.useOpenAi);\n      setShowIntegrations(planConfigs.plan.useIntegrations);\n      setShowSchedules(planConfigs.plan.useSchedules);\n      setShowInternalChat(planConfigs.plan.useInternalChat);\n      setShowExternalApi(planConfigs.plan.useExternalApi);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n\n  useEffect(() => {\n    const delayDebounceFn = setTimeout(() => {\n      fetchChats();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-chat`, (data) => {\n      if (data.action === \"new-message\") {\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\n      }\n      if (data.action === \"update\") {\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  useEffect(() => {\n    let unreadsCount = 0;\n    if (chats.length > 0) {\n      for (let chat of chats) {\n        for (let chatUser of chat.users) {\n          if (chatUser.userId === user.id) {\n            unreadsCount += chatUser.unreads;\n          }\n        }\n      }\n    }\n    if (unreadsCount > 0) {\n      setInvisible(false);\n    } else {\n      setInvisible(true);\n    }\n  }, [chats, user.id]);\n\n  useEffect(() => {\n    if (localStorage.getItem(\"cshow\")) {\n      setShowCampaigns(true);\n    }\n  }, []);\n\n  useEffect(() => {\n    const delayDebounceFn = setTimeout(() => {\n      if (whatsApps.length > 0) {\n        const offlineWhats = whatsApps.filter((whats) => {\n          return (\n            whats.status === \"qrcode\" ||\n            whats.status === \"PAIRING\" ||\n            whats.status === \"DISCONNECTED\" ||\n            whats.status === \"TIMEOUT\" ||\n            whats.status === \"OPENING\"\n          );\n        });\n        if (offlineWhats.length > 0) {\n          setConnectionWarning(true);\n        } else {\n          setConnectionWarning(false);\n        }\n      }\n    }, 2000);\n    return () => clearTimeout(delayDebounceFn);\n  }, [whatsApps]);\n\n  const fetchChats = async () => {\n    try {\n      const { data } = await api.get(\"/chats/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_CHATS\", payload: data.records });\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleClickLogout = () => {\n    //handleCloseMenu();\n    handleLogout();\n  };\n\n  return (\n    <div onClick={drawerClose}>\n      <Can\n        role={user.profile}\n        perform={\"drawer-service-items:view\"}\n        style={{\n          overflowY: \"scroll\",\n        }}\n        no={() => (\n          <>\n            <ListSubheader\n              hidden={collapsed}\n              style={{\n                position: \"relative\",\n                fontSize: \"17px\",\n                textAlign: \"left\",\n                paddingLeft: 20\n              }}\n              inset\n              color=\"inherit\">\n              {i18n.t(\"Atendimento\")}\n            </ListSubheader>\n            <>\n\n              <ListItemLink\n                to=\"/tickets\"\n                primary={i18n.t(\"mainDrawer.listItems.tickets\")}\n                icon={<WhatsAppIcon />}\n              />\n              <ListItemLink\n                to=\"/quick-messages\"\n                primary={i18n.t(\"mainDrawer.listItems.quickMessages\")}\n                icon={<FlashOnIcon />}\n              />\n              {showKanban && (\n                <ListItemLink\n                  to=\"/kanban\"\n                  primary=\"Kanban\"\n                  icon={<LoyaltyRoundedIcon />}\n                />\n              )}\n              <ListItemLink\n                to=\"/todolist\"\n                primary={i18n.t(\"Tarefas\")}\n                icon={<BorderColorIcon />}\n              />\n              <ListItemLink\n                to=\"/contacts\"\n                primary={i18n.t(\"mainDrawer.listItems.contacts\")}\n                icon={<ContactPhoneOutlinedIcon />}\n              />\n              {showSchedules && (\n                <>\n                  <ListItemLink\n                    to=\"/schedules\"\n                    primary={i18n.t(\"mainDrawer.listItems.schedules\")}\n                    icon={<Schedule />}\n                  />\n                </>\n              )}\n              <ListItemLink\n                to=\"/tags\"\n                primary={i18n.t(\"mainDrawer.listItems.tags\")}\n                icon={<LocalOfferIcon />}\n              />\n              {showInternalChat && (\n                <>\n                  <ListItemLink\n                    to=\"/chats\"\n                    primary={i18n.t(\"mainDrawer.listItems.chats\")}\n                    icon={\n                      <Badge color=\"secondary\" variant=\"dot\" invisible={invisible}>\n                        <ForumIcon />\n                      </Badge>\n                    }\n                  />\n                </>\n              )}\n              <ListItemLink\n                to=\"/helps\"\n                primary={i18n.t(\"mainDrawer.listItems.helps\")}\n                icon={<HelpOutlineIcon />}\n              />\n            </>\n          </>\n        )}\n      />\n\n      <Can\n        role={user.profile}\n        perform={\"drawer-admin-items:view\"}\n        yes={() => (\n          <>\n            <Divider />\n            <ListSubheader\n              hidden={collapsed}\n              style={{\n                position: \"relative\",\n                fontSize: \"17px\",\n                textAlign: \"left\",\n                paddingLeft: 20\n              }}\n              inset\n              color=\"inherit\">\n              {i18n.t(\"Gerência\")}\n            </ListSubheader>\n            <ListItemLink\n              small\n              to=\"/\"\n              primary=\"Dashboard\"\n              icon={<DashboardOutlinedIcon />}\n            />\n          </>\n        )}\n      />\n      <Can\n        role={user.profile}\n        perform=\"drawer-admin-items:view\"\n        yes={() => (\n          <>\n            <Divider />\n            <ListSubheader\n              hidden={collapsed}\n              style={{\n                position: \"relative\",\n                fontSize: \"17px\",\n                textAlign: \"left\",\n                paddingLeft: 20\n              }}\n              inset\n              color=\"inherit\">\n              {i18n.t(\"mainDrawer.listItems.administration\")}\n            </ListSubheader>\n\n            {showCampaigns && (\n              <>\n                <ListItem\n                  button\n                  onClick={() => setOpenCampaignSubmenu((prev) => !prev)}\n                >\n                  <ListItemIcon>\n                    <EventAvailableIcon />\n                  </ListItemIcon>\n                  <ListItemText\n                    primary={i18n.t(\"mainDrawer.listItems.campaigns\")}\n                  />\n                  {openCampaignSubmenu ? (\n                    <ExpandLessIcon />\n                  ) : (\n                    <ExpandMoreIcon />\n                  )}\n                </ListItem>\n                <Collapse\n                  style={{ paddingLeft: 15 }}\n                  in={openCampaignSubmenu}\n                  timeout=\"auto\"\n                  unmountOnExit\n                >\n                  <List component=\"div\" disablePadding>\n                    <ListItem onClick={() => history.push(\"/campaigns\")} button>\n                      <ListItemIcon>\n                        <ListIcon />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Listagem\" />\n                    </ListItem>\n                    <ListItem\n                      onClick={() => history.push(\"/contact-lists\")}\n                      button\n                    >\n                      <ListItemIcon>\n                        <PeopleIcon />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Listas de Contatos\" />\n                    </ListItem>\n                    <ListItem\n                      onClick={() => history.push(\"/campaigns-config\")}\n                      button\n                    >\n                      <ListItemIcon>\n                        <SettingsOutlinedIcon />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Configurações\" />\n                    </ListItem>\n                  </List>\n                </Collapse>\n              </>\n            )}\n            {user.super && (\n              <ListItemLink\n                to=\"/announcements\"\n                primary={i18n.t(\"mainDrawer.listItems.annoucements\")}\n                icon={<AnnouncementIcon />}\n              />\n            )}\n            {showOpenAi && (\n              <ListItemLink\n                to=\"/prompts\"\n                primary={i18n.t(\"mainDrawer.listItems.prompts\")}\n                icon={<AllInclusive />}\n              />\n            )}\n\n            {showIntegrations && (\n              <ListItemLink\n                to=\"/queue-integration\"\n                primary={i18n.t(\"mainDrawer.listItems.queueIntegration\")}\n                icon={<DeviceHubOutlined />}\n              />\n            )}\n            <ListItemLink\n              to=\"/connections\"\n              primary={i18n.t(\"mainDrawer.listItems.connections\")}\n              icon={\n                <Badge badgeContent={connectionWarning ? \"!\" : 0} color=\"error\">\n                  <SyncAltIcon />\n                </Badge>\n              }\n            />\n            <ListItemLink\n              to=\"/files\"\n              primary={i18n.t(\"mainDrawer.listItems.files\")}\n              icon={<AttachFile />}\n            />\n            <ListItemLink\n              to=\"/queues\"\n              primary={i18n.t(\"mainDrawer.listItems.queues\")}\n              icon={<AccountTreeOutlinedIcon />}\n            />\n            <ListItemLink\n              to=\"/users\"\n              primary={i18n.t(\"mainDrawer.listItems.users\")}\n              icon={<PeopleAltOutlinedIcon />}\n            />\n            {showExternalApi && (\n              <>\n                <ListItemLink\n                  to=\"/messages-api\"\n                  primary={i18n.t(\"mainDrawer.listItems.messagesAPI\")}\n                  icon={<CodeRoundedIcon />}\n                />\n              </>\n            )}\n            <ListItemLink\n              to=\"/financeiro\"\n              primary={i18n.t(\"mainDrawer.listItems.financeiro\")}\n              icon={<LocalAtmIcon />}\n            />\n\n            <ListItemLink\n              to=\"/settings\"\n              primary={i18n.t(\"mainDrawer.listItems.settings\")}\n              icon={<SettingsOutlinedIcon />}\n            />\n            { }\n\n          </>\n        )}\n      />\n      <Divider />\n      <li>\n        <ListItem\n          button\n          dense\n          onClick={handleClickLogout}>\n          <ListItemIcon><RotateRight /></ListItemIcon>\n          <ListItemText primary={i18n.t(\"Sair\")} />\n        </ListItem>\n      </li>\n    </div>\n  );\n};\n\nexport default MainListItems;","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport { CircularProgress, Button } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tbutton: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ButtonWithSpinner = ({ loading, children, ...rest }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Button className={classes.button} disabled={loading} {...rest}>\n\t\t\t{children}\n\t\t\t{loading && (\n\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t)}\n\t\t</Button>\n\t);\n};\n\nexport default ButtonWithSpinner;\n","import React from \"react\";\nimport Markdown from \"markdown-to-jsx\";\n\nconst elements = [\n\t\"a\",\n\t\"abbr\",\n\t\"address\",\n\t\"area\",\n\t\"article\",\n\t\"aside\",\n\t\"audio\",\n\t\"b\",\n\t\"base\",\n\t\"bdi\",\n\t\"bdo\",\n\t\"big\",\n\t\"blockquote\",\n\t\"body\",\n\t\"br\",\n\t\"button\",\n\t\"canvas\",\n\t\"caption\",\n\t\"cite\",\n\t\"code\",\n\t\"col\",\n\t\"colgroup\",\n\t\"data\",\n\t\"datalist\",\n\t\"dd\",\n\t\"del\",\n\t\"details\",\n\t\"dfn\",\n\t\"dialog\",\n\t\"div\",\n\t\"dl\",\n\t\"dt\",\n\t\"em\",\n\t\"embed\",\n\t\"fieldset\",\n\t\"figcaption\",\n\t\"figure\",\n\t\"footer\",\n\t\"form\",\n\t\"h1\",\n\t\"h2\",\n\t\"h3\",\n\t\"h4\",\n\t\"h5\",\n\t\"h6\",\n\t\"head\",\n\t\"header\",\n\t\"hgroup\",\n\t\"hr\",\n\t\"html\",\n\t\"i\",\n\t\"iframe\",\n\t\"img\",\n\t\"input\",\n\t\"ins\",\n\t\"kbd\",\n\t\"keygen\",\n\t\"label\",\n\t\"legend\",\n\t\"li\",\n\t\"link\",\n\t\"main\",\n\t\"map\",\n\t\"mark\",\n\t\"marquee\",\n\t\"menu\",\n\t\"menuitem\",\n\t\"meta\",\n\t\"meter\",\n\t\"nav\",\n\t\"noscript\",\n\t\"object\",\n\t\"ol\",\n\t\"optgroup\",\n\t\"option\",\n\t\"output\",\n\t\"p\",\n\t\"param\",\n\t\"picture\",\n\t\"pre\",\n\t\"progress\",\n\t\"q\",\n\t\"rp\",\n\t\"rt\",\n\t\"ruby\",\n\t\"s\",\n\t\"samp\",\n\t\"script\",\n\t\"section\",\n\t\"select\",\n\t\"small\",\n\t\"source\",\n\t\"span\",\n\t\"strong\",\n\t\"style\",\n\t\"sub\",\n\t\"summary\",\n\t\"sup\",\n\t\"table\",\n\t\"tbody\",\n\t\"td\",\n\t\"textarea\",\n\t\"tfoot\",\n\t\"th\",\n\t\"thead\",\n\t\"time\",\n\t\"title\",\n\t\"tr\",\n\t\"track\",\n\t\"u\",\n\t\"ul\",\n\t\"var\",\n\t\"video\",\n\t\"wbr\",\n\n\t// SVG\n\t\"circle\",\n\t\"clipPath\",\n\t\"defs\",\n\t\"ellipse\",\n\t\"foreignObject\",\n\t\"g\",\n\t\"image\",\n\t\"line\",\n\t\"linearGradient\",\n\t\"marker\",\n\t\"mask\",\n\t\"path\",\n\t\"pattern\",\n\t\"polygon\",\n\t\"polyline\",\n\t\"radialGradient\",\n\t\"rect\",\n\t\"stop\",\n\t\"svg\",\n\t\"text\",\n\t\"tspan\",\n];\n\nconst allowedElements = [\"a\", \"b\", \"strong\", \"em\", \"u\", \"code\", \"del\"];\n\nconst CustomLink = ({ children, ...props }) => (\n\t<a {...props} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t{children}\n\t</a>\n);\n\nconst MarkdownWrapper = ({ children }) => {\n\tconst boldRegex = /\\*(.*?)\\*/g;\n\tconst tildaRegex = /~(.*?)~/g;\n\n\tif (children && boldRegex.test(children)) {\n\t\tchildren = children.replace(boldRegex, \"**$1**\");\n\t}\n\tif (children && tildaRegex.test(children)) {\n\t\tchildren = children.replace(tildaRegex, \"~~$1~~\");\n\t}\n\n\tconst options = React.useMemo(() => {\n\t\tconst markdownOptions = {\n\t\t\tdisableParsingRawHTML: true,\n\t\t\tforceInline: true,\n\t\t\toverrides: {\n\t\t\t\ta: { component: CustomLink },\n\t\t\t},\n\t\t};\n\n\t\telements.forEach(element => {\n\t\t\tif (!allowedElements.includes(element)) {\n\t\t\t\tmarkdownOptions.overrides[element] = el => el.children || null;\n\t\t\t}\n\t\t});\n\n\t\treturn markdownOptions;\n\t}, []);\n\n\tif (!children) return null;\n\n\treturn <Markdown options={options}>{children}</Markdown>;\n};\n\nexport default MarkdownWrapper;\n","import React, { useState, useEffect, createContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst TicketsContext = createContext();\n\nconst TicketsContextProvider = ({ children }) => {\n\tconst [currentTicket, setCurrentTicket] = useState({ id: null, code: null });\n    const history = useHistory();\n\n    useEffect(() => {\n        if (currentTicket.id !== null) {\n            history.push(`/tickets/${currentTicket.uuid}`);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [currentTicket])\n\n\treturn (\n\t\t<TicketsContext.Provider\n\t\t\tvalue={{ currentTicket, setCurrentTicket }}\n\t\t>\n\t\t\t{children}\n\t\t</TicketsContext.Provider>\n\t);\n};\n\nexport { TicketsContext, TicketsContextProvider };\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport ModalImage from \"react-modal-image\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles(theme => ({\n\tmessageMedia: {\n\t\tobjectFit: \"cover\",\n\t\twidth: 250,\n\t\theight: 200,\n\t\tborderTopLeftRadius: 8,\n\t\tborderTopRightRadius: 8,\n\t\tborderBottomLeftRadius: 8,\n\t\tborderBottomRightRadius: 8,\n\t},\n}));\n\nconst ModalImageCors = ({ imageUrl }) => {\n\tconst classes = useStyles();\n\tconst [fetching, setFetching] = useState(true);\n\tconst [blobUrl, setBlobUrl] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tif (!imageUrl) return;\n\t\tconst fetchImage = async () => {\n\t\t\tconst { data, headers } = await api.get(imageUrl, {\n\t\t\t\tresponseType: \"blob\",\n\t\t\t});\n\t\t\tconst url = window.URL.createObjectURL(\n\t\t\t\tnew Blob([data], { type: headers[\"content-type\"] })\n\t\t\t);\n\t\t\tsetBlobUrl(url);\n\t\t\tsetFetching(false);\n\t\t};\n\t\tfetchImage();\n\t}, [imageUrl]);\n\n\treturn (\n\t\t<ModalImage\n\t\t\tclassName={classes.messageMedia}\n\t\t\tsmallSrcSet={fetching ? imageUrl : blobUrl}\n\t\t\tmedium={fetching ? imageUrl : blobUrl}\n\t\t\tlarge={fetching ? imageUrl : blobUrl}\n\t\t\talt=\"image\"\n\t\t/>\n\t);\n};\n\nexport default ModalImageCors;\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst ConfirmationModal = ({ title, children, open, onClose, onConfirm }) => {\n\treturn (\n\t\t<Dialog\n\t\t\topen={open}\n\t\t\tonClose={() => onClose(false)}\n\t\t\taria-labelledby=\"confirm-dialog\"\n\t\t>\n\t\t\t<DialogTitle id=\"confirm-dialog\">{title}</DialogTitle>\n\t\t\t<DialogContent dividers>\n\t\t\t\t<Typography>{children}</Typography>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => onClose(false)}\n\t\t\t\t\tcolor=\"default\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tonClose(false);\n\t\t\t\t\t\tonConfirm();\n\t\t\t\t\t}}\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.confirm\")}\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t);\n};\n\nexport default ConfirmationModal;\n","import React, { useState, createContext } from \"react\";\n\nconst ReplyMessageContext = createContext();\n\nconst ReplyMessageProvider = ({ children }) => {\n\tconst [replyingMessage, setReplyingMessage] = useState(null);\n\n\treturn (\n\t\t<ReplyMessageContext.Provider\n\t\t\tvalue={{ replyingMessage, setReplyingMessage }}\n\t\t>\n\t\t\t{children}\n\t\t</ReplyMessageContext.Provider>\n\t);\n};\n\nexport { ReplyMessageContext, ReplyMessageProvider };\n","import React, { useState, useContext } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport { Menu } from \"@material-ui/core\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst MessageOptionsMenu = ({ message, menuOpen, handleClose, anchorEl }) => {\n\tconst { setReplyingMessage } = useContext(ReplyMessageContext);\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\n\n\tconst handleDeleteMessage = async () => {\n\t\ttry {\n\t\t\tawait api.delete(`/messages/${message.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst hanldeReplyMessage = () => {\n\t\tsetReplyingMessage(message);\n\t\thandleClose();\n\t};\n\n\tconst handleOpenConfirmationModal = e => {\n\t\tsetConfirmationOpen(true);\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={i18n.t(\"messageOptionsMenu.confirmationModal.title\")}\n\t\t\t\topen={confirmationOpen}\n\t\t\t\tonClose={setConfirmationOpen}\n\t\t\t\tonConfirm={handleDeleteMessage}\n\t\t\t>\n\t\t\t\t{i18n.t(\"messageOptionsMenu.confirmationModal.message\")}\n\t\t\t</ConfirmationModal>\n\t\t\t<Menu\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\topen={menuOpen}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t{message.fromMe && (\n\t\t\t\t\t<MenuItem onClick={handleOpenConfirmationModal}>\n\t\t\t\t\t\t{i18n.t(\"messageOptionsMenu.delete\")}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t)}\n\t\t\t\t<MenuItem onClick={hanldeReplyMessage}>\n\t\t\t\t\t{i18n.t(\"messageOptionsMenu.reply\")}\n\t\t\t\t</MenuItem>\n\t\t\t</Menu>\n\t\t</>\n\t);\n};\n\nexport default MessageOptionsMenu;\n","import React, { useEffect } from 'react';\nimport toastError from \"../../errors/toastError\";\n\nimport { Button, Divider, Typography} from \"@material-ui/core\";\n\nconst LocationPreview = ({ image, link, description }) => {\n    useEffect(() => {}, [image, link, description]);\n\n    const handleLocation = async() => {\n        try {\n            window.open(link);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    return (\n\t\t<>\n\t\t\t<div style={{\n\t\t\t\tminWidth: \"250px\",\n\t\t\t}}>\n\t\t\t\t<div>\n\t\t\t\t\t<div style={{ float: \"left\" }}>\n\t\t\t\t\t\t<img src={image} alt=\"loc\" onClick={handleLocation} style={{ width: \"100px\" }} />\n\t\t\t\t\t</div>\n\t\t\t\t\t{ description && (\n\t\t\t\t\t<div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n\t\t\t\t\t\t<Typography style={{ marginTop: \"12px\", marginLeft: \"15px\", marginRight: \"15px\", float: \"left\" }} variant=\"subtitle1\" color=\"primary\" gutterBottom>\n\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: description.replace('\\\\n', '<br />') }}></div>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div style={{ display: \"block\", content: \"\", clear: \"both\" }}></div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={handleLocation}\n\t\t\t\t\t\t\tdisabled={!link}\n\t\t\t\t\t\t>Visualizar</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n\n};\n\nexport default LocationPreview;","import React, { useState, useEffect, useReducer, useRef } from \"react\";\n\nimport { isSameDay, parseISO, format } from \"date-fns\";\nimport clsx from \"clsx\";\n\nimport { green } from \"@material-ui/core/colors\";\nimport {\n  Button,\n  CircularProgress,\n  Divider,\n  IconButton,\n  makeStyles,\n} from \"@material-ui/core\";\n\nimport {\n  AccessTime,\n  Block,\n  Done,\n  DoneAll,\n  ExpandMore,\n  GetApp,\n} from \"@material-ui/icons\";\n\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport ModalImageCors from \"../ModalImageCors\";\nimport MessageOptionsMenu from \"../MessageOptionsMenu\";\nimport whatsBackground from \"../../assets/wa-background.png\";\nimport LocationPreview from \"../LocationPreview\";\n\nimport whatsBackgroundDark from \"../../assets/wa-background-dark.png\"; //DARK MODE PLW DESIGN//\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles((theme) => ({\n  messagesListWrapper: {\n    overflow: \"hidden\",\n    position: \"relative\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    width: \"100%\",\n    minWidth: 300,\n    minHeight: 200,\n  },\n\n  messagesList: {\n    backgroundImage: theme.mode === 'light' ? `url(${whatsBackground})` : `url(${whatsBackgroundDark})`, //DARK MODE PLW DESIGN//\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    padding: \"20px 20px 20px 20px\",\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n\n  circleLoading: {\n    color: green[500],\n    position: \"absolute\",\n    opacity: \"70%\",\n    top: 0,\n    left: \"50%\",\n    marginTop: 12,\n  },\n\n  messageLeft: {\n    marginRight: 20,\n    marginTop: 2,\n    minWidth: 100,\n    maxWidth: 600,\n    height: \"auto\",\n    display: \"block\",\n    position: \"relative\",\n    \"&:hover #messageActionsButton\": {\n      display: \"flex\",\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n    },\n\n    whiteSpace: \"pre-wrap\",\n    backgroundColor: \"#ffffff\",\n    color: \"#303030\",\n    alignSelf: \"flex-start\",\n    borderTopLeftRadius: 0,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  quotedContainerLeft: {\n    margin: \"-3px -80px 6px -6px\",\n    overflow: \"hidden\",\n    backgroundColor: \"#f0f0f0\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  quotedMsg: {\n    padding: 10,\n    maxWidth: 300,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n\n  quotedSideColorLeft: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n\n  messageRight: {\n    marginLeft: 20,\n    marginTop: 2,\n    minWidth: 100,\n    maxWidth: 600,\n    height: \"auto\",\n    display: \"block\",\n    position: \"relative\",\n    \"&:hover #messageActionsButton\": {\n      display: \"flex\",\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n    },\n\n    whiteSpace: \"pre-wrap\",\n    backgroundColor: \"#dcf8c6\",\n    color: \"#303030\",\n    alignSelf: \"flex-end\",\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 0,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  quotedContainerRight: {\n    margin: \"-3px -80px 6px -6px\",\n    overflowY: \"hidden\",\n    backgroundColor: \"#cfe9ba\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  quotedMsgRight: {\n    padding: 10,\n    maxWidth: 300,\n    height: \"auto\",\n    whiteSpace: \"pre-wrap\",\n  },\n\n  quotedSideColorRight: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n\n  messageActionsButton: {\n    display: \"none\",\n    position: \"relative\",\n    color: \"#999\",\n    zIndex: 1,\n    backgroundColor: \"inherit\",\n    opacity: \"90%\",\n    \"&:hover, &.Mui-focusVisible\": { backgroundColor: \"inherit\" },\n  },\n\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n\n  textContentItem: {\n    overflowWrap: \"break-word\",\n    padding: \"3px 80px 6px 6px\",\n  },\n\n  textContentItemDeleted: {\n    fontStyle: \"italic\",\n    color: \"rgba(0, 0, 0, 0.36)\",\n    overflowWrap: \"break-word\",\n    padding: \"3px 80px 6px 6px\",\n  },\n\n  messageMedia: {\n    objectFit: \"cover\",\n    width: 250,\n    height: 200,\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n  },\n\n  timestamp: {\n    fontSize: 11,\n    position: \"absolute\",\n    bottom: 0,\n    right: 5,\n    color: \"#999\",\n  },\n\n  dailyTimestamp: {\n    alignItems: \"center\",\n    textAlign: \"center\",\n    alignSelf: \"center\",\n    width: \"110px\",\n    backgroundColor: \"#e1f3fb\",\n    margin: \"10px\",\n    borderRadius: \"10px\",\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  dailyTimestampText: {\n    color: \"#808888\",\n    padding: 8,\n    alignSelf: \"center\",\n    marginLeft: \"0px\",\n  },\n\n  ackIcons: {\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginLeft: 4,\n  },\n\n  deletedIcon: {\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginRight: 4,\n  },\n\n  ackDoneAllIcon: {\n    color: green[500],\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginLeft: 4,\n  },\n\n  downloadMedia: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"inherit\",\n    padding: 10,\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_MESSAGES\") {\n    const messages = action.payload;\n    const newMessages = [];\n\n    messages.forEach((message) => {\n      const messageIndex = state.findIndex((m) => m.id === message.id);\n      if (messageIndex !== -1) {\n        state[messageIndex] = message;\n      } else {\n        newMessages.push(message);\n      }\n    });\n\n    return [...newMessages, ...state];\n  }\n\n  if (action.type === \"ADD_MESSAGE\") {\n    const newMessage = action.payload;\n    const messageIndex = state.findIndex((m) => m.id === newMessage.id);\n\n    if (messageIndex !== -1) {\n      state[messageIndex] = newMessage;\n    } else {\n      state.push(newMessage);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_MESSAGE\") {\n    const messageToUpdate = action.payload;\n    const messageIndex = state.findIndex((m) => m.id === messageToUpdate.id);\n\n    if (messageIndex !== -1) {\n      state[messageIndex] = messageToUpdate;\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst MessagesList = ({ ticket, ticketId, isGroup }) => {\n  const classes = useStyles();\n\n  const [messagesList, dispatch] = useReducer(reducer, []);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const lastMessageRef = useRef();\n\n  const [selectedMessage, setSelectedMessage] = useState({});\n  const [anchorEl, setAnchorEl] = useState(null);\n  const messageOptionsMenuOpen = Boolean(anchorEl);\n  const currentTicketId = useRef(ticketId);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n\n    currentTicketId.current = ticketId;\n  }, [ticketId]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchMessages = async () => {\n        if (ticketId === undefined) return;\n        try {\n          const { data } = await api.get(\"/messages/\" + ticketId, {\n            params: { pageNumber },\n          });\n\n          if (currentTicketId.current === ticketId) {\n            dispatch({ type: \"LOAD_MESSAGES\", payload: data.messages });\n            setHasMore(data.hasMore);\n            setLoading(false);\n          }\n\n          if (pageNumber === 1 && data.messages.length > 1) {\n            scrollToBottom();\n          }\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchMessages();\n    }, 500);\n    return () => {\n      clearTimeout(delayDebounceFn);\n    };\n  }, [pageNumber, ticketId]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(\"connect\", () => socket.emit(\"joinChatBox\", `${ticket.id}`));\n\n    socket.on(`company-${companyId}-appMessage`, (data) => {\n      if (data.action === \"create\") {\n        dispatch({ type: \"ADD_MESSAGE\", payload: data.message });\n        scrollToBottom();\n      }\n\n      if (data.action === \"update\") {\n        dispatch({ type: \"UPDATE_MESSAGE\", payload: data.message });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [ticketId, ticket]);\n\n  const loadMore = () => {\n    setPageNumber((prevPageNumber) => prevPageNumber + 1);\n  };\n\n  const scrollToBottom = () => {\n    if (lastMessageRef.current) {\n      lastMessageRef.current.scrollIntoView({});\n    }\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore) return;\n    const { scrollTop } = e.currentTarget;\n\n    if (scrollTop === 0) {\n      document.getElementById(\"messagesList\").scrollTop = 1;\n    }\n\n    if (loading) {\n      return;\n    }\n\n    if (scrollTop < 50) {\n      loadMore();\n    }\n  };\n\n  const handleOpenMessageOptionsMenu = (e, message) => {\n    setAnchorEl(e.currentTarget);\n    setSelectedMessage(message);\n  };\n\n  const handleCloseMessageOptionsMenu = (e) => {\n    setAnchorEl(null);\n  };\n\n  const checkMessageMedia = (message) => {\n    if (message.mediaType === \"locationMessage\" && message.body.split('|').length >= 2) {\n      let locationParts = message.body.split('|')\n      let imageLocation = locationParts[0]\n      let linkLocation = locationParts[1]\n\n      let descriptionLocation = null\n\n      if (locationParts.length > 2)\n        descriptionLocation = message.body.split('|')[2]\n\n      return <LocationPreview image={imageLocation} link={linkLocation} description={descriptionLocation} />\n    }\n    /* else if (message.mediaType === \"vcard\") {\n      let array = message.body.split(\"\\n\");\n      let obj = [];\n      let contact = \"\";\n      for (let index = 0; index < array.length; index++) {\n        const v = array[index];\n        let values = v.split(\":\");\n        for (let ind = 0; ind < values.length; ind++) {\n          if (values[ind].indexOf(\"+\") !== -1) {\n            obj.push({ number: values[ind] });\n          }\n          if (values[ind].indexOf(\"FN\") !== -1) {\n            contact = values[ind + 1];\n          }\n        }\n      }\n      return <VcardPreview contact={contact} numbers={obj[0].number} />\n    } */\n    /*else if (message.mediaType === \"multi_vcard\") {\n      console.log(\"multi_vcard\")\n      console.log(message)\n    \t\n      if(message.body !== null && message.body !== \"\") {\n        let newBody = JSON.parse(message.body)\n        return (\n          <>\n            {\n            newBody.map(v => (\n              <VcardPreview contact={v.name} numbers={v.number} />\n            ))\n            }\n          </>\n        )\n      } else return (<></>)\n    }*/\n    else if (message.mediaType === \"image\") {\n      return <ModalImageCors imageUrl={message.mediaUrl} />;\n    } else if (message.mediaType === \"audio\") {\n      return (\n        <audio controls>\n          <source src={message.mediaUrl} type=\"audio/ogg\"></source>\n        </audio>\n      );\n    } else if (message.mediaType === \"video\") {\n      return (\n        <video\n          className={classes.messageMedia}\n          src={message.mediaUrl}\n          controls\n        />\n      );\n    } else {\n      return (\n        <>\n          <div className={classes.downloadMedia}>\n            <Button\n              startIcon={<GetApp />}\n              color=\"primary\"\n              variant=\"outlined\"\n              target=\"_blank\"\n              href={message.mediaUrl}\n            >\n              Download\n            </Button>\n          </div>\n          <Divider />\n        </>\n      );\n    }\n  };\n\n  const renderMessageAck = (message) => {\n    if (message.ack === 1) {\n      return <AccessTime fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 2) {\n      return <Done fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 3) {\n      return <DoneAll fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 4 || message.ack === 5) {\n      return <DoneAll fontSize=\"small\" className={classes.ackDoneAllIcon} />;\n    }\n  };\n\n  const renderDailyTimestamps = (message, index) => {\n    if (index === 0) {\n      return (\n        <span\n          className={classes.dailyTimestamp}\n          key={`timestamp-${message.id}`}\n        >\n          <div className={classes.dailyTimestampText}>\n            {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\n          </div>\n        </span>\n      );\n    }\n    if (index < messagesList.length - 1) {\n      let messageDay = parseISO(messagesList[index].createdAt);\n      let previousMessageDay = parseISO(messagesList[index - 1].createdAt);\n\n      if (!isSameDay(messageDay, previousMessageDay)) {\n        return (\n          <span\n            className={classes.dailyTimestamp}\n            key={`timestamp-${message.id}`}\n          >\n            <div className={classes.dailyTimestampText}>\n              {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\n            </div>\n          </span>\n        );\n      }\n    }\n    if (index === messagesList.length - 1) {\n      return (\n        <div\n          key={`ref-${message.createdAt}`}\n          ref={lastMessageRef}\n          style={{ float: \"left\", clear: \"both\" }}\n        />\n      );\n    }\n  };\n\n  const renderNumberTicket = (message, index) => {\n    if (index < messagesList.length && index > 0) {\n\n      let messageTicket = message.ticketId;\n      let connectionName = message.ticket?.whatsapp?.name;\n      let previousMessageTicket = messagesList[index - 1].ticketId;\n\n      if (messageTicket !== previousMessageTicket) {\n        return (\n          <center>\n            <div className={classes.ticketNunberClosed}>\n              Conversa encerrada: {format(parseISO(messagesList[index - 1].createdAt), \"dd/MM/yyyy HH:mm:ss\")}\n            </div>\n\n            <div className={classes.ticketNunberOpen}>\n              Conversa iniciada: {format(parseISO(message.createdAt), \"dd/MM/yyyy HH:mm:ss\")}\n            </div>\n          </center>\n        );\n      }\n    }\n  };\n\n  const renderMessageDivider = (message, index) => {\n    if (index < messagesList.length && index > 0) {\n      let messageUser = messagesList[index].fromMe;\n      let previousMessageUser = messagesList[index - 1].fromMe;\n\n      if (messageUser !== previousMessageUser) {\n        return (\n          <span style={{ marginTop: 16 }} key={`divider-${message.id}`}></span>\n        );\n      }\n    }\n  };\n\n  const renderQuotedMessage = (message) => {\n    return (\n      <div\n        className={clsx(classes.quotedContainerLeft, {\n          [classes.quotedContainerRight]: message.fromMe,\n        })}\n      >\n        <span\n          className={clsx(classes.quotedSideColorLeft, {\n            [classes.quotedSideColorRight]: message.quotedMsg?.fromMe,\n          })}\n        ></span>\n        <div className={classes.quotedMsg}>\n          {!message.quotedMsg?.fromMe && (\n            <span className={classes.messageContactName}>\n              {message.quotedMsg?.contact?.name}\n            </span>\n          )}\n\n          {message.quotedMsg.mediaType === \"audio\"\n            && (\n              <div className={classes.downloadMedia}>\n                <audio controls>\n                  <source src={message.quotedMsg.mediaUrl} type=\"audio/ogg\"></source>\n                </audio>\n              </div>\n            )\n          }\n          {message.quotedMsg.mediaType === \"video\"\n            && (\n              <video\n                className={classes.messageMedia}\n                src={message.quotedMsg.mediaUrl}\n                controls\n              />\n            )\n          }\n          {message.quotedMsg.mediaType === \"application\"\n            && (\n              <div className={classes.downloadMedia}>\n                <Button\n                  startIcon={<GetApp />}\n                  color=\"primary\"\n                  variant=\"outlined\"\n                  target=\"_blank\"\n                  href={message.quotedMsg.mediaUrl}\n                >\n                  Download\n                </Button>\n              </div>\n            )\n          }\n\n          {message.quotedMsg.mediaType === \"image\"\n            && (\n              <ModalImageCors imageUrl={message.quotedMsg.mediaUrl} />)\n            || message.quotedMsg?.body}\n\n        </div>\n      </div>\n    );\n  };\n\n  const renderMessages = () => {\n    if (messagesList.length > 0) {\n      const viewMessagesList = messagesList.map((message, index) => {\n\n        if (message.mediaType === \"call_log\") {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderNumberTicket(message, index)}\n              {renderMessageDivider(message, index)}\n              <div className={classes.messageCenter}>\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {isGroup && (\n                  <span className={classes.messageContactName}>\n                    {message.contact?.name}\n                  </span>\n                )}\n                <div>\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 17\" width=\"20\" height=\"17\">\n                    <path fill=\"#df3333\" d=\"M18.2 12.1c-1.5-1.8-5-2.7-8.2-2.7s-6.7 1-8.2 2.7c-.7.8-.3 2.3.2 2.8.2.2.3.3.5.3 1.4 0 3.6-.7 3.6-.7.5-.2.8-.5.8-1v-1.3c.7-1.2 5.4-1.2 6.4-.1l.1.1v1.3c0 .2.1.4.2.6.1.2.3.3.5.4 0 0 2.2.7 3.6.7.2 0 1.4-2 .5-3.1zM5.4 3.2l4.7 4.6 5.8-5.7-.9-.8L10.1 6 6.4 2.3h2.5V1H4.1v4.8h1.3V3.2z\"></path>\n                  </svg> <span>Chamada de voz/vídeo perdida às {format(parseISO(message.createdAt), \"HH:mm\")}</span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        }\n\n        if (!message.fromMe) {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderNumberTicket(message, index)}\n              {renderMessageDivider(message, index)}\n              <div className={classes.messageLeft}>\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {isGroup && (\n                  <span className={classes.messageContactName}>\n                    {message.contact?.name}\n                  </span>\n                )}\n\n                {/* aviso de mensagem apagado pelo contato */}\n                {message.isDeleted && (\n                  <div>\n                    <span className={\"message-deleted\"}\n                    >Essa mensagem foi apagada pelo contato &nbsp;\n                      <Block\n                        color=\"error\"\n                        fontSize=\"small\"\n                        className={classes.deletedIcon}\n                      />\n                    </span>\n                  </div>\n                )}\n\n                {(message.mediaUrl || message.mediaType === \"locationMessage\" || message.mediaType === \"vcard\"\n                  //|| message.mediaType === \"multi_vcard\" \n                ) && checkMessageMedia(message)}\n                <div className={classes.textContentItem}>\n                  {message.quotedMsg && renderQuotedMessage(message)}\n                  <MarkdownWrapper>{message.mediaType === \"locationMessage\" ? null : message.body}</MarkdownWrapper>\n                  <span className={classes.timestamp}>\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\n                  </span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        } else {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderNumberTicket(message, index)}\n              {renderMessageDivider(message, index)}\n              <div className={classes.messageRight}>\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {(message.mediaUrl || message.mediaType === \"locationMessage\" || message.mediaType === \"vcard\"\n                  //|| message.mediaType === \"multi_vcard\" \n                ) && checkMessageMedia(message)}\n                <div\n                  className={clsx(classes.textContentItem, {\n                    [classes.textContentItemDeleted]: message.isDeleted,\n                  })}\n                >\n                  {message.isDeleted && (\n                    <Block\n                      color=\"disabled\"\n                      fontSize=\"small\"\n                      className={classes.deletedIcon}\n                    />\n                  )}\n                  {message.quotedMsg && renderQuotedMessage(message)}\n                  <MarkdownWrapper>{message.body}</MarkdownWrapper>\n                  <span className={classes.timestamp}>\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\n                    {renderMessageAck(message)}\n                  </span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        }\n      });\n      return viewMessagesList;\n    } else {\n      return <div>Diga olá para seu novo contato!</div>;\n    }\n  };\n\n  return (\n    <div className={classes.messagesListWrapper}>\n      <MessageOptionsMenu\n        message={selectedMessage}\n        anchorEl={anchorEl}\n        menuOpen={messageOptionsMenuOpen}\n        handleClose={handleCloseMessageOptionsMenu}\n      />\n      <div\n        id=\"messagesList\"\n        className={classes.messagesList}\n        onScroll={handleScroll}\n      >\n        {messagesList.length > 0 ? renderMessages() : []}\n      </div>\n      {loading && (\n        <div>\n          <CircularProgress className={classes.circleLoading} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MessagesList;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Avatar, Card, CardHeader } from \"@material-ui/core\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketHeader: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: \"#eee\",\n\t\tflex: \"none\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t},\n}));\n\nconst TicketHeaderSkeleton = () => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Card square className={classes.ticketHeader}>\n\t\t\t<CardHeader\n\t\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\t\tavatar={\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\">\n\t\t\t\t\t\t<Avatar alt=\"contact_image\" />\n\t\t\t\t\t</Skeleton>\n\t\t\t\t}\n\t\t\t\ttitle={<Skeleton animation=\"wave\" width={80} />}\n\t\t\t\tsubheader={<Skeleton animation=\"wave\" width={140} />}\n\t\t\t/>\n\t\t</Card>\n\t);\n};\n\nexport default TicketHeaderSkeleton;\n","import React from \"react\";\n\nimport { Card } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TicketHeaderSkeleton from \"../TicketHeaderSkeleton\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketHeader: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: theme.palette.tabHeaderBackground,\n\t\tflex: \"none\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tflexWrap: \"wrap\"\n\t\t}\n\t},\n}));\n\n\nconst TicketHeader = ({ loading, children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<>\n\t\t\t{loading ? (\n\t\t\t\t<TicketHeaderSkeleton />\n\t\t\t) : (\n\t\t\t\t<Card square className={classes.ticketHeader}>\n\t\t\t\t\t{children}\n\t\t\t\t</Card>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default TicketHeader;\n","import React, { useState, useEffect } from \"react\";\n\nimport { Avatar, CardHeader } from \"@material-ui/core\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst TicketInfo = ({ contact, ticket, onClick }) => {\n\tconst { user } = ticket\n\tconst [userName, setUserName] = useState('')\n\tconst [contactName, setContactName] = useState('')\n\n\tuseEffect(() => {\n\t\tif (contact) {\n\t\t\tsetContactName(contact.name);\n\t\t\tif(document.body.offsetWidth < 600) {\n\t\t\t\tif (contact.name.length > 10) {\n\t\t\t\t\tconst truncadName = contact.name.substring(0, 10) + '...';\n\t\t\t\t\tsetContactName(truncadName);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (user && contact) {\n\t\t\tsetUserName(`${i18n.t(\"messagesList.header.assignedTo\")} ${user.name}`);\n\n\t\t\tif(document.body.offsetWidth < 600) {\n\t\t\t\tsetUserName(`${user.name}`);\n\t\t\t}\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\treturn (\n\t\t<CardHeader\n\t\t\tonClick={onClick}\n\t\t\tstyle={{ cursor: \"pointer\" }}\n\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\tavatar={<Avatar src={contact.profilePicUrl} alt=\"contact_image\" />}\n\t\t\ttitle={`${contactName} #${ticket.id}`}\n\t\t\tsubheader={ticket.user && `${userName}`}\n\t\t/>\n\t);\n};\n\nexport default TicketInfo;\n","import React, { useContext, useEffect, useState } from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  makeStyles,\n} from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport MessagesList from \"../MessagesList\";\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport TicketHeader from \"../TicketHeader\";\nimport TicketInfo from \"../TicketInfo\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100%\",\n    position: \"relative\",\n    overflow: \"hidden\",\n  },\n\n  mainWrapper: {\n    flex: 1,\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    borderLeft: \"0\",\n    marginRight: -drawerWidth,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n\n  mainWrapperShift: {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginRight: 0,\n  },\n}));\n\nexport default function TicketMessagesDialog({ open, handleClose, ticketId }) {\n  const history = useHistory();\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [, setDrawerOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [contact, setContact] = useState({});\n  const [ticket, setTicket] = useState({});\n\n  useEffect(() => {\n    let delayDebounceFn = null;\n    if (open) {\n      setLoading(true);\n      delayDebounceFn = setTimeout(() => {\n        const fetchTicket = async () => {\n          try {\n            const { data } = await api.get(\"/tickets/\" + ticketId);\n            const { queueId } = data;\n            const { queues, profile } = user;\n\n            const queueAllowed = queues.find((q) => q.id === queueId);\n            if (queueAllowed === undefined && profile !== \"admin\") {\n              toast.error(\"Acesso não permitido\");\n              history.push(\"/tickets\");\n              return;\n            }\n\n            setContact(data.contact);\n            setTicket(data);\n            setLoading(false);\n          } catch (err) {\n            setLoading(false);\n            toastError(err);\n          }\n        };\n        fetchTicket();\n      }, 500);\n    }\n    return () => {\n      if (delayDebounceFn !== null) {\n        clearTimeout(delayDebounceFn);\n      }\n    };\n  }, [ticketId, user, history, open]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    let socket = null;\n\n    if (open) {\n      socket = socketConnection({ companyId });\n      socket.on(\"connect\", () => socket.emit(\"joinChatBox\", `${ticket.id}`));\n\n      socket.on(`company-${companyId}-ticket`, (data) => {\n        if (data.action === \"update\") {\n          setTicket(data.ticket);\n        }\n\n        if (data.action === \"delete\") {\n          toast.success(\"Ticket deleted sucessfully.\");\n          history.push(\"/tickets\");\n        }\n      });\n\n      socket.on(`company-${companyId}-contact`, (data) => {\n        if (data.action === \"update\") {\n          setContact((prevState) => {\n            if (prevState.id === data.contact?.id) {\n              return { ...prevState, ...data.contact };\n            }\n            return prevState;\n          });\n        }\n      });\n    }\n\n    return () => {\n      if (socket !== null) {\n        socket.disconnect();\n      }\n    };\n  }, [ticketId, ticket, history, open]);\n\n  const handleDrawerOpen = () => {\n    setDrawerOpen(true);\n  };\n\n  const renderTicketInfo = () => {\n    if (ticket.user !== undefined) {\n      return (\n        <TicketInfo\n          contact={contact}\n          ticket={ticket}\n          onClick={handleDrawerOpen}\n        />\n      );\n    }\n  };\n\n  const renderMessagesList = () => {\n    return (\n      <Box className={classes.root}>\n        <MessagesList\n          ticket={ticket}\n          ticketId={ticket.id}\n          isGroup={ticket.isGroup}\n        ></MessagesList>\n      </Box>\n    );\n  };\n\n  return (\n    <Dialog maxWidth=\"md\" onClose={handleClose} open={open}>\n      <TicketHeader loading={loading}>{renderTicketInfo()}</TicketHeader>\n      <ReplyMessageProvider>{renderMessagesList()}</ReplyMessageProvider>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          Fechar\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","function getRGB(c) {\n  return parseInt(c, 16) || c\n}\n\nfunction getsRGB(c) {\n  return getRGB(c) / 255 <= 0.03928\n    ? getRGB(c) / 255 / 12.92\n    : Math.pow((getRGB(c) / 255 + 0.055) / 1.055, 2.4)\n}\n\nfunction getLuminance(hexColor) {\n  return (\n    0.2126 * getsRGB(hexColor.substr(1, 2)) +\n    0.7152 * getsRGB(hexColor.substr(3, 2)) +\n    0.0722 * getsRGB(hexColor.substr(-2))\n  )\n}\n\nfunction getContrast(f, b) {\n  const L1 = getLuminance(f)\n  const L2 = getLuminance(b)\n  return (Math.max(L1, L2) + 0.05) / (Math.min(L1, L2) + 0.05)\n}\n\nfunction getTextColor(bgColor) {\n  const whiteContrast = getContrast(bgColor, '#ffffff')\n  const blackContrast = getContrast(bgColor, '#000000')\n\n  return whiteContrast > blackContrast ? '#ffffff' : '#000000'\n}\n\nconst contrastColor = (color) => {\n    return getTextColor(color);\n}\n\nexport default contrastColor;","import { makeStyles } from \"@material-ui/styles\";\nimport React from \"react\";\n\nconst useStyles = makeStyles(theme => ({\n    tag: {\n        padding: \"1px 5px\",\n        borderRadius: \"3px\",\n        fontSize: \"0.8em\",\n        fontWeight: \"bold\",\n        color: \"#FFF\",\n        marginRight: \"5px\",\n        whiteSpace: \"nowrap\"\n    }\n}));\n\nconst ContactTag = ({ tag }) => {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.tag} style={{ backgroundColor: tag.color, marginTop: \"2px\" }}>\n            {tag.name.toUpperCase()}\n        </div>\n    )\n}\n\nexport default ContactTag;","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { parseISO, format, isSameDay } from \"date-fns\";\nimport clsx from \"clsx\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green, grey, red, blue } from \"@material-ui/core/colors\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Box from \"@material-ui/core/Box\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport { Tooltip } from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\nimport toastError from \"../../errors/toastError\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport RoomIcon from '@material-ui/icons/Room';\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport AndroidIcon from \"@material-ui/icons/Android\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport TicketMessagesDialog from \"../TicketMessagesDialog\";\nimport DoneIcon from '@material-ui/icons/Done';\nimport ClearOutlinedIcon from '@material-ui/icons/ClearOutlined';\nimport contrastColor from \"../../helpers/contrastColor\";\nimport ContactTag from \"../ContactTag\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticket: {\n    position: \"relative\",\n  },\n\n  pendingTicket: {\n    cursor: \"unset\",\n  },\n  queueTag: {\n    background: \"#FCFCFC\",\n    color: \"#000\",\n    marginRight: 1,\n    padding: 1,\n    fontWeight: 'bold',\n    paddingLeft: 5,\n    paddingRight: 5,\n    borderRadius: 3,\n    fontSize: \"0.8em\",\n    whiteSpace: \"nowrap\"\n  },\n  noTicketsDiv: {\n    display: \"flex\",\n    height: \"100px\",\n    margin: 40,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  newMessagesCount: {\n    position: \"absolute\",\n    alignSelf: \"center\",\n    marginRight: 8,\n    marginLeft: \"auto\",\n    top: \"10px\",\n    left: \"20px\",\n    borderRadius: 0,\n  },\n  noTicketsText: {\n    textAlign: \"center\",\n    color: \"rgb(104, 121, 146)\",\n    fontSize: \"14px\",\n    lineHeight: \"1.4\",\n  },\n  connectionTag: {\n    background: \"green\",\n    color: \"#FFF\",\n    marginRight: 1,\n    padding: 1,\n    fontWeight: 'bold',\n    paddingLeft: 5,\n    paddingRight: 5,\n    borderRadius: 3,\n    fontSize: \"0.8em\",\n    whiteSpace: \"nowrap\"\n  },\n  noTicketsTitle: {\n    textAlign: \"center\",\n    fontSize: \"16px\",\n    fontWeight: \"600\",\n    margin: \"0px\",\n  },\n\n  contactNameWrapper: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    marginLeft: \"5px\",\n  },\n\n  lastMessageTime: {\n    justifySelf: \"flex-end\",\n    textAlign: \"right\",\n    position: \"relative\",\n    top: -21\n  },\n\n  closedBadge: {\n    alignSelf: \"center\",\n    justifySelf: \"flex-end\",\n    marginRight: 32,\n    marginLeft: \"auto\",\n  },\n\n  contactLastMessage: {\n    paddingRight: \"0%\",\n    marginLeft: \"5px\",\n  },\n\n\n  badgeStyle: {\n    color: \"white\",\n    backgroundColor: green[500],\n  },\n\n  acceptButton: {\n    position: \"absolute\",\n    right: \"108px\",\n  },\n\n\n  acceptButton: {\n    position: \"absolute\",\n    left: \"50%\",\n  },\n\n\n  ticketQueueColor: {\n    flex: \"none\",\n    width: \"8px\",\n    height: \"100%\",\n    position: \"absolute\",\n    top: \"0%\",\n    left: \"0%\",\n  },\n\n  ticketInfo: {\n    position: \"relative\",\n    top: -13\n  },\n  secondaryContentSecond: {\n    display: 'flex',\n    // marginTop: 5,\n    //marginLeft: \"5px\",\n    alignItems: \"flex-start\",\n    flexWrap: \"wrap\",\n    flexDirection: \"row\",\n    alignContent: \"flex-start\",\n  },\n  ticketInfo1: {\n    position: \"relative\",\n    top: 13,\n    right: 0\n  },\n  Radiusdot: {\n    \"& .MuiBadge-badge\": {\n      borderRadius: 2,\n      position: \"inherit\",\n      height: 16,\n      margin: 2,\n      padding: 3\n    },\n    \"& .MuiBadge-anchorOriginTopRightRectangle\": {\n      transform: \"scale(1) translate(0%, -40%)\",\n    },\n\n  }\n}));\n  {/*PLW DESIGN INSERIDO O dentro do const handleChangeTab*/}\n  const TicketListItemCustom = ({ ticket }) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const [ticketUser, setTicketUser] = useState(null);\n  const [ticketQueueName, setTicketQueueName] = useState(null);\n  const [ticketQueueColor, setTicketQueueColor] = useState(null);\n  const [tag, setTag] = useState([]);\n  const [whatsAppName, setWhatsAppName] = useState(null);\n\n  const [openTicketMessageDialog, setOpenTicketMessageDialog] = useState(false);\n  const { ticketId } = useParams();\n  const isMounted = useRef(true);\n  const { setCurrentTicket } = useContext(TicketsContext);\n  const { user } = useContext(AuthContext);\n  const { profile } = user;\n\n  useEffect(() => {\n    if (ticket.userId && ticket.user) {\n      setTicketUser(ticket.user?.name?.toUpperCase());\n    }\n    setTicketQueueName(ticket.queue?.name?.toUpperCase());\n    setTicketQueueColor(ticket.queue?.color);\n\n    if (ticket.whatsappId && ticket.whatsapp) {\n      setWhatsAppName(ticket.whatsapp.name?.toUpperCase());\n    }\n\n    setTag(ticket?.tags);\n\n    return () => {\n      isMounted.current = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  {/*CÓDIGO NOVO SAUDAÇÃO*/}\n  const handleCloseTicket = async (id) => {\n    setTag(ticket?.tags);\n    setLoading(true);\n    try {\n      await api.put(`/tickets/${id}`, {\n        status: \"closed\",\n        userId: user?.id,\n        queueId: ticket?.queue?.id,\n        useIntegration: false,\n        promptId: null,\n        integrationId: null\n      });\n    } catch (err) {\n      setLoading(false);\n      toastError(err);\n    }\n    if (isMounted.current) {\n      setLoading(false);\n    }\n    history.push(`/tickets/`);\n  };\n\n  const handleReopenTicket = async (id) => {\n    setLoading(true);\n    try {\n      await api.put(`/tickets/${id}`, {\n        status: \"open\",\n        userId: user?.id,\n        queueId: ticket?.queue?.id\n      });\n    } catch (err) {\n      setLoading(false);\n      toastError(err);\n    }\n    if (isMounted.current) {\n      setLoading(false);\n    }\n    history.push(`/tickets/${ticket.uuid}`);\n  };\n\n    const handleAcepptTicket = async (id) => {\n        setLoading(true);\n        try {\n            await api.put(`/tickets/${id}`, {\n                status: \"open\",\n                userId: user?.id,\n            });\n            \n            let settingIndex;\n\n            try {\n                const { data } = await api.get(\"/settings/\");\n                \n                settingIndex = data.filter((s) => s.key === \"sendGreetingAccepted\");\n                \n            } catch (err) {\n                toastError(err);\n                   \n            }\n            \n            if (settingIndex[0].value === \"enabled\" && !ticket.isGroup) {\n                handleSendMessage(ticket.id);\n                \n            }\n\n        } catch (err) {\n            setLoading(false);\n            \n            toastError(err);\n        }\n        if (isMounted.current) {\n            setLoading(false);\n        }\n\n        // handleChangeTab(null, \"tickets\");\n        // handleChangeTab(null, \"open\");\n        history.push(`/tickets/${ticket.uuid}`);\n    };\n\t\n\t    const handleSendMessage = async (id) => {\n        \n        const msg = `{{ms}} *{{name}}*, meu nome é *${user?.name}* e agora vou prosseguir com seu atendimento!`;\n        const message = {\n            read: 1,\n            fromMe: true,\n            mediaUrl: \"\",\n            body: `*Mensagem Automática:*\\n${msg.trim()}`,\n        };\n        try {\n            await api.post(`/messages/${id}`, message);\n        } catch (err) {\n            toastError(err);\n            \n        }\n    };\n\t{/*CÓDIGO NOVO SAUDAÇÃO*/}\n\n  const handleSelectTicket = (ticket) => {\n    const code = uuidv4();\n    const { id, uuid } = ticket;\n    setCurrentTicket({ id, uuid, code });\n  };\n\n\n  const renderTicketInfo = () => {\n    if (ticketUser) {\n\n      return (\n        <>\n          {ticket.chatbot && (\n            <Tooltip title=\"Chatbot\">\n              <AndroidIcon\n                fontSize=\"small\"\n                style={{ color: grey[700], marginRight: 5 }}\n              />\n            </Tooltip>\n          )}\n\n          {/* </span> */}\n        </>\n      );\n    } else {\n      return (\n        <>\n          {ticket.chatbot && (\n            <Tooltip title=\"Chatbot\">\n              <AndroidIcon\n                fontSize=\"small\"\n                style={{ color: grey[700], marginRight: 5 }}\n              />\n            </Tooltip>\n          )}\n        </>\n      );\n    }\n  };\n\n  return (\n    <React.Fragment key={ticket.id}>\n      <TicketMessagesDialog\n        open={openTicketMessageDialog}\n\n        handleClose={() => setOpenTicketMessageDialog(false)}\n        ticketId={ticket.id}\n      ></TicketMessagesDialog>\n      <ListItem dense button\n        onClick={(e) => {\n          if (ticket.status === \"pending\") return;\n          handleSelectTicket(ticket);\n        }}\n        selected={ticketId && +ticketId === ticket.id}\n        className={clsx(classes.ticket, {\n          [classes.pendingTicket]: ticket.status === \"pending\",\n        })}\n      >\n        <Tooltip arrow placement=\"right\" title={ticket.queue?.name?.toUpperCase() || \"SEM FILA\"} >\n          <span style={{ backgroundColor: ticket.queue?.color || \"#7C7C7C\" }} className={classes.ticketQueueColor}></span>\n        </Tooltip>\n        <ListItemAvatar>\n          {ticket.status !== \"pending\" ?\n            <Avatar\n              style={{\n                marginTop: \"-20px\",\n                marginLeft: \"-3px\",\n                width: \"55px\",\n                height: \"55px\",\n                borderRadius: \"10%\",\n              }}\n              src={ticket?.contact?.profilePicUrl}\n            />\n            :\n            <Avatar\n              style={{\n                marginTop: \"-30px\",\n                marginLeft: \"0px\",\n                width: \"50px\",\n                height: \"50px\",\n                borderRadius: \"10%\",\n              }}\n              src={ticket?.contact?.profilePicUrl}\n            />\n          }\n        </ListItemAvatar>\n        <ListItemText\n          disableTypography\n\n          primary={\n            <span className={classes.contactNameWrapper}>\n              <Typography\n                noWrap\n                component=\"span\"\n                variant=\"body2\"\n                color=\"textPrimary\"\n              >\n                {ticket.contact.name}\n                {profile === \"admin\" && (\n                  <Tooltip title=\"Espiar Conversa\">\n                    <VisibilityIcon\n                      onClick={() => setOpenTicketMessageDialog(true)}\n                      fontSize=\"small\"\n                      style={{\n                        color: blue[700],\n                        cursor: \"pointer\",\n                        marginLeft: 10,\n                        verticalAlign: \"middle\"\n                      }}\n                    />\n                  </Tooltip>\n                )}\n              </Typography>\n              <ListItemSecondaryAction>\n                <Box className={classes.ticketInfo1}>{renderTicketInfo()}</Box>\n              </ListItemSecondaryAction>\n            </span>\n\n          }\n          secondary={\n            <span className={classes.contactNameWrapper}>\n\n              <Typography\n                className={classes.contactLastMessage}\n                noWrap\n                component=\"span\"\n                variant=\"body2\"\n                color=\"textSecondary\"\n              > {ticket.lastMessage.includes('data:image/png;base64') ? <MarkdownWrapper> Localização</MarkdownWrapper> : <MarkdownWrapper>{ticket.lastMessage}</MarkdownWrapper>}\n                <span className={classes.secondaryContentSecond} >\n                  {ticket?.whatsapp?.name ? <Badge className={classes.connectionTag}>{ticket?.whatsapp?.name?.toUpperCase()}</Badge> : <br></br>}\n                  {ticketUser ? <Badge style={{ backgroundColor: \"#000000\" }} className={classes.connectionTag}>{ticketUser}</Badge> : <br></br>}\n                  <Badge style={{ backgroundColor: ticket.queue?.color || \"#7c7c7c\" }} className={classes.connectionTag}>{ticket.queue?.name?.toUpperCase() || \"SEM FILA\"}</Badge>\n                </span>\n                <span style={{ paddingTop: \"2px\" }} className={classes.secondaryContentSecond} >\n                  {tag?.map((tag) => {\n                    return (\n                      <ContactTag tag={tag} key={`ticket-contact-tag-${ticket.id}-${tag.id}`} />\n                    );\n                  })}\n                </span>\n              </Typography>\n\n              <Badge\n                className={classes.newMessagesCount}\n                badgeContent={ticket.unreadMessages}\n                classes={{\n                  badge: classes.badgeStyle,\n                }}\n              />\n            </span>\n          }\n\n        />\n        <ListItemSecondaryAction>\n          {ticket.lastMessage && (\n            <>\n\n              <Typography\n                className={classes.lastMessageTime}\n                component=\"span\"\n                variant=\"body2\"\n                color=\"textSecondary\"\n              >\n\n                {isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\n                  <>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\n                ) : (\n                  <>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\n                )}\n              </Typography>\n\n              <br />\n\n            </>\n          )}\n\n        </ListItemSecondaryAction>\n        <span className={classes.secondaryContentSecond} >\n          {ticket.status === \"pending\" && (\n            <ButtonWithSpinner\n              //color=\"primary\"\n              style={{ backgroundColor: 'green', color: 'white', padding: '0px', bottom: '17px', borderRadius: '0px', left: '8px', fontSize: '0.6rem' }}\n              variant=\"contained\"\n              className={classes.acceptButton}\n              size=\"small\"\n              loading={loading}\n\t\t\t  //PLW DESIGN INSERIDO O handleChangeTab\n              onClick={e => handleAcepptTicket(ticket.id)}\n            >\n              {i18n.t(\"ticketsList.buttons.accept\")}\n            </ButtonWithSpinner>\n\n          )}\n          {(ticket.status !== \"closed\") && (\n            <ButtonWithSpinner\n              //color=\"primary\"\n              style={{ backgroundColor: 'red', color: 'white', padding: '0px', bottom: '0px', borderRadius: '0px', left: '8px', fontSize: '0.6rem' }}\n              variant=\"contained\"\n              className={classes.acceptButton}\n              size=\"small\"\n              loading={loading}\n              onClick={e => handleCloseTicket(ticket.id)}\n            >\n              {i18n.t(\"ticketsList.buttons.closed\")}\n            </ButtonWithSpinner>\n\n          )}\n          {(ticket.status === \"closed\") && (\n            <ButtonWithSpinner\n              //color=\"primary\"\n              style={{ backgroundColor: 'red', color: 'white', padding: '0px', bottom: '0px', borderRadius: '0px', left: '8px', fontSize: '0.6rem' }}\n              variant=\"contained\"\n              className={classes.acceptButton}\n              size=\"small\"\n              loading={loading}\n              onClick={e => handleReopenTicket(ticket.id)}\n            >\n              {i18n.t(\"ticketsList.buttons.reopen\")}\n            </ButtonWithSpinner>\n\n          )}\n        </span>\n      </ListItem>\n\n      <Divider variant=\"inset\" component=\"li\" />\n    </React.Fragment>\n  );\n};\n\nexport default TicketListItemCustom;","import { useState, useEffect } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst useTickets = ({\n  searchParam,\n  tags,\n  users,\n  pageNumber,\n  status,\n  date,\n  updatedAt,\n  showAll,\n  queueIds,\n  withUnreadMessages,\n}) => {\n  const [loading, setLoading] = useState(true);\n  const [hasMore, setHasMore] = useState(false);\n  const [tickets, setTickets] = useState([]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchTickets = async () => {\n        try {\n          const { data } = await api.get(\"/tickets\", {\n            params: {\n              searchParam,\n              pageNumber,\n              tags,\n              users,\n              status,\n              date,\n              updatedAt,\n              showAll,\n              queueIds,\n              withUnreadMessages,\n            },\n          });\n          setTickets(data.tickets);\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchTickets();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [\n    searchParam,\n    tags,\n    users,\n    pageNumber,\n    status,\n    date,\n    updatedAt,\n    showAll,\n    queueIds,\n    withUnreadMessages,\n  ]);\n\n  return { tickets, loading, hasMore };\n};\n\nexport default useTickets;\n","import React, { useState, useRef, useEffect, useContext } from \"react\";\n\nimport { useHistory } from \"react-router-dom\";\nimport { format } from \"date-fns\";\nimport { socketConnection } from \"../../services/socket\";\n\nimport useSound from \"use-sound\";\n\nimport Popover from \"@material-ui/core/Popover\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Badge from \"@material-ui/core/Badge\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\n\nimport TicketListItem from \"../TicketListItemCustom\";\nimport useTickets from \"../../hooks/useTickets\";\nimport alertSound from \"../../assets/sound.mp3\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\ttabContainer: {\n\t\toverflowY: \"auto\",\n\t\tmaxHeight: 350,\n\t\t...theme.scrollbarStyles,\n\t},\n\tpopoverPaper: {\n\t\twidth: \"100%\",\n\t\tmaxWidth: 350,\n\t\tmarginLeft: theme.spacing(2),\n\t\tmarginRight: theme.spacing(1),\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tmaxWidth: 270,\n\t\t},\n\t},\n\tnoShadow: {\n\t\tboxShadow: \"none !important\",\n\t},\n}));\n\nconst NotificationsPopOver = (volume) => {\n\tconst classes = useStyles();\n\n\tconst history = useHistory();\n\tconst { user } = useContext(AuthContext);\n\tconst ticketIdUrl = +history.location.pathname.split(\"/\")[2];\n\tconst ticketIdRef = useRef(ticketIdUrl);\n\tconst anchorEl = useRef();\n\tconst [isOpen, setIsOpen] = useState(false);\n\tconst [notifications, setNotifications] = useState([]);\n\n\tconst [showPendingTickets, setShowPendingTickets] = useState(false);\n\n\tconst [, setDesktopNotifications] = useState([]);\n\n\tconst { tickets } = useTickets({ withUnreadMessages: \"true\" });\n\n\tconst [play] = useSound(alertSound, volume);\n\tconst soundAlertRef = useRef();\n\n\tconst historyRef = useRef(history);\n\n\tuseEffect(() => {\n\t\tconst fetchSettings = async () => {\n\t\t\ttry {\n\n\t\t\t\tif (user.allTicket === \"enable\") {\n\t\t\t\t\tsetShowPendingTickets(true);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t  \ttoastError(err);\n\t\t\t}\n\t\t}\n\t  \n\t\tfetchSettings();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tsoundAlertRef.current = play;\n\n\t\tif (!(\"Notification\" in window)) {\n\t\t\tconsole.log(\"This browser doesn't support notifications\");\n\t\t} else {\n\t\t\tNotification.requestPermission();\n\t\t}\n\t}, [play]);\n\n\tuseEffect(() => {\n\t\tconst processNotifications = () => {\n\t\t\tif (showPendingTickets) {\n\t\t\t\tsetNotifications(tickets);\n\t\t\t} else {\n\t\t\t\tconst newNotifications = tickets.filter(ticket => ticket.status !== \"pending\");\n\n\t\t\t\tsetNotifications(newNotifications);\n\t\t\t}\n\t\t}\n\n\t\tprocessNotifications();\n\t}, [tickets]);\n\n\tuseEffect(() => {\n\t\tticketIdRef.current = ticketIdUrl;\n\t}, [ticketIdUrl]);\n\n\tuseEffect(() => {\n\t\tconst socket = socketConnection({companyId: user.companyId, userId: user.id});\n\t\tsocket.on(\"connect\", () => socket.emit(\"joinNotification\"));\n\n\t\tsocket.on(`company-${user.companyId}-ticket`, data => {\n\t\t\tif (data.action === \"updateUnread\" || data.action === \"delete\") {\n\t\t\t\tsetNotifications(prevState => {\n\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticketId);\n\t\t\t\t\tif (ticketIndex !== -1) {\n\t\t\t\t\t\tprevState.splice(ticketIndex, 1);\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn prevState;\n\t\t\t\t});\n\n\t\t\t\tsetDesktopNotifications(prevState => {\n\t\t\t\t\tconst notfiticationIndex = prevState.findIndex(\n\t\t\t\t\t\tn => n.tag === String(data.ticketId)\n\t\t\t\t\t);\n\t\t\t\t\tif (notfiticationIndex !== -1) {\n\t\t\t\t\t\tprevState[notfiticationIndex].close();\n\t\t\t\t\t\tprevState.splice(notfiticationIndex, 1);\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn prevState;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(`company-${user.companyId}-appMessage`, data => {\n\t\t\tif (\n\t\t\t\tdata.action === \"create\" && !data.message.fromMe && \n\t\t\t\t(data.ticket.status !== \"pending\" ) &&\n\t\t\t\t(!data.message.read || data.ticket.status === \"pending\") &&\n\t\t\t\t(data.ticket.userId === user?.id || !data.ticket.userId) &&\n\t\t\t\t(user?.queues?.some(queue => (queue.id === data.ticket.queueId)) || !data.ticket.queueId)\n\t\t\t) {\n\t\t\t\tsetNotifications(prevState => {\n\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticket.id);\n\t\t\t\t\tif (ticketIndex !== -1) {\n\t\t\t\t\t\tprevState[ticketIndex] = data.ticket;\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn [data.ticket, ...prevState];\n\t\t\t\t});\n\n\t\t\t\tconst shouldNotNotificate =\n\t\t\t\t\t(data.message.ticketId === ticketIdRef.current &&\n\t\t\t\t\t\tdocument.visibilityState === \"visible\") ||\n\t\t\t\t\t(data.ticket.userId && data.ticket.userId !== user?.id) ||\n\t\t\t\t\tdata.ticket.isGroup;\n\n\t\t\t\tif (shouldNotNotificate) return;\n\n\t\t\t\thandleNotifications(data);\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, [user, showPendingTickets]);\n\n\tconst handleNotifications = data => {\n\t\tconst { message, contact, ticket } = data;\n\n\t\tconst options = {\n\t\t\tbody: `${message.body} - ${format(new Date(), \"HH:mm\")}`,\n\t\t\ticon: contact.urlPicture,\n\t\t\ttag: ticket.id,\n\t\t\trenotify: true,\n\t\t};\n\n\t\tconst notification = new Notification(\n\t\t\t`${i18n.t(\"tickets.notification.message\")} ${contact.name}`,\n\t\t\toptions\n\t\t);\n\n\t\tnotification.onclick = e => {\n\t\t\te.preventDefault();\n\t\t\twindow.focus();\n\t\t\thistoryRef.current.push(`/tickets/${ticket.uuid}`);\n\t\t\t// handleChangeTab(null, ticket.isGroup? \"group\" : \"open\");\n\t\t};\n\n\t\tsetDesktopNotifications(prevState => {\n\t\t\tconst notfiticationIndex = prevState.findIndex(\n\t\t\t\tn => n.tag === notification.tag\n\t\t\t);\n\t\t\tif (notfiticationIndex !== -1) {\n\t\t\t\tprevState[notfiticationIndex] = notification;\n\t\t\t\treturn [...prevState];\n\t\t\t}\n\t\t\treturn [notification, ...prevState];\n\t\t});\n\n\t\tsoundAlertRef.current();\n\t};\n\n\tconst handleClick = () => {\n\t\tsetIsOpen(prevState => !prevState);\n\t};\n\n\tconst handleClickAway = () => {\n\t\tsetIsOpen(false);\n\t};\n\n\tconst NotificationTicket = ({ children }) => {\n\t\treturn <div onClick={handleClickAway}>{children}</div>;\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<IconButton\n\t\t\t\tonClick={handleClick}\n\t\t\t\tref={anchorEl}\n\t\t\t\taria-label=\"Open Notifications\"\n\t\t\t\tcolor=\"inherit\"\n\t\t\t\tstyle={{color:\"white\"}}\n\t\t\t>\n\t\t\t\t<Badge overlap=\"rectangular\" badgeContent={notifications.length} color=\"secondary\">\n\t\t\t\t\t<ChatIcon />\n\t\t\t\t</Badge>\n\t\t\t</IconButton>\n\t\t\t<Popover\n\t\t\t\tdisableScrollLock\n\t\t\t\topen={isOpen}\n\t\t\t\tanchorEl={anchorEl.current}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\tclasses={{ paper: classes.popoverPaper }}\n\t\t\t\tonClose={handleClickAway}\n\t\t\t>\n\t\t\t\t<List dense className={classes.tabContainer}>\n\t\t\t\t\t{notifications.length === 0 ? (\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<ListItemText>{i18n.t(\"notifications.noTickets\")}</ListItemText>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t) : (\n\t\t\t\t\t\tnotifications.map(ticket => (\n\t\t\t\t\t\t\t<NotificationTicket key={ticket.id}>\n\t\t\t\t\t\t\t\t<TicketListItem ticket={ticket} />\n\t\t\t\t\t\t\t</NotificationTicket>\n\t\t\t\t\t\t))\n\t\t\t\t\t)}\n\t\t\t\t</List>\n\t\t\t</Popover>\n\t\t</>\n\t);\n};\n\nexport default NotificationsPopOver;","import React, { useState, useRef } from \"react\";\n\nimport Popover from \"@material-ui/core/Popover\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport VolumeUpIcon from \"@material-ui/icons/VolumeUp\";\nimport VolumeDownIcon from \"@material-ui/icons/VolumeDown\";\n\nimport { Grid, Slider } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    tabContainer: {\n        padding: theme.spacing(2),\n    },\n    popoverPaper: {\n        width: \"100%\",\n        maxWidth: 350,\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(1),\n        [theme.breakpoints.down(\"sm\")]: {\n            maxWidth: 270,\n        },\n    },\n    noShadow: {\n        boxShadow: \"none !important\",\n    },\n    icons: {\n        color: \"#fff\",\n    },\n    customBadge: {\n        backgroundColor: \"#f44336\",\n        color: \"#fff\",\n    },\n}));\n\nconst NotificationsVolume = ({ volume, setVolume }) => {\n    const classes = useStyles();\n\n    const anchorEl = useRef();\n    const [isOpen, setIsOpen] = useState(false);\n\n    const handleClick = () => {\n        setIsOpen((prevState) => !prevState);\n    };\n\n    const handleClickAway = () => {\n        setIsOpen(false);\n    };\n\n    const handleVolumeChange = (value) => {\n        setVolume(value);\n        localStorage.setItem(\"volume\", value);\n    };\n\n    return (\n        <>\n            <IconButton\n                className={classes.icons}\n                onClick={handleClick}\n                ref={anchorEl}\n                aria-label=\"Open Notifications\"\n                // color=\"inherit\"\n                // color=\"secondary\"\n            >\n                <VolumeUpIcon color=\"inherit\" />\n            </IconButton>\n            <Popover\n                disableScrollLock\n                open={isOpen}\n                anchorEl={anchorEl.current}\n                anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"right\",\n                }}\n                transformOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\",\n                }}\n                classes={{ paper: classes.popoverPaper }}\n                onClose={handleClickAway}\n            >\n                <List dense className={classes.tabContainer}>\n                    <Grid container spacing={2}>\n                        <Grid item>\n                            <VolumeDownIcon />\n                        </Grid>\n                        <Grid item xs>\n                            <Slider\n                                value={volume}\n                                aria-labelledby=\"continuous-slider\"\n                                step={0.1}\n                                min={0}\n                                max={1}\n                                onChange={(e, value) =>\n                                    handleVolumeChange(value)\n                                }\n                            />\n                        </Grid>\n                        <Grid item>\n                            <VolumeUpIcon />\n                        </Grid>\n                    </Grid>\n                </List>\n            </Popover>\n        </>\n    );\n};\n\nexport default NotificationsVolume;\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchips: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tchip: {\n\t\tmargin: 2,\n\t},\n}));\n\nconst QueueSelect = ({ selectedQueueIds, onChange }) => {\n\tconst classes = useStyles();\n\tconst [queues, setQueues] = useState([]);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/queue\");\n\t\t\t\tsetQueues(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t})();\n\t}, []);\n\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ marginTop: 6 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n\t\t\t\t<InputLabel>{i18n.t(\"queueSelect.inputLabel\")}</InputLabel>\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tlabelWidth={60}\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={selected => (\n\t\t\t\t\t\t<div className={classes.chips}>\n\t\t\t\t\t\t\t{selected?.length > 0 &&\n\t\t\t\t\t\t\t\tselected.map(id => {\n\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\n\t\t\t\t\t\t\t\t\treturn queue ? (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{queues.map(queue => (\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t{queue.name}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default QueueSelect;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n}));\n\nconst UserSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst UserModal = ({ open, onClose, userId }) => {\n\tconst classes = useStyles();\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t\tprofile: \"user\",\n\t};\n\n\tconst { user: loggedInUser } = useContext(AuthContext);\n\n\tconst [user, setUser] = useState(initialState);\n\tconst [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\tconst [whatsappId, setWhatsappId] = useState(false);\n\tconst { loading, whatsApps } = useWhatsApps();\n\n\tuseEffect(() => {\n\t\tconst fetchUser = async () => {\n\t\t\tif (!userId) return;\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/users/${userId}`);\n\t\t\t\tsetUser(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t\tconst userQueueIds = data.queues?.map(queue => queue.id);\n\t\t\t\tsetSelectedQueueIds(userQueueIds);\n\t\t\t\tsetWhatsappId(data.whatsappId ? data.whatsappId : '');\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchUser();\n\t}, [userId, open]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetUser(initialState);\n\t};\n\n\tconst handleSaveUser = async values => {\n\t\tconst userData = { ...values, whatsappId, queueIds: selectedQueueIds };\n\t\ttry {\n\t\t\tif (userId) {\n\t\t\t\tawait api.put(`/users/${userId}`, userData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/users\", userData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"userModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{userId\n\t\t\t\t\t\t? `${i18n.t(\"userModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"userModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={user}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={UserSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveUser(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.password\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\n\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"profile-selection-input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"profile\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"profile-selection-label\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"profile-selection\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"admin\">Admin</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"user\">User</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editQueues\"\n\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t<QueueSelect\n\t\t\t\t\t\t\t\t\t\t\tselectedQueueIds={selectedQueueIds}\n\t\t\t\t\t\t\t\t\t\t\tonChange={values => setSelectedQueueIds(values)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\n\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t<FormControl variant=\"outlined\" margin=\"dense\" className={classes.maxWidth} fullWidth>\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.whatsapp\")}\n\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={whatsappId}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setWhatsappId(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.whatsapp\")}\n\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={''}>&nbsp;</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t{whatsApps.map((whatsapp) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={whatsapp.id} value={whatsapp.id}>{whatsapp.name}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{userId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"userModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"userModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default UserModal;\n","import React from \"react\";\n\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tbackdrop: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\tcolor: \"#fff\",\n\t},\n}));\n\nconst BackdropLoading = () => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<Backdrop className={classes.backdrop} open={true}>\n\t\t\t<CircularProgress color=\"inherit\" />\n\t\t</Backdrop>\n\t);\n};\n\nexport default BackdropLoading;\n","import React, { useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { CssBaseline, IconButton } from \"@material-ui/core\";\nimport Brightness4Icon from \"@material-ui/icons/Brightness4\";\nimport Brightness7Icon from \"@material-ui/icons/Brightness7\";\n\nconst useStyles = makeStyles((theme) => ({\n    icons: {\n        color: \"#fff\",\n    },\n    switch: {\n        color: \"#fff\",\n    },\n    visible: {\n        display: \"none\",\n    },\n    btnHeader: {\n        color: \"#fff\",\n    },\n}));\n\nconst DarkMode = (props) => {\n    const classes = useStyles();\n\n    const [theme, setTheme] = useState(\"light\");\n\n    const themeToggle = () => {\n        theme === \"light\" ? setTheme(\"dark\") : setTheme(\"light\");\n    };\n\n    const handleClick = () => {\n        props.themeToggle();\n        themeToggle();\n    };\n\n    return (\n        <>\n            {theme === \"light\" ? (\n                <>\n                    <CssBaseline />\n                    <IconButton\n                        className={classes.icons}\n                        onClick={handleClick}\n                        // ref={anchorEl}\n                        aria-label=\"Dark Mode\"\n                        color=\"inherit\"\n                    >\n                        <Brightness4Icon />\n                    </IconButton>\n                </>\n            ) : (\n                <>\n                    <CssBaseline />\n                    <IconButton\n                        className={classes.icons}\n                        onClick={handleClick}\n                        // ref={anchorEl}\n                        aria-label=\"Dark Mode\"\n                        color=\"inherit\"\n                    >\n                        <Brightness7Icon />\n                    </IconButton>\n                </>\n            )}\n        </>\n    );\n};\n\nexport default DarkMode;\n","import React, { useEffect, useReducer, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport toastError from \"../../errors/toastError\";\nimport Popover from \"@material-ui/core/Popover\";\nimport AnnouncementIcon from \"@material-ui/icons/Announcement\";\nimport Notifications from \"@material-ui/icons/Notifications\"\n\nimport {\n  Avatar,\n  Badge,\n  IconButton,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  Dialog,\n  Paper,\n  Typography,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  DialogContentText,\n} from \"@material-ui/core\";\nimport api from \"../../services/api\";\nimport { isArray } from \"lodash\";\nimport moment from \"moment\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    maxHeight: 3000,\n    maxWidth: 5000,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nfunction AnnouncementDialog({ announcement, open, handleClose }) {\n  const getMediaPath = (filename) => {\n    return `${process.env.REACT_APP_BACKEND_URL}/public/${filename}`;\n  };\n  return (\n    <Dialog\n      open={open}\n      onClose={() => handleClose()}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">{announcement.title}</DialogTitle>\n      <DialogContent>\n        {announcement.mediaPath && (\n          <div\n            style={{\n              border: \"1px solid #f1f1f1\",\n              margin: \"0 auto 20px\",\n              textAlign: \"center\",\n              width: \"400px\",\n              height: 300,\n              backgroundImage: `url(${getMediaPath(announcement.mediaPath)})`,\n              backgroundRepeat: \"no-repeat\",\n              backgroundSize: \"contain\",\n              backgroundPosition: \"center\",\n            }}\n          ></div>\n        )}\n        <DialogContentText id=\"alert-dialog-description\">\n          {announcement.text}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => handleClose()} color=\"primary\" autoFocus>\n          Fechar\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_ANNOUNCEMENTS\") {\n    const announcements = action.payload;\n    const newAnnouncements = [];\n\n    if (isArray(announcements)) {\n      announcements.forEach((announcement) => {\n        const announcementIndex = state.findIndex(\n          (u) => u.id === announcement.id\n        );\n        if (announcementIndex !== -1) {\n          state[announcementIndex] = announcement;\n        } else {\n          newAnnouncements.push(announcement);\n        }\n      });\n    }\n\n    return [...state, ...newAnnouncements];\n  }\n\n  if (action.type === \"UPDATE_ANNOUNCEMENTS\") {\n    const announcement = action.payload;\n    const announcementIndex = state.findIndex((u) => u.id === announcement.id);\n\n    if (announcementIndex !== -1) {\n      state[announcementIndex] = announcement;\n      return [...state];\n    } else {\n      return [announcement, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_ANNOUNCEMENT\") {\n    const announcementId = action.payload;\n\n    const announcementIndex = state.findIndex((u) => u.id === announcementId);\n    if (announcementIndex !== -1) {\n      state.splice(announcementIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nexport default function AnnouncementsPopover() {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [searchParam] = useState(\"\");\n  const [announcements, dispatch] = useReducer(reducer, []);\n  const [invisible, setInvisible] = useState(false);\n  const [announcement, setAnnouncement] = useState({});\n  const [showAnnouncementDialog, setShowAnnouncementDialog] = useState(false);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchAnnouncements();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-announcement`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_ANNOUNCEMENTS\", payload: data.record });\n        setInvisible(false);\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_ANNOUNCEMENT\", payload: +data.id });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const fetchAnnouncements = async () => {\n    try {\n      const { data } = await api.get(\"/announcements/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_ANNOUNCEMENTS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n    setInvisible(true);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const borderPriority = (priority) => {\n    if (priority === 1) {\n      return \"4px solid #b81111\";\n    }\n    if (priority === 2) {\n      return \"4px solid orange\";\n    }\n    if (priority === 3) {\n      return \"4px solid grey\";\n    }\n  };\n\n  const getMediaPath = (filename) => {\n    return `${process.env.REACT_APP_BACKEND_URL}/public/${filename}`;\n  };\n\n  const handleShowAnnouncementDialog = (record) => {\n    setAnnouncement(record);\n    setShowAnnouncementDialog(true);\n    setAnchorEl(null);\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? \"simple-popover\" : undefined;\n\n  return (\n    <div>\n      <AnnouncementDialog\n        announcement={announcement}\n        open={showAnnouncementDialog}\n        handleClose={() => setShowAnnouncementDialog(false)}\n      />\n      <IconButton\n        variant=\"contained\"\n        aria-describedby={id}\n        onClick={handleClick}\n        style={{ color: \"white\" }}\n      >\n        <Badge\n          color=\"secondary\"\n          variant=\"dot\"\n          invisible={invisible || announcements.length < 1}\n        >\n          <Notifications />\n        </Badge>\n      </IconButton>\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n      >\n        <Paper\n          variant=\"outlined\"\n          onScroll={handleScroll}\n          className={classes.mainPaper}\n        >\n          <List\n            component=\"nav\"\n            aria-label=\"main mailbox folders\"\n            style={{ minWidth: 300 }}\n          >\n            {isArray(announcements) &&\n              announcements.map((item, key) => (\n                <ListItem\n                  key={key}\n                  style={{\n                    //background: key % 2 === 0 ? \"#ededed\" : \"white\",\n                    border: \"1px solid #eee\",\n                    borderLeft: borderPriority(item.priority),\n                    cursor: \"pointer\",\n                  }}\n                  onClick={() => handleShowAnnouncementDialog(item)}\n                >\n                  {item.mediaPath && (\n                    <ListItemAvatar>\n                      <Avatar\n                        alt={item.mediaName}\n                        src={getMediaPath(item.mediaPath)}\n                      />\n                    </ListItemAvatar>\n                  )}\n                  <ListItemText\n                    primary={item.title}\n                    secondary={\n                      <>\n                        <Typography component=\"span\" style={{ fontSize: 12 }}>\n                          {moment(item.createdAt).format(\"DD/MM/YYYY\")}\n                        </Typography>\n                        <span style={{ marginTop: 5, display: \"block\" }}></span>\n                        <Typography component=\"span\" variant=\"body2\">\n                          {item.text}\n                        </Typography>\n                      </>\n                    }\n                  />\n                </ListItem>\n              ))}\n            {isArray(announcements) && announcements.length === 0 && (\n              <ListItemText primary=\"Nenhum registro\" />\n            )}\n          </List>\n        </Paper>\n      </Popover>\n    </div>\n  );\n}\n","import moment from \"moment\";\n\nexport function useDate() {\n  function dateToClient(strDate) {\n    if (moment(strDate).isValid()) {\n      return moment(strDate).format(\"DD/MM/YYYY\");\n    }\n    return strDate;\n  }\n\n  function datetimeToClient(strDate) {\n    if (moment(strDate).isValid()) {\n      return moment(strDate).format(\"DD/MM/YYYY HH:mm\");\n    }\n    return strDate;\n  }\n\n  function dateToDatabase(strDate) {\n    if (moment(strDate, \"DD/MM/YYYY\").isValid()) {\n      return moment(strDate).format(\"YYYY-MM-DD HH:mm:ss\");\n    }\n    return strDate;\n  }\n\n  return {\n    dateToClient,\n    datetimeToClient,\n    dateToDatabase,\n  };\n}\n","import React, {\n  useContext,\n  useEffect,\n  useReducer,\n  useRef,\n  useState,\n} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport toastError from \"../../errors/toastError\";\nimport Popover from \"@material-ui/core/Popover\";\nimport ForumIcon from \"@material-ui/icons/Forum\";\nimport {\n  Badge,\n  IconButton,\n  List,\n  ListItem,\n  ListItemText,\n  Paper,\n  Typography,\n} from \"@material-ui/core\";\nimport api from \"../../services/api\";\nimport { isArray } from \"lodash\";\nimport { socketConnection } from \"../../services/socket\";\nimport { useDate } from \"../../hooks/useDate\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport notifySound from \"../../assets/chat_notify.mp3\";\nimport useSound from \"use-sound\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    maxHeight: 300,\n    maxWidth: 500,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CHATS\") {\n    const chats = action.payload;\n    const newChats = [];\n\n    if (isArray(chats)) {\n      chats.forEach((chat) => {\n        const chatIndex = state.findIndex((u) => u.id === chat.id);\n        if (chatIndex !== -1) {\n          state[chatIndex] = chat;\n        } else {\n          newChats.push(chat);\n        }\n      });\n    }\n\n    return [...state, ...newChats];\n  }\n\n  if (action.type === \"UPDATE_CHATS\") {\n    const chat = action.payload;\n    const chatIndex = state.findIndex((u) => u.id === chat.id);\n\n    if (chatIndex !== -1) {\n      state[chatIndex] = chat;\n      return [...state];\n    } else {\n      return [chat, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CHAT\") {\n    const chatId = action.payload;\n\n    const chatIndex = state.findIndex((u) => u.id === chatId);\n    if (chatIndex !== -1) {\n      state.splice(chatIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n\n  if (action.type === \"CHANGE_CHAT\") {\n    const changedChats = state.map((chat) => {\n      if (chat.id === action.payload.chat.id) {\n        return action.payload.chat;\n      }\n      return chat;\n    });\n    return changedChats;\n  }\n};\n\nexport default function ChatPopover() {\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [searchParam] = useState(\"\");\n  const [chats, dispatch] = useReducer(reducer, []);\n  const [invisible, setInvisible] = useState(true);\n  const { datetimeToClient } = useDate();\n  const [play] = useSound(notifySound);\n  const soundAlertRef = useRef();\n\n  useEffect(() => {\n    soundAlertRef.current = play;\n\n    if (!(\"Notification\" in window)) {\n      console.log(\"This browser doesn't support notifications\");\n    } else {\n      Notification.requestPermission();\n    }\n  }, [play]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchChats();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n    \n    socket.on(`company-${companyId}-chat`, (data) => {\n      if (data.action === \"new-message\") {\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\n        const userIds = data.newMessage.chat.users.map(userObj => userObj.userId);\n\n        if (userIds.includes(user.id) && data.newMessage.senderId !== user.id) {\n          soundAlertRef.current();\n        }\n      }\n      if (data.action === \"update\") {\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    let unreadsCount = 0;\n    if (chats.length > 0) {\n      for (let chat of chats) {\n        for (let chatUser of chat.users) {\n          if (chatUser.userId === user.id) {\n            unreadsCount += chatUser.unreads;\n          }\n        }\n      }\n    }\n    if (unreadsCount > 0) {\n      setInvisible(false);\n    } else {\n      setInvisible(true);\n    }\n  }, [chats, user.id]);\n\n  const fetchChats = async () => {\n    try {\n      const { data } = await api.get(\"/chats/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_CHATS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n    setInvisible(true);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const goToMessages = (chat) => {\n    window.location.href = `/chats/${chat.uuid}`;\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? \"simple-popover\" : undefined;\n\n  return (\n    <div>\n      <IconButton\n        aria-describedby={id}\n        variant=\"contained\"\n        color={invisible ? \"default\" : \"inherit\"}\n        onClick={handleClick}\n        style={{ color: \"white\" }}\n      >\n        <Badge color=\"secondary\" variant=\"dot\" invisible={invisible}>\n          <ForumIcon />\n        </Badge>\n      </IconButton>\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n      >\n        <Paper\n          variant=\"outlined\"\n          onScroll={handleScroll}\n          className={classes.mainPaper}\n        >\n          <List\n            component=\"nav\"\n            aria-label=\"main mailbox folders\"\n            style={{ minWidth: 300 }}\n          >\n            {isArray(chats) &&\n              chats.map((item, key) => (\n                <ListItem\n                  key={key}\n                  style={{\n                    background: key % 2 === 0 ? \"#ededed\" : \"white\",\n                    border: \"1px solid #eee\",\n                    cursor: \"pointer\",\n                  }}\n                  onClick={() => goToMessages(item)}\n                  button\n                >\n                  <ListItemText\n                    primary={item.lastMessage}\n                    secondary={\n                      <>\n                        <Typography component=\"span\" style={{ fontSize: 12 }}>\n                          {datetimeToClient(item.updatedAt)}\n                        </Typography>\n                        <span style={{ marginTop: 5, display: \"block\" }}></span>\n                      </>\n                    }\n                  />\n                </ListItem>\n              ))}\n            {isArray(chats) && chats.length === 0 && (\n              <ListItemText primary={i18n.t(\"mainDrawer.appBar.notRegister\")} />\n            )}\n          </List>\n        </Paper>\n      </Popover>\n    </div>\n  );\n}\n","import React, { useState, useContext, useEffect } from \"react\";\nimport clsx from \"clsx\";\nimport moment from \"moment\";\nimport {\n  makeStyles,\n  Drawer,\n  AppBar,\n  Toolbar,\n  List,\n  Typography,\n  Divider,\n  MenuItem,\n  IconButton,\n  Menu,\n  useTheme,\n  useMediaQuery,\n} from \"@material-ui/core\";\n\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport CachedIcon from \"@material-ui/icons/Cached\";\n\nimport MainListItems from \"./MainListItems\";\nimport NotificationsPopOver from \"../components/NotificationsPopOver\";\nimport NotificationsVolume from \"../components/NotificationsVolume\";\nimport UserModal from \"../components/UserModal\";\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport BackdropLoading from \"../components/BackdropLoading\";\nimport DarkMode from \"../components/DarkMode\";\nimport { i18n } from \"../translate/i18n\";\nimport toastError from \"../errors/toastError\";\nimport AnnouncementsPopover from \"../components/AnnouncementsPopover\";\n\nimport logo from \"../assets/logo.png\";\nimport { socketConnection } from \"../services/socket\";\nimport ChatPopover from \"../pages/Chat/ChatPopover\";\n\nimport { useDate } from \"../hooks/useDate\";\n\nimport ColorModeContext from \"../layout/themeContext\";\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100vh\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"calc(100vh - 56px)\",\n    },\n    backgroundColor: theme.palette.fancyBackground,\n    '& .MuiButton-outlinedPrimary': {\n      color: theme.mode === 'light' ? '#00BFFF' : '#FFF',\n      border: theme.mode === 'light' ? '1px solid rgba(0 124 102)' : '1px solid rgba(255, 255, 255, 0.5)',\n    },\n    '& .MuiTab-textColorPrimary.Mui-selected': {\n      color: theme.mode === 'light' ? '#00BFFF' : '#FFF',\n    }\n  },\n  avatar: {\n    width: \"100%\",\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n    color: theme.palette.dark.main,\n    background: theme.palette.barraSuperior,\n  },\n  toolbarIcon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    padding: \"0 8px\",\n    minHeight: \"48px\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"48px\"\n    }\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none\"\n    }\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: \"none\",\n  },\n  title: {\n    flexGrow: 1,\n    fontSize: 14,\n    color: \"white\",\n  },\n  drawerPaper: {\n    position: \"relative\",\n    whiteSpace: \"nowrap\",\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100%\"\n    },\n    ...theme.scrollbarStylesSoft\n  },\n  drawerPaperClose: {\n    overflowX: \"hidden\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(9),\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100%\"\n    }\n  },\n  appBarSpacer: {\n    minHeight: \"48px\",\n  },\n  content: {\n    flex: 1,\n    overflow: \"auto\",\n\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\"\n  },\n  containerWithScroll: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  NotificationsPopOver: {\n    // color: theme.barraSuperior.secondary.main,\n  },\n  logo: {\n    width: \"80%\",\n    height: \"auto\",\n    maxWidth: 180,\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"auto\",\n      height: \"80%\",\n      maxWidth: 180,\n    },\n    logo: theme.logo\n  },\n}));\n\nconst LoggedInLayout = ({ children, themeToggle }) => {\n  const classes = useStyles();\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [menuOpen, setMenuOpen] = useState(false);\n  const { handleLogout, loading } = useContext(AuthContext);\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [drawerVariant, setDrawerVariant] = useState(\"permanent\");\n  // const [dueDate, setDueDate] = useState(\"\");\n  const { user } = useContext(AuthContext);\n\n  const theme = useTheme();\n  const { colorMode } = useContext(ColorModeContext);\n  const greaterThenSm = useMediaQuery(theme.breakpoints.up(\"sm\"));\n\n  const [volume, setVolume] = useState(localStorage.getItem(\"volume\") || 1);\n\n  const { dateToClient } = useDate();\n\n\n  //################### CODIGOS DE TESTE #########################################\n  // useEffect(() => {\n  //   navigator.getBattery().then((battery) => {\n  //     console.log(`Battery Charging: ${battery.charging}`);\n  //     console.log(`Battery Level: ${battery.level * 100}%`);\n  //     console.log(`Charging Time: ${battery.chargingTime}`);\n  //     console.log(`Discharging Time: ${battery.dischargingTime}`);\n  //   })\n  // }, []);\n\n  // useEffect(() => {\n  //   const geoLocation = navigator.geolocation\n\n  //   geoLocation.getCurrentPosition((position) => {\n  //     let lat = position.coords.latitude;\n  //     let long = position.coords.longitude;\n\n  //     console.log('latitude: ', lat)\n  //     console.log('longitude: ', long)\n  //   })\n  // }, []);\n\n  // useEffect(() => {\n  //   const nucleos = window.navigator.hardwareConcurrency;\n\n  //   console.log('Nucleos: ', nucleos)\n  // }, []);\n\n  // useEffect(() => {\n  //   console.log('userAgent', navigator.userAgent)\n  //   if (\n  //     navigator.userAgent.match(/Android/i)\n  //     || navigator.userAgent.match(/webOS/i)\n  //     || navigator.userAgent.match(/iPhone/i)\n  //     || navigator.userAgent.match(/iPad/i)\n  //     || navigator.userAgent.match(/iPod/i)\n  //     || navigator.userAgent.match(/BlackBerry/i)\n  //     || navigator.userAgent.match(/Windows Phone/i)\n  //   ) {\n  //     console.log('é mobile ', true) //celular\n  //   }\n  //   else {\n  //     console.log('não é mobile: ', false) //nao é celular\n  //   }\n  // }, []);\n  //##############################################################################\n\n  useEffect(() => {\n    if (document.body.offsetWidth > 600) {\n      setDrawerOpen(true);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (document.body.offsetWidth < 600) {\n      setDrawerVariant(\"temporary\");\n    } else {\n      setDrawerVariant(\"permanent\");\n    }\n  }, [drawerOpen]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const userId = localStorage.getItem(\"userId\");\n\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-auth`, (data) => {\n      if (data.user.id === +userId) {\n        toastError(\"Sua conta foi acessada em outro computador.\");\n        setTimeout(() => {\n          localStorage.clear();\n          window.location.reload();\n        }, 1000);\n      }\n    });\n\n    socket.emit(\"userStatus\");\n    const interval = setInterval(() => {\n      socket.emit(\"userStatus\");\n    }, 1000 * 60 * 5);\n\n    return () => {\n      socket.disconnect();\n      clearInterval(interval);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n    setMenuOpen(true);\n  };\n\n  const handleCloseMenu = () => {\n    setAnchorEl(null);\n    setMenuOpen(false);\n  };\n\n  const handleOpenUserModal = () => {\n    setUserModalOpen(true);\n    handleCloseMenu();\n  };\n\n  const handleClickLogout = () => {\n    handleCloseMenu();\n    handleLogout();\n  };\n\n  const drawerClose = () => {\n    if (document.body.offsetWidth < 600) {\n      setDrawerOpen(false);\n    }\n  };\n\n  const handleRefreshPage = () => {\n    window.location.reload(false);\n  }\n\n  const handleMenuItemClick = () => {\n    const { innerWidth: width } = window;\n    if (width <= 600) {\n      setDrawerOpen(false);\n    }\n  };\n\n  const toggleColorMode = () => {\n    colorMode.toggleColorMode();\n  }\n\n  if (loading) {\n    return <BackdropLoading />;\n  }\n\n  return (\n    <div className={classes.root}>\n      <Drawer\n        variant={drawerVariant}\n        className={drawerOpen ? classes.drawerPaper : classes.drawerPaperClose}\n        classes={{\n          paper: clsx(\n            classes.drawerPaper,\n            !drawerOpen && classes.drawerPaperClose\n          ),\n        }}\n        open={drawerOpen}\n      >\n        <div className={classes.toolbarIcon}>\n          <img src={logo} className={classes.logo} alt=\"logo\" />\n          <IconButton onClick={() => setDrawerOpen(!drawerOpen)}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <List className={classes.containerWithScroll}>\n          <MainListItems drawerClose={drawerClose} collapsed={!drawerOpen} />\n        </List>\n        <Divider />\n      </Drawer>\n      <UserModal\n        open={userModalOpen}\n        onClose={() => setUserModalOpen(false)}\n        userId={user?.id}\n      />\n      <AppBar\n        position=\"absolute\"\n        className={clsx(classes.appBar, drawerOpen && classes.appBarShift)}\n        color=\"primary\"\n      >\n        <Toolbar variant=\"dense\" className={classes.toolbar}>\n          <IconButton\n            edge=\"start\"\n            variant=\"contained\"\n            aria-label=\"open drawer\"\n            onClick={() => setDrawerOpen(!drawerOpen)}\n            className={clsx(\n              classes.menuButton,\n              drawerOpen && classes.menuButtonHidden\n            )}\n          >\n            <MenuIcon />\n          </IconButton>\n\n          <Typography\n            component=\"h2\"\n            variant=\"h6\"\n            color=\"inherit\"\n            noWrap\n            className={classes.title}\n          >\n            {/* {greaterThenSm && user?.profile === \"admin\" && getDateAndDifDays(user?.company?.dueDate).difData < 7 ? ( */}\n            {greaterThenSm && user?.profile === \"admin\" && user?.company?.dueDate ? (\n              <>\n                Olá <b>{user.name}</b>, Bem vindo a <b>{user?.company?.name}</b>! (Ativo até {dateToClient(user?.company?.dueDate)})\n              </>\n            ) : (\n              <>\n                Olá  <b>{user.name}</b>, Bem vindo a <b>{user?.company?.name}</b>!\n              </>\n            )}\n          </Typography>\n\n          <IconButton edge=\"start\" onClick={toggleColorMode}>\n            {theme.mode === 'dark' ? <Brightness7Icon style={{ color: \"white\" }} /> : <Brightness4Icon style={{ color: \"white\" }} />}\n          </IconButton>\n\n          <NotificationsVolume\n            setVolume={setVolume}\n            volume={volume}\n          />\n\n          <IconButton\n            onClick={handleRefreshPage}\n            aria-label={i18n.t(\"mainDrawer.appBar.refresh\")}\n            color=\"inherit\"\n          >\n            <CachedIcon style={{ color: \"white\" }} />\n          </IconButton>\n\n          {user.id && <NotificationsPopOver volume={volume} />}\n\n          <AnnouncementsPopover />\n\n          <ChatPopover />\n\n          <div>\n            <IconButton\n              aria-label=\"account of current user\"\n              aria-controls=\"menu-appbar\"\n              aria-haspopup=\"true\"\n              onClick={handleMenu}\n              variant=\"contained\"\n              style={{ color: \"white\" }}\n            >\n              <AccountCircle />\n            </IconButton>\n            <Menu\n              id=\"menu-appbar\"\n              anchorEl={anchorEl}\n              getContentAnchorEl={null}\n              anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"right\",\n              }}\n              transformOrigin={{\n                vertical: \"top\",\n                horizontal: \"right\",\n              }}\n              open={menuOpen}\n              onClose={handleCloseMenu}\n            >\n              <MenuItem onClick={handleOpenUserModal}>\n                {i18n.t(\"mainDrawer.appBar.user.profile\")}\n              </MenuItem>\n\n            </Menu>\n          </div>\n        </Toolbar>\n      </AppBar>\n      <main className={classes.content}>\n        <div className={classes.appBarSpacer} />\n\n        {children ? children : null}\n      </main>\n    </div>\n  );\n};\n\nexport default LoggedInLayout;","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst Title = props => {\n\treturn (\n\t\t<Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\n\t\t\t{props.children}\n\t\t</Typography>\n\t);\n};\n\nexport default Title;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport {\n\tBarChart,\n\tCartesianGrid,\n\tBar,\n\tXAxis,\n\tYAxis,\n\tLabel,\n\tResponsiveContainer,\n} from \"recharts\";\nimport { startOfHour, parseISO, format } from \"date-fns\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport Title from \"./Title\";\nimport useTickets from \"../../hooks/useTickets\";\n\nconst Chart = () => {\n\tconst theme = useTheme();\n\n\tconst date = useRef(new Date().toISOString());\n\tconst { tickets } = useTickets({ date: date.current });\n\n\tconst [chartData, setChartData] = useState([\n\t\t{ time: \"01:00\", amount: 0 },\n\t\t{ time: \"02:00\", amount: 0 },\n\t\t{ time: \"03:00\", amount: 0 },\n\t\t{ time: \"04:00\", amount: 0 },\n\t\t{ time: \"05:00\", amount: 0 },\n\t\t{ time: \"06:00\", amount: 0 },\n\t\t{ time: \"07:00\", amount: 0 },\n\t\t{ time: \"08:00\", amount: 0 },\n\t\t{ time: \"09:00\", amount: 0 },\n\t\t{ time: \"10:00\", amount: 0 },\n\t\t{ time: \"11:00\", amount: 0 },\n\t\t{ time: \"12:00\", amount: 0 },\n\t\t{ time: \"13:00\", amount: 0 },\n\t\t{ time: \"14:00\", amount: 0 },\n\t\t{ time: \"15:00\", amount: 0 },\n\t\t{ time: \"16:00\", amount: 0 },\n\t\t{ time: \"17:00\", amount: 0 },\n\t\t{ time: \"18:00\", amount: 0 },\n\t\t{ time: \"19:00\", amount: 0 },\n\t\t{ time: \"20:00\", amount: 0 },\n\t\t{ time: \"21:00\", amount: 0 },\n\t\t{ time: \"22:00\", amount: 0 },\n\t\t{ time: \"23:00\", amount: 0 },\n\t\t{ time: \"00:00\", amount: 0 },\n\t]);\n\n\tuseEffect(() => {\n\t\tsetChartData(prevState => {\n\t\t\tlet aux = [...prevState];\n\n\t\t\taux.forEach(a => {\n\t\t\t\ttickets.forEach(ticket => {\n\t\t\t\t\tformat(startOfHour(parseISO(ticket.createdAt)), \"HH:mm\") === a.time &&\n\t\t\t\t\t\ta.amount++;\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn aux;\n\t\t});\n\t}, [tickets]);\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Title>{`${i18n.t(\"dashboard.charts.perDay.title\")}${\n\t\t\t\ttickets.length\n\t\t\t}`}</Title>\n\t\t\t<ResponsiveContainer>\n\t\t\t\t<BarChart\n\t\t\t\t\tdata={chartData}\n\t\t\t\t\tbarSize={40}\n\t\t\t\t\twidth={730}\n\t\t\t\t\theight={250}\n\t\t\t\t\tmargin={{\n\t\t\t\t\t\ttop: 16,\n\t\t\t\t\t\tright: 16,\n\t\t\t\t\t\tbottom: 0,\n\t\t\t\t\t\tleft: 24,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<CartesianGrid strokeDasharray=\"3 3\" />\n\t\t\t\t\t<XAxis dataKey=\"time\" stroke={theme.palette.text.secondary} />\n\t\t\t\t\t<YAxis\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tallowDecimals={false}\n\t\t\t\t\t\tstroke={theme.palette.text.secondary}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\tangle={270}\n\t\t\t\t\t\t\tposition=\"left\"\n\t\t\t\t\t\t\tstyle={{ textAnchor: \"middle\", fill: theme.palette.text.primary }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tTickets\n\t\t\t\t\t\t</Label>\n\t\t\t\t\t</YAxis>\n\t\t\t\t\t<Bar dataKey=\"amount\" fill={theme.palette.primary.main} />\n\t\t\t\t</BarChart>\n\t\t\t</ResponsiveContainer>\n\t\t</React.Fragment>\n\t);\n};\n\nexport default Chart;\n","import React from \"react\";\n\nimport { Avatar, Card, CardHeader, Typography } from \"@material-ui/core\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { grey } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles(theme => ({\n\tcardAvatar: {\n\t\tfontSize: '55px',\n\t\tcolor: grey[500],\n\t\tbackgroundColor: '#ffffff',\n\t\twidth: theme.spacing(7),\n\t\theight: theme.spacing(7)\n\t},\n\tcardTitle: {\n\t\tfontSize: '18px',\n\t\tcolor: theme.palette.text.primary\n\t},\n\tcardSubtitle: {\n\t\tcolor: grey[600],\n\t\tfontSize: '14px'\n\t}\n}));\n\nexport default function CardCounter(props) {\n    const { icon, title, value, loading } = props\n\tconst classes = useStyles();\n    return ( !loading ? \n        <Card>\n            <CardHeader\n                avatar={\n                    <Avatar className={classes.cardAvatar}>\n                        {icon}\n                    </Avatar>\n                }\n                title={\n                    <Typography variant=\"h6\" component=\"h2\" className={classes.cardTitle}>\n                        { title }\n                    </Typography>\n                }\n                subheader={\n                    <Typography variant=\"subtitle1\" component=\"p\" className={classes.cardSubtitle}>\n                        { value }\n                    </Typography>\n                }\n            />\n        </Card>\n        : <Skeleton variant=\"rect\" height={80} />\n    )\n    \n}","import React from \"react\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green, red } from '@material-ui/core/colors';\n\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport moment from 'moment';\n\nimport Rating from '@material-ui/lab/Rating';\n\nconst useStyles = makeStyles(theme => ({\n\ton: {\n\t\tcolor: green[600],\n\t\tfontSize: '20px'\n\t},\n\toff: {\n\t\tcolor: red[600],\n\t\tfontSize: '20px'\n\t},\n    pointer: {\n        cursor: \"pointer\"\n    }\n}));\n\nexport function RatingBox ({ rating }) {\n    const ratingTrunc = rating === null ? 0 : Math.trunc(rating);\n    return <Rating\n        defaultValue={ratingTrunc}\n        max={3}\n        readOnly\n    />\n}\n\nexport default function TableAttendantsStatus(props) {\n    const { loading, attendants } = props\n\tconst classes = useStyles();\n\n    function renderList () {\n        return attendants.map((a, k) => (\n            <TableRow key={k}>\n                <TableCell>{a.name}</TableCell>\n                <TableCell align=\"center\" title=\"1 - Insatisfeito, 2 - Satisfeito, 3 - Muito Satisfeito\" className={classes.pointer}>\n                    <RatingBox rating={a.rating} />\n                </TableCell>\n                <TableCell align=\"center\">{formatTime(a.avgSupportTime, 2)}</TableCell>\n                <TableCell align=\"center\">\n                    { a.online ?\n                        <CheckCircleIcon className={classes.on} />\n                        : <ErrorIcon className={classes.off} />\n                    }\n                </TableCell>\n            </TableRow>\n        ))\n    }\n\n\tfunction formatTime(minutes){\n\t\treturn moment().startOf('day').add(minutes, 'minutes').format('HH[h] mm[m]');\n\t}\n\n    return ( !loading ?\n        <TableContainer component={Paper}>\n            <Table>\n                <TableHead>\n                    <TableRow>\n                        <TableCell>Nome</TableCell>\n                        <TableCell align=\"center\">Avaliações</TableCell>\n                        <TableCell align=\"center\">T.M. de Atendimento</TableCell>\n                        <TableCell align=\"center\">Status (Atual)</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    { renderList() }\n                    {/* <TableRow>\n                        <TableCell>Nome 4</TableCell>\n                        <TableCell align=\"center\">10</TableCell>\n                        <TableCell align=\"center\">10 minutos</TableCell>\n                        <TableCell align=\"center\">\n                            <CheckCircleIcon className={classes.off} />\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell>Nome 5</TableCell>\n                        <TableCell align=\"center\">10</TableCell>\n                        <TableCell align=\"center\">10 minutos</TableCell>\n                        <TableCell align=\"center\">\n                            <CheckCircleIcon className={classes.on} />\n                        </TableCell>\n                    </TableRow> */}\n                </TableBody>\n            </Table>\n        </TableContainer>\n        : <Skeleton variant=\"rect\" height={150} />\n    )\n}","import api from \"../../services/api\";\n\nconst useDashboard = () => {\n\n    const find = async (params) => {\n        const { data } = await api.request({\n            url: `/dashboard`,\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        find\n    }\n}\n\nexport default useDashboard;","import api from \"../../services/api\";\n\nconst useCompanies = () => {\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/companies',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const findAll = async (id) => {\n        const { data } = await api.request({\n            url: `/companies`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n    const list = async (id) => {\n        const { data } = await api.request({\n            url: `/companies/list`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n    const find = async (id) => {\n        const { data } = await api.request({\n            url: `/companies/${id}`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n    const finding = async (id) => {\n        const { data } = await api.request({\n            url: `/companies/${id}`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/companies/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const remove = async (id) => {\n        const { data } = await api.request({\n            url: `/companies/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const updateSchedules = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/companies/${data.id}/schedules`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    return {\n        save,\n        update,\n        remove,\n        list,\n        find,\n        finding,\n        findAll,\n        updateSchedules\n    }\n}\n\nexport default useCompanies;","import React, { useState, useEffect } from \"react\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Container from \"@material-ui/core/Container\";\nimport Grid from \"@material-ui/core/Grid\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\n\nimport SpeedIcon from \"@material-ui/icons/Speed\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport AssignmentIcon from \"@material-ui/icons/Assignment\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport TodayIcon from '@material-ui/icons/Today';\nimport BlockIcon from '@material-ui/icons/Block';\nimport DoneIcon from '@material-ui/icons/Done';\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { grey, blue } from \"@material-ui/core/colors\";\nimport { toast } from \"react-toastify\";\n\nimport Chart from \"./Chart\";\nimport ButtonWithSpinner from \"../../components/ButtonWithSpinner\";\n\nimport CardCounter from \"../../components/Dashboard/CardCounter\";\nimport TableAttendantsStatus from \"../../components/Dashboard/TableAttendantsStatus\";\nimport { isArray } from \"lodash\";\n\nimport useDashboard from \"../../hooks/useDashboard\";\nimport useCompanies from \"../../hooks/useCompanies\";\n\nimport { isEmpty } from \"lodash\";\nimport moment from \"moment\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  fixedHeightPaper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: 240,\n    overflowY: \"auto\",\n    ...theme.scrollbarStyles,\n  },\n  cardAvatar: {\n    fontSize: \"55px\",\n    color: grey[500],\n    backgroundColor: \"#ffffff\",\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  cardTitle: {\n    fontSize: \"18px\",\n    color: blue[700],\n  },\n  cardSubtitle: {\n    color: grey[600],\n    fontSize: \"14px\",\n  },\n  alignRight: {\n    textAlign: \"right\",\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  selectContainer: {\n    width: \"100%\",\n    textAlign: \"left\",\n  },\n}));\n\nconst Dashboard = () => {\n  const classes = useStyles();\n  const [counters, setCounters] = useState({});\n  const [attendants, setAttendants] = useState([]);\n  const [filterType, setFilterType] = useState(1);\n  const [period, setPeriod] = useState(0);\n  const [companyDueDate, setCompanyDueDate] = useState();\n  const [dateFrom, setDateFrom] = useState(\n    moment(\"1\", \"D\").format(\"YYYY-MM-DD\")\n  );\n  const [dateTo, setDateTo] = useState(moment().format(\"YYYY-MM-DD\"));\n  const [loading, setLoading] = useState(false);\n  const { find } = useDashboard();\n  const { finding } = useCompanies();\n  useEffect(() => {\n    async function firstLoad() {\n      await fetchData();\n    }\n    setTimeout(() => {\n      firstLoad();\n    }, 1000);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  async function handleChangePeriod(value) {\n    setPeriod(value);\n  }\n\n  async function handleChangeFilterType(value) {\n    setFilterType(value);\n    if (value === 1) {\n      setPeriod(0);\n    } else {\n      setDateFrom(\"\");\n      setDateTo(\"\");\n    }\n  }\n\n  async function fetchData() {\n    setLoading(true);\n\n    let params = {};\n\n    if (period > 0) {\n      params = {\n        days: period,\n      };\n    }\n\n    if (!isEmpty(dateFrom) && moment(dateFrom).isValid()) {\n      params = {\n        ...params,\n        date_from: moment(dateFrom).format(\"YYYY-MM-DD\"),\n      };\n    }\n\n    if (!isEmpty(dateTo) && moment(dateTo).isValid()) {\n      params = {\n        ...params,\n        date_to: moment(dateTo).format(\"YYYY-MM-DD\"),\n      };\n    }\n\n    if (Object.keys(params).length === 0) {\n      toast.error(\"Parametrize o filtro\");\n      setLoading(false);\n      return;\n    }\n\n    const data = await find(params);\n\n\n\n    setCounters(data.counters);\n    if (isArray(data.attendants)) {\n      setAttendants(data.attendants);\n    } else {\n      setAttendants([]);\n    }\n\n    setLoading(false);\n  }\n\n  useEffect(() => {\n    async function fetchData() {\n      await loadCompanies();\n    }\n    fetchData();\n  }, [])\n  //let companyDueDate = localStorage.getItem(\"companyDueDate\");\n  //const companyDueDate = localStorage.getItem(\"companyDueDate\").toString();\n  const companyId = localStorage.getItem(\"companyId\");\n  const loadCompanies = async () => {\n    setLoading(true);\n    try {\n      const companiesList = await finding(companyId);\n      setCompanyDueDate(moment(companiesList.dueDate).format(\"DD/MM/yyyy\"));\n    } catch (e) {\n      console.log(\"🚀 Console Log : e\", e);\n      // toast.error(\"Não foi possível carregar a lista de registros\");\n    }\n    setLoading(false);\n  };\n\n  function formatTime(minutes) {\n    return moment()\n      .startOf(\"day\")\n      .add(minutes, \"minutes\")\n      .format(\"HH[h] mm[m]\");\n  }\n\n  function renderFilters() {\n    if (filterType === 1) {\n      return (\n        <>\n          <Grid item xs={12} sm={6} md={4}>\n            <TextField\n              label=\"Data Inicial\"\n              type=\"date\"\n              value={dateFrom}\n              onChange={(e) => setDateFrom(e.target.value)}\n              className={classes.fullWidth}\n              InputLabelProps={{\n                shrink: true,\n              }}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <TextField\n              label=\"Data Final\"\n              type=\"date\"\n              value={dateTo}\n              onChange={(e) => setDateTo(e.target.value)}\n              className={classes.fullWidth}\n              InputLabelProps={{\n                shrink: true,\n              }}\n            />\n          </Grid>\n        </>\n      );\n    } else {\n      return (\n        <Grid item xs={12} sm={6} md={4}>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"period-selector-label\">Período</InputLabel>\n            <Select\n              labelId=\"period-selector-label\"\n              id=\"period-selector\"\n              value={period}\n              onChange={(e) => handleChangePeriod(e.target.value)}\n            >\n              <MenuItem value={0}>Nenhum selecionado</MenuItem>\n              <MenuItem value={3}>Últimos 3 dias</MenuItem>\n              <MenuItem value={7}>Últimos 7 dias</MenuItem>\n              <MenuItem value={15}>Últimos 15 dias</MenuItem>\n              <MenuItem value={30}>Últimos 30 dias</MenuItem>\n              <MenuItem value={60}>Últimos 60 dias</MenuItem>\n              <MenuItem value={90}>Últimos 90 dias</MenuItem>\n            </Select>\n            <FormHelperText>Selecione o período desejado</FormHelperText>\n          </FormControl>\n        </Grid>\n      );\n    }\n  }\n\n  return (\n    <div>\n      <Container maxWidth=\"lg\" className={classes.container}>\n        <Grid container spacing={3} justifyContent=\"flex-end\">\n          <Grid item xs={12} sm={6} md={3}>\n            <CardCounter\n              icon={<TodayIcon fontSize=\"inherit\" />}\n              title=\"Data Vencimento\"\n              value={companyDueDate}\n              loading={loading}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <Paper className={classes.fixedHeightPaper}>\n              <Chart />\n            </Paper>\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <FormControl className={classes.selectContainer}>\n              <InputLabel id=\"period-selector-label\">Tipo de Filtro</InputLabel>\n              <Select\n                labelId=\"period-selector-label\"\n                value={filterType}\n                onChange={(e) => handleChangeFilterType(e.target.value)}\n              >\n                <MenuItem value={1}>Filtro por Data</MenuItem>\n                <MenuItem value={2}>Filtro por Período</MenuItem>\n              </Select>\n              <FormHelperText>Selecione o período desejado</FormHelperText>\n            </FormControl>\n          </Grid>\n\n          {renderFilters()}\n\n          <Grid item xs={12} className={classes.alignRight}>\n            <ButtonWithSpinner\n              loading={loading}\n              onClick={() => fetchData()}\n              variant=\"contained\"\n              color=\"primary\"\n            >\n              Filtrar\n            </ButtonWithSpinner>\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <CardCounter\n              icon={<GroupIcon fontSize=\"inherit\" />}\n              title=\"Atd. Pendentes\"\n              value={counters.supportPending}\n              loading={loading}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <CardCounter\n              icon={<GroupIcon fontSize=\"inherit\" />}\n              title=\"Atd. Acontecendo\"\n              value={counters.supportHappening}\n              loading={loading}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <CardCounter\n              icon={<AssignmentIcon fontSize=\"inherit\" />}\n              title=\"Atd. Realizados\"\n              value={counters.supportFinished}\n              loading={loading}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <CardCounter\n              icon={<PersonIcon fontSize=\"inherit\" />}\n              title=\"Leads\"\n              value={counters.leads}\n              loading={loading}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <CardCounter\n              icon={<SpeedIcon fontSize=\"inherit\" />}\n              title=\"T.M. de Atendimento\"\n              value={formatTime(counters.avgSupportTime)}\n              loading={loading}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <CardCounter\n              icon={<SpeedIcon fontSize=\"inherit\" />}\n              title=\"T.M. de Espera\"\n              value={formatTime(counters.avgWaitTime)}\n              loading={loading}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            {attendants.length ? (\n              <TableAttendantsStatus\n                attendants={attendants}\n                loading={loading}\n              />\n            ) : null}\n          </Grid>\n        </Grid>\n      </Container>\n    </div>\n  );\n};\n\nexport default Dashboard;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\n\textraAttr: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ContactSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\"),\n});\n\nconst ContactModal = ({ open, onClose, contactId, initialValues, onSave }) => {\n\tconst classes = useStyles();\n\tconst isMounted = useRef(true);\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tnumber: \"\",\n\t\temail: \"\",\n\t};\n\n\tconst [contact, setContact] = useState(initialState);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst fetchContact = async () => {\n\t\t\tif (initialValues) {\n\t\t\t\tsetContact(prevState => {\n\t\t\t\t\treturn { ...prevState, ...initialValues };\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!contactId) return;\n\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/contacts/${contactId}`);\n\t\t\t\tif (isMounted.current) {\n\t\t\t\t\tconsole.log(data)\n\t\t\t\t\tsetContact(data);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchContact();\n\t}, [contactId, open, initialValues]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetContact(initialState);\n\t};\n\n\tconst handleSaveContact = async values => {\n\t\ttry {\n\t\t\tif (contactId) {\n\t\t\t\tawait api.put(`/contacts/${contactId}`, values);\n\t\t\t\thandleClose();\n\t\t\t} else {\n\t\t\t\tconst { data } = await api.post(\"/contacts\", values);\n\t\t\t\tif (onSave) {\n\t\t\t\t\tonSave(data);\n\t\t\t\t}\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{contactId\n\t\t\t\t\t\t? `${i18n.t(\"contactModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"contactModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={contact}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={ContactSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveContact(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ values, errors, touched, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" gutterBottom>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.mainInfo\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.name\")}\n\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.number\")}\n\t\t\t\t\t\t\t\t\tname=\"number\"\n\t\t\t\t\t\t\t\t\terror={touched.number && Boolean(errors.number)}\n\t\t\t\t\t\t\t\t\thelperText={touched.number && errors.number}\n\t\t\t\t\t\t\t\t\tplaceholder=\"5513912344321\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email address\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.whatsapp\")} {contact?.whatsapp ? contact?.whatsapp.name : \"\"}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.extraInfo\")}\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<FieldArray name=\"extraInfo\">\n\t\t\t\t\t\t\t\t\t{({ push, remove }) => (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{values.extraInfo &&\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.length > 0 &&\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.map((info, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraAttr}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`${index}-info`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraName\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].name`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraValue\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].value`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => remove(index)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlineIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.extraAttr}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 1, marginTop: 8 }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => push({ name: \"\", value: \"\" })}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`+ ${i18n.t(\"contactModal.buttons.addExtraInfo\")}`}\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</FieldArray>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{contactId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default ContactModal;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n\tcreateFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ContactModal from \"../ContactModal\";\nimport toastError from \"../../errors/toastError\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport {  WhatsApp } from \"@material-ui/icons\";\nimport { Grid, ListItemText, MenuItem, Select } from \"@material-ui/core\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { toast } from \"react-toastify\";\n//import ShowTicketOpen from \"../ShowTicketOpenModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  online: {\n    fontSize: 11,\n    color: \"#25d366\"\n  },\n  offline: {\n    fontSize: 11,\n    color: \"#e1306c\"\n  }\n}));\n\nconst filter = createFilterOptions({\n  trim: true,\n});\n\nconst NewTicketModal = ({ modalOpen, onClose, initialContact }) => {\n  const classes = useStyles();\n  const [options, setOptions] = useState([]);\n\n  const [loading, setLoading] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [selectedContact, setSelectedContact] = useState(null);\n  const [selectedQueue, setSelectedQueue] = useState(\"\");\n  const [selectedWhatsapp, setSelectedWhatsapp] = useState(\"\");\n  const [newContact, setNewContact] = useState({});\n  const [whatsapps, setWhatsapps] = useState([]);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const { user } = useContext(AuthContext);\n  const { companyId, whatsappId } = user;\n\n  const [ openAlert, setOpenAlert ] = useState(false);\n\tconst [ userTicketOpen, setUserTicketOpen] = useState(\"\");\n\tconst [ queueTicketOpen, setQueueTicketOpen] = useState(\"\");\n\n  useEffect(() => {\n    if (initialContact?.id !== undefined) {\n      setOptions([initialContact]);\n      setSelectedContact(initialContact);\n    }\n  }, [initialContact]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        api\n          .get(`/whatsapp`, { params: { companyId, session: 0 } })\n          .then(({ data }) => setWhatsapps(data));\n      };\n\n      if (whatsappId !== null && whatsappId!== undefined) {\n        setSelectedWhatsapp(whatsappId)\n      }\n\n      if (user.queues.length === 1) {\n        setSelectedQueue(user.queues[0].id)\n      }\n      fetchContacts();\n      setLoading(false);\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [])\n\n  useEffect(() => {\n    if (!modalOpen || searchParam.length < 3) {\n      setLoading(false);\n      return;\n    }\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(\"contacts\", {\n            params: { searchParam },\n          });\n          setOptions(data.contacts);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, modalOpen]);\n\n  // const IconChannel = (channel) => {\n  //   switch (channel) {\n  //     case \"facebook\":\n  //       return <Facebook style={{ color: \"#3b5998\", verticalAlign: \"middle\" }} />;\n  //     case \"instagram\":\n  //       return <Instagram style={{ color: \"#e1306c\", verticalAlign: \"middle\" }} />;\n  //     case \"whatsapp\":\n  //       return <WhatsApp style={{ color: \"#25d366\", verticalAlign: \"middle\" }} />\n  //     default:\n  //       return \"error\";\n  //   }\n  // };\n\n  const handleClose = () => {\n    onClose();\n    setSearchParam(\"\");\n    setOpenAlert(false);\n    setUserTicketOpen(\"\");\n    setQueueTicketOpen(\"\");\n    setSelectedContact(null);\n  };\n\n  const handleCloseAlert = () => {\n    setOpenAlert(false);\n    setLoading(false);\n    setOpenAlert(false);\n    setUserTicketOpen(\"\");\n    setQueueTicketOpen(\"\");\n  };\n\n  const handleSaveTicket = async contactId => {\n    if (!contactId) return;\n    if (selectedQueue === \"\" && user.profile !== 'admin') {\n      toast.error(\"Selecione uma fila\");\n      return;\n    }\n    \n    setLoading(true);\n    try {\n      const queueId = selectedQueue !== \"\" ? selectedQueue : null;\n      const whatsappId = selectedWhatsapp !== \"\" ? selectedWhatsapp : null;\n      const { data: ticket } = await api.post(\"/tickets\", {\n        contactId: contactId,\n        queueId,\n        whatsappId,\n        userId: user.id,\n        status: \"open\",\n      });      \n\n      onClose(ticket);\n    } catch (err) {\n      \n      const ticket  = JSON.parse(err.response.data.error);\n\n      if (ticket.userId !== user?.id) {\n        setOpenAlert(true);\n        setUserTicketOpen(ticket.user.name);\n        setQueueTicketOpen(ticket.queue.name);\n      } else {\n        setOpenAlert(false);\n        setUserTicketOpen(\"\");\n        setQueueTicketOpen(\"\");\n        setLoading(false);\n        onClose(ticket);\n      }\n    }  \n    setLoading(false);\n  };\n\n  const handleSelectOption = (e, newValue) => {\n    if (newValue?.number) {\n      setSelectedContact(newValue);\n    } else if (newValue?.name) {\n      setNewContact({ name: newValue.name });\n      setContactModalOpen(true);\n    }\n  };\n\n  const handleCloseContactModal = () => {\n    setContactModalOpen(false);    \n  };\n\n  const handleAddNewContactTicket = contact => {\n    handleSaveTicket(contact.id);\n  };\n\n  const createAddContactOption = (filterOptions, params) => {\n    const filtered = filter(filterOptions, params);\n    if (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\n      filtered.push({\n        name: `${params.inputValue}`,\n      });\n    }\n    return filtered;\n  };\n\n  const renderOption = option => {\n    if (option.number) {\n      return <>\n        {/* {IconChannel(option.channel)} */}\n        <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\n          {option.name} - {option.number}\n        </Typography>\n      </>\n    } else {\n      return `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\n    }\n  };\n\n  const renderOptionLabel = option => {\n    if (option.number) {\n      return `${option.name} - ${option.number}`;\n    } else {\n      return `${option.name}`;\n    }\n  };\n\n  const renderContactAutocomplete = () => {\n    if (initialContact === undefined || initialContact.id === undefined) {\n      return (\n        <Grid xs={12} item>\n          <Autocomplete\n            fullWidth\n            options={options}\n            loading={loading}\n            clearOnBlur\n            autoHighlight\n            freeSolo\n            clearOnEscape\n            getOptionLabel={renderOptionLabel}\n            renderOption={renderOption}\n            filterOptions={createAddContactOption}\n            onChange={(e, newValue) => handleSelectOption(e, newValue)}\n            renderInput={params => (\n              <TextField\n                {...params}\n                label={i18n.t(\"newTicketModal.fieldLabel\")}\n                variant=\"outlined\"\n                autoFocus\n                onChange={e => setSearchParam(e.target.value)}\n                onKeyPress={e => {\n                  if (loading || !selectedContact) return;\n                  else if (e.key === \"Enter\") {\n                    handleSaveTicket(selectedContact.id);\n                  }\n                }}\n                InputProps={{\n                  ...params.InputProps,\n                  endAdornment: (\n                    <React.Fragment>\n                      {loading ? (\n                        <CircularProgress color=\"inherit\" size={20} />\n                      ) : null}\n                      {params.InputProps.endAdornment}\n                    </React.Fragment>\n                  ),\n                }}\n              />\n            )}\n          />\n        </Grid>\n      )\n    }\n    return null;\n  }\n\n  return (\n    <>\n      <ContactModal\n        open={contactModalOpen}\n        initialValues={newContact}\n        onClose={handleCloseContactModal}\n        onSave={handleAddNewContactTicket}\n      ></ContactModal>\n      <Dialog open={modalOpen} onClose={handleClose}>\n        <DialogTitle id=\"form-dialog-title\">\n          {i18n.t(\"newTicketModal.title\")}\n        </DialogTitle>\n        <DialogContent dividers>\n          <Grid style={{ width: 300 }} container spacing={2}>\n            {/* CONTATO */}\n            {renderContactAutocomplete()}\n            {/* FILA */}\n            <Grid xs={12} item>\n              <Select\n                required\n                fullWidth\n                displayEmpty\n                variant=\"outlined\"\n                value={selectedQueue}\n                onChange={(e) => {\n                  setSelectedQueue(e.target.value)\n                }}\n                MenuProps={{\n                  anchorOrigin: {\n                    vertical: \"bottom\",\n                    horizontal: \"left\",\n                  },\n                  transformOrigin: {\n                    vertical: \"top\",\n                    horizontal: \"left\",\n                  },\n                  getContentAnchorEl: null,\n                }}\n                renderValue={() => {\n                  if (selectedQueue === \"\") {\n                    return \"Selecione uma fila\"\n                  }\n                  const queue = user.queues.find(q => q.id === selectedQueue)\n                  return queue.name\n                }}\n              >\n                {user.queues?.length > 0 &&\n                  user.queues.map((queue, key) => (\n                    <MenuItem dense key={key} value={queue.id}>\n                      <ListItemText primary={queue.name} />\n                    </MenuItem>\n                  ))\n                }\n              </Select>\n            </Grid>\n            {/* CONEXAO */}\n            <Grid xs={12} item>\n              <Select\n                required\n                fullWidth\n                displayEmpty\n                variant=\"outlined\"\n                value={selectedWhatsapp}\n                onChange={(e) => {\n                  setSelectedWhatsapp(e.target.value)\n                }}\n                MenuProps={{\n                  anchorOrigin: {\n                    vertical: \"bottom\",\n                    horizontal: \"left\",\n                  },\n                  transformOrigin: {\n                    vertical: \"top\",\n                    horizontal: \"left\",\n                  },\n                  getContentAnchorEl: null,\n                }}\n                renderValue={() => {\n                  if (selectedWhatsapp === \"\") {\n                    return \"Selecione uma Conexão\"\n                  }\n                  const whatsapp = whatsapps.find(w => w.id === selectedWhatsapp)\n                  return whatsapp.name\n                }}\n              >\n                {whatsapps?.length > 0 &&\n                  whatsapps.map((whatsapp, key) => (\n                    <MenuItem dense key={key} value={whatsapp.id}>\n                      <ListItemText\n                        primary={\n                          <>\n                            {/* {IconChannel(whatsapp.channel)} */}\n                            <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\n                              {whatsapp.name} &nbsp; <p className={(whatsapp.status) === 'CONNECTED' ? classes.online : classes.offline} >({whatsapp.status})</p>\n                            </Typography>\n                          </>\n                        }\n                      />\n                    </MenuItem>\n                  ))}\n              </Select>\n            </Grid>\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={handleClose}\n            color=\"secondary\"\n            disabled={loading}\n            variant=\"outlined\"\n          >\n            {i18n.t(\"newTicketModal.buttons.cancel\")}\n          </Button>\n          <ButtonWithSpinner\n            variant=\"contained\"\n            type=\"button\"\n            disabled={!selectedContact}\n            onClick={() => handleSaveTicket(selectedContact.id)}\n            color=\"primary\"\n            loading={loading}\n          >\n            {i18n.t(\"newTicketModal.buttons.ok\")}\n          </ButtonWithSpinner>\n        </DialogActions>\n        {/* <ShowTicketOpen\n          isOpen={openAlert}\n          handleClose={handleCloseAlert}\n          user={userTicketOpen}\n          queue={queueTicketOpen}\n\t\t\t  /> */}\n      </Dialog >\n    </>\n  );\n};\nexport default NewTicketModal;","import React from \"react\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst TicketsSkeleton = () => {\n\treturn (\n\t\t<>\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={70} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={120} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t</>\n\t);\n};\n\nexport default TicketsSkeleton;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport TicketListItem from \"../TicketListItemCustom\";\nimport TicketsListSkeleton from \"../TicketsListSkeleton\";\n\nimport useTickets from \"../../hooks/useTickets\";\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticketsListWrapper: {\n    position: \"relative\",\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n\n  ticketsList: {\n    flex: 1,\n    maxHeight: \"100%\",\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n    borderTop: \"2px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  ticketsListHeader: {\n    color: \"rgb(67, 83, 105)\",\n    zIndex: 2,\n    backgroundColor: \"white\",\n    borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  },\n\n  ticketsCount: {\n    fontWeight: \"normal\",\n    color: \"rgb(104, 121, 146)\",\n    marginLeft: \"8px\",\n    fontSize: \"14px\",\n  },\n\n  noTicketsText: {\n    textAlign: \"center\",\n    color: \"rgb(104, 121, 146)\",\n    fontSize: \"14px\",\n    lineHeight: \"1.4\",\n  },\n\n  noTicketsTitle: {\n    textAlign: \"center\",\n    fontSize: \"16px\",\n    fontWeight: \"600\",\n    margin: \"0px\",\n  },\n\n  noTicketsDiv: {\n    display: \"flex\",\n    height: \"100px\",\n    margin: 40,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_TICKETS\") {\n    const newTickets = action.payload;\n\n    newTickets.forEach((ticket) => {\n      const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n      if (ticketIndex !== -1) {\n        state[ticketIndex] = ticket;\n        if (ticket.unreadMessages > 0) {\n          state.unshift(state.splice(ticketIndex, 1)[0]);\n        }\n      } else {\n        state.push(ticket);\n      }\n    });\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET_UNREAD\") {\n    const ticketId = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticketId);\n    if (ticketIndex !== -1) {\n      state[ticketIndex].unreadMessages = 0;\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET\") {\n    const ticket = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex] = ticket;\n    } else {\n      state.unshift(ticket);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET_UNREAD_MESSAGES\") {\n    const ticket = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex] = ticket;\n      state.unshift(state.splice(ticketIndex, 1)[0]);\n    } else {\n      state.unshift(ticket);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET_CONTACT\") {\n    const contact = action.payload;\n    const ticketIndex = state.findIndex((t) => t.contactId === contact.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex].contact = contact;\n    }\n    return [...state];\n  }\n\n  if (action.type === \"DELETE_TICKET\") {\n    const ticketId = action.payload;\n    const ticketIndex = state.findIndex((t) => t.id === ticketId);\n    if (ticketIndex !== -1) {\n      state.splice(ticketIndex, 1);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst TicketsListCustom = (props) => {\n  const {\n    status,\n    searchParam,\n    tags,\n    users,\n    showAll,\n    selectedQueueIds,\n    updateCount,\n    style,\n  } = props;\n  const classes = useStyles();\n  const [pageNumber, setPageNumber] = useState(1);\n  const [ticketsList, dispatch] = useReducer(reducer, []);\n  const { user } = useContext(AuthContext);\n  const { profile, queues } = user;\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [status, searchParam, dispatch, showAll, tags, users, selectedQueueIds]);\n\n  const { tickets, hasMore, loading } = useTickets({\n    pageNumber,\n    searchParam,\n    status,\n    showAll,\n    tags: JSON.stringify(tags),\n    users: JSON.stringify(users),\n    queueIds: JSON.stringify(selectedQueueIds),\n  });\n\n  useEffect(() => {\n    const queueIds = queues.map((q) => q.id);\n    const filteredTickets = tickets.filter(\n      (t) => queueIds.indexOf(t.queueId) > -1\n    );\n\n    if (profile === \"user\") {\n      dispatch({ type: \"LOAD_TICKETS\", payload: filteredTickets });\n    } else {\n      dispatch({ type: \"LOAD_TICKETS\", payload: tickets });\n    }\n  }, [tickets, status, searchParam, queues, profile]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    const shouldUpdateTicket = (ticket) =>\n      (!ticket.userId || ticket.userId === user?.id || showAll) &&\n      (!ticket.queueId || selectedQueueIds.indexOf(ticket.queueId) > -1);\n\n    const notBelongsToUserQueues = (ticket) =>\n      ticket.queueId && selectedQueueIds.indexOf(ticket.queueId) === -1;\n\n    socket.on(\"connect\", () => {\n      if (status) {\n        socket.emit(\"joinTickets\", status);\n      } else {\n        socket.emit(\"joinNotification\");\n      }\n    });\n\n    socket.on(`company-${companyId}-ticket`, (data) => {\n      \n      if (data.action === \"updateUnread\") {\n        dispatch({\n          type: \"RESET_UNREAD\",\n          payload: data.ticketId,\n        });\n      }\n\n      if (data.action === \"update\" && shouldUpdateTicket(data.ticket)) {\n        dispatch({\n          type: \"UPDATE_TICKET\",\n          payload: data.ticket,\n        });\n      }\n\n      if (data.action === \"update\" && notBelongsToUserQueues(data.ticket)) {\n        dispatch({ type: \"DELETE_TICKET\", payload: data.ticket.id });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_TICKET\", payload: data.ticketId });\n      }\n    });\n\n    socket.on(`company-${companyId}-appMessage`, (data) => {\n      const queueIds = queues.map((q) => q.id);\n      if (\n        profile === \"user\" &&\n        (queueIds.indexOf(data.ticket.queue?.id) === -1 ||\n          data.ticket.queue === null)\n      ) {\n        return;\n      }\n\n      if (data.action === \"create\" && shouldUpdateTicket(data.ticket)) {\n        dispatch({\n          type: \"UPDATE_TICKET_UNREAD_MESSAGES\",\n          payload: data.ticket,\n        });\n      }\n    });\n\n    socket.on(`company-${companyId}-contact`, (data) => {\n      if (data.action === \"update\") {\n        dispatch({\n          type: \"UPDATE_TICKET_CONTACT\",\n          payload: data.contact,\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [status, showAll, user, selectedQueueIds, tags, users, profile, queues]);\n\n  useEffect(() => {\n    if (typeof updateCount === \"function\") {\n      updateCount(ticketsList.length);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ticketsList]);\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <Paper className={classes.ticketsListWrapper} style={style}>\n      <Paper\n        square\n        name=\"closed\"\n        elevation={0}\n        className={classes.ticketsList}\n        onScroll={handleScroll}\n      >\n        <List style={{ paddingTop: 0 }}>\n          {ticketsList.length === 0 && !loading ? (\n            <div className={classes.noTicketsDiv}>\n              <span className={classes.noTicketsTitle}>\n                {i18n.t(\"ticketsList.noTicketsTitle\")}\n              </span>\n              <p className={classes.noTicketsText}>\n                {i18n.t(\"ticketsList.noTicketsMessage\")}\n              </p>\n            </div>\n          ) : (\n            <>\n              {ticketsList.map((ticket) => (\n                <TicketListItem ticket={ticket} key={ticket.id} />\n              ))}\n            </>\n          )}\n          {loading && <TicketsListSkeleton />}\n        </List>\n      </Paper>\n    </Paper>\n  );\n};\n\nexport default TicketsListCustom;\n","import React from \"react\";\n\nconst TabPanel = ({ children, value, name, ...rest }) => {\n\tif (value === name) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\trole=\"tabpanel\"\n\t\t\t\tid={`simple-tabpanel-${name}`}\n\t\t\t\taria-labelledby={`simple-tab-${name}`}\n\t\t\t\t{...rest}\n\t\t\t>\n\t\t\t\t<>{children}</>\n\t\t\t</div>\n\t\t);\n\t} else return null;\n};\n\nexport default TabPanel;\n","import React from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { Checkbox, ListItemText } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst TicketsQueueSelect = ({\n\tuserQueues,\n\tselectedQueueIds = [],\n\tonChange,\n}) => {\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ width: 120, marginTop: -4 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\">\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tdisplayEmpty\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={() => i18n.t(\"ticketsQueueSelect.placeholder\")}\n\t\t\t\t>\n\t\t\t\t\t{userQueues?.length > 0 &&\n\t\t\t\t\t\tuserQueues.map(queue => (\n\t\t\t\t\t\t\t<MenuItem dense key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tcolor: queue.color,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tchecked={selectedQueueIds.indexOf(queue.id) > -1}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<ListItemText primary={queue.name} />\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default TicketsQueueSelect;\n","import { Box, Chip, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nexport function TagsFilter({ onFiltered }) {\n  const [tags, setTags] = useState([]);\n  const [selecteds, setSelecteds] = useState([]);\n\n  useEffect(() => {\n    async function fetchData() {\n      await loadTags();\n    }\n    fetchData();\n  }, []);\n\n  const loadTags = async () => {\n    try {\n      const { data } = await api.get(`/tags/list`);\n      setTags(data);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const onChange = async (value) => {\n    setSelecteds(value);\n    onFiltered(value);\n  };\n\n  return (\n    <Box style={{ padding: 10 }}>\n      <Autocomplete\n        multiple\n        size=\"small\"\n        options={tags}\n        value={selecteds}\n        onChange={(e, v, r) => onChange(v)}\n        getOptionLabel={(option) => option.name}\n        renderTags={(value, getTagProps) =>\n          value.map((option, index) => (\n            <Chip\n              variant=\"outlined\"\n              style={{\n                backgroundColor: option.color || \"#eee\",\n                textShadow: \"1px 1px 1px #000\",\n                color: \"white\",\n              }}\n              label={option.name}\n              {...getTagProps({ index })}\n              size=\"small\"\n            />\n          ))\n        }\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            variant=\"outlined\"\n            placeholder=\"Filtro por Tags\"\n          />\n        )}\n      />\n    </Box>\n  );\n}\n","import { Box, Chip, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nexport function UsersFilter({ onFiltered, initialUsers }) {\n  const [users, setUsers] = useState([]);\n  const [selecteds, setSelecteds] = useState([]);\n\n  useEffect(() => {\n    async function fetchData() {\n      await loadUsers();\n    }\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    setSelecteds([]);\n    if (\n      Array.isArray(initialUsers) &&\n      Array.isArray(users) &&\n      users.length > 0\n    ) {\n      onChange(initialUsers);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initialUsers, users]);\n\n  const loadUsers = async () => {\n    try {\n      const { data } = await api.get(`/users/list`);\n      const userList = data.map((u) => ({ id: u.id, name: u.name }));\n      setUsers(userList);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const onChange = async (value) => {\n    setSelecteds(value);\n    onFiltered(value);\n  };\n\n  return (\n    <Box style={{ padding: \"0px 10px 10px\" }}>\n      <Autocomplete\n        multiple\n        size=\"small\"\n        options={users}\n        value={selecteds}\n        onChange={(e, v, r) => onChange(v)}\n        getOptionLabel={(option) => option.name}\n        getOptionSelected={(option, value) => {\n          return (\n            option?.id === value?.id ||\n            option?.name.toLowerCase() === value?.name.toLowerCase()\n          );\n        }}\n        renderTags={(value, getUserProps) =>\n          value.map((option, index) => (\n            <Chip\n              variant=\"outlined\"\n              style={{\n                backgroundColor: \"#bfbfbf\",\n                textShadow: \"1px 1px 1px #000\",\n                color: \"white\",\n              }}\n              label={option.name}\n              {...getUserProps({ index })}\n              size=\"small\"\n            />\n          ))\n        }\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            variant=\"outlined\"\n            placeholder=\"Filtro por Users\"\n          />\n        )}\n      />\n    </Box>\n  );\n}\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Badge from \"@material-ui/core/Badge\";\nimport MoveToInboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\n\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\n\nimport NewTicketModal from \"../NewTicketModal\";\nimport TicketsList from \"../TicketsListCustom\";\nimport TabPanel from \"../TabPanel\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\nimport TicketsQueueSelect from \"../TicketsQueueSelect\";\nimport { Button } from \"@material-ui/core\";\nimport { TagsFilter } from \"../TagsFilter\";\nimport { UsersFilter } from \"../UsersFilter\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketsWrapper: {\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t\tflexDirection: \"column\",\n\t\toverflow: \"hidden\",\n\t\tborderTopRightRadius: 0,\n\t\tborderBottomRightRadius: 0,\n\t\tborderRadius:0,\n\t},\n\n\ttabsHeader: {\n\t\tflex: \"none\",\n\t\tbackgroundColor: theme.palette.tabHeaderBackground,\n\t},\n\n\ttabsInternal: {\n\t\tflex: \"none\",\n\t\tbackgroundColor: theme.palette.tabHeaderBackground\n\t},\n\n\tsettingsIcon: {\n\t\talignSelf: \"center\",\n\t\tmarginLeft: \"auto\",\n\t\tpadding: 8,\n\t},\n\n\ttab: {\n\t\tminWidth: 120,\n\t\twidth: 120,\n\t},\n\n\tinternalTab: {\n\t\tminWidth: 120,\n\t\twidth: 120,\n\t\tpadding: 5\n\t},\n\n\tticketOptionsBox: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"center\",\n\t\tbackground: theme.palette.optionsBackground,\n\t\tpadding: theme.spacing(1),\n\t},\n\n\tticketSearchLine: {\n\t\tpadding: theme.spacing(1),\n\t},\n\n\tserachInputWrapper: {\n\t\tflex: 1,\n\t\tbackground: theme.palette.total,\n\t\tdisplay: \"flex\",\n\t\tborderRadius: 40,\n\t\tpadding: 4,\n\t\tmarginRight: theme.spacing(1),\n\t},\n\n\tsearchIcon: {\n\t\tcolor: \"grey\",\n\t\tmarginLeft: 6,\n\t\tmarginRight: 6,\n\t\talignSelf: \"center\",\n\t},\n\n\tsearchInput: {\n\t\tflex: 1,\n\t\tborder: \"none\",\n\t\tborderRadius: 30,\n\t},\n\n\tinsiderTabPanel: {\n\t\theight: '100%',\n\t\tmarginTop: \"-72px\",\n\t\tpaddingTop: \"72px\"\n\t},\n\n\tinsiderDoubleTabPanel: {\n\t\tdisplay:\"flex\",\n\t\tflexDirection: \"column\",\n\t\tmarginTop: \"-72px\",\n\t\tpaddingTop: \"72px\",\n\t\theight: \"100%\"\n\t},\n\n\tlabelContainer: {\n\t\twidth: \"auto\",\n\t\tpadding: 0\n\t},\n\ticonLabelWrapper: {\n\t\tflexDirection: \"row\",\n\t\t'& > *:first-child': {\n\t\t\tmarginBottom: '3px !important',\n\t\t\tmarginRight: 16\n\t\t}\n\t},\n\tinsiderTabLabel: {\n\t\t[theme.breakpoints.down(1600)]: {\n\t\t\tdisplay:'none'\n\t\t}\n\t},\n\tsmallFormControl: {\n\t\t'& .MuiOutlinedInput-input': {\n\t\t\tpadding: \"12px 10px\",\n\t\t},\n\t\t'& .MuiInputLabel-outlined': {\n\t\t\tmarginTop: \"-6px\"\n\t\t}\n\t}\n}));\n\nconst TicketsManagerTabs = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tab, setTab] = useState(\"open\");\n  const [tabOpen, setTabOpen] = useState(\"open\");\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n  const [showAllTickets, setShowAllTickets] = useState(false);\n  const searchInputRef = useRef();\n  const { user } = useContext(AuthContext);\n  const { profile } = user;\n\n  const [openCount, setOpenCount] = useState(0);\n  const [pendingCount, setPendingCount] = useState(0);\n\n  const userQueueIds = user.queues.map((q) => q.id);\n  const [selectedQueueIds, setSelectedQueueIds] = useState(userQueueIds || []);\n  const [selectedTags, setSelectedTags] = useState([]);\n  const [selectedUsers, setSelectedUsers] = useState([]);\n\n  useEffect(() => {\n    if (user.profile.toUpperCase() === \"ADMIN\") {\n      setShowAllTickets(true);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (tab === \"search\") {\n      searchInputRef.current.focus();\n    }\n  }, [tab]);\n\n  let searchTimeout;\n\n  const handleSearch = (e) => {\n    const searchedTerm = e.target.value.toLowerCase();\n\n    clearTimeout(searchTimeout);\n\n    if (searchedTerm === \"\") {\n      setSearchParam(searchedTerm);\n      setTab(\"open\");\n      return;\n    }\n\n    searchTimeout = setTimeout(() => {\n      setSearchParam(searchedTerm);\n    }, 500);\n  };\n\n  const handleChangeTab = (e, newValue) => {\n    setTab(newValue);\n  };\n\n  const handleChangeTabOpen = (e, newValue) => {\n    setTabOpen(newValue);\n  };\n\n  const applyPanelStyle = (status) => {\n    if (tabOpen !== status) {\n      return { width: 0, height: 0 };\n    }\n  };\n\n  const handleCloseOrOpenTicket = (ticket) => {\n    setNewTicketModalOpen(false);\n    if (ticket !== undefined && ticket.uuid !== undefined) {\n      history.push(`/tickets/${ticket.uuid}`);\n    }\n  };\n\n  const handleSelectedTags = (selecteds) => {\n    const tags = selecteds.map((t) => t.id);\n    setSelectedTags(tags);\n  };\n\n  const handleSelectedUsers = (selecteds) => {\n    const users = selecteds.map((t) => t.id);\n    setSelectedUsers(users);\n  };\n\n  return (\n    <Paper elevation={0} variant=\"outlined\" className={classes.ticketsWrapper}>\n      <NewTicketModal\n        modalOpen={newTicketModalOpen}\n        onClose={(ticket) => {\n          \n          handleCloseOrOpenTicket(ticket);\n        }}\n      />\n      <Paper elevation={0} square className={classes.tabsHeader}>\n        <Tabs\n          value={tab}\n          onChange={handleChangeTab}\n          variant=\"fullWidth\"\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          aria-label=\"icon label tabs example\"\n        >\n          <Tab\n            value={\"open\"}\n            icon={<MoveToInboxIcon />}\n            label={i18n.t(\"tickets.tabs.open.title\")}\n            classes={{ root: classes.tab }}\n          />\n          <Tab\n            value={\"closed\"}\n            icon={<CheckBoxIcon />}\n            label={i18n.t(\"tickets.tabs.closed.title\")}\n            classes={{ root: classes.tab }}\n          />\n          <Tab\n            value={\"search\"}\n            icon={<SearchIcon />}\n            label={i18n.t(\"tickets.tabs.search.title\")}\n            classes={{ root: classes.tab }}\n          />\n        </Tabs>\n      </Paper>\n      <Paper square elevation={0} className={classes.ticketOptionsBox}>\n        {tab === \"search\" ? (\n          <div className={classes.serachInputWrapper}>\n            <SearchIcon className={classes.searchIcon} />\n            <InputBase\n              className={classes.searchInput}\n              inputRef={searchInputRef}\n              placeholder={i18n.t(\"tickets.search.placeholder\")}\n              type=\"search\"\n              onChange={handleSearch}\n            />\n          </div>\n        ) : (\n          <>\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={() => setNewTicketModalOpen(true)}\n            >\n              {i18n.t(\"ticketsManager.buttons.newTicket\")}\n            </Button>\n            <Can\n              role={user.profile}\n              perform=\"tickets-manager:showall\"\n              yes={() => (\n                <FormControlLabel\n                  label={i18n.t(\"tickets.buttons.showAll\")}\n                  labelPlacement=\"start\"\n                  control={\n                    <Switch\n                      size=\"small\"\n                      checked={showAllTickets}\n                      onChange={() =>\n                        setShowAllTickets((prevState) => !prevState)\n                      }\n                      name=\"showAllTickets\"\n                      color=\"primary\"\n                    />\n                  }\n                />\n              )}\n            />\n          </>\n        )}\n        <TicketsQueueSelect\n          style={{ marginLeft: 6 }}\n          selectedQueueIds={selectedQueueIds}\n          userQueues={user?.queues}\n          onChange={(values) => setSelectedQueueIds(values)}\n        />\n      </Paper>\n      <TabPanel value={tab} name=\"open\" className={classes.ticketsWrapper}>\n        <Tabs\n          value={tabOpen}\n          onChange={handleChangeTabOpen}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"fullWidth\"\n        >\n          <Tab\n            label={\n              <Badge\n                className={classes.badge}\n                badgeContent={openCount}\n                color=\"primary\"\n              >\n                {i18n.t(\"ticketsList.assignedHeader\")}\n              </Badge>\n            }\n            value={\"open\"}\n          />\n          <Tab\n            label={\n              <Badge\n                className={classes.badge}\n                badgeContent={pendingCount}\n                color=\"secondary\"\n              >\n                {i18n.t(\"ticketsList.pendingHeader\")}\n              </Badge>\n            }\n            value={\"pending\"}\n          />\n        </Tabs>\n        <Paper className={classes.ticketsWrapper}>\n          <TicketsList\n            status=\"open\"\n            showAll={showAllTickets}\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setOpenCount(val)}\n            style={applyPanelStyle(\"open\")}\n          />\n          <TicketsList\n            status=\"pending\"\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setPendingCount(val)}\n            style={applyPanelStyle(\"pending\")}\n          />\n        </Paper>\n      </TabPanel>\n      <TabPanel value={tab} name=\"closed\" className={classes.ticketsWrapper}>\n        <TicketsList\n          status=\"closed\"\n          showAll={true}\n          selectedQueueIds={selectedQueueIds}\n        />\n      </TabPanel>\n      <TabPanel value={tab} name=\"search\" className={classes.ticketsWrapper}>\n        <TagsFilter onFiltered={handleSelectedTags} />\n        {profile === \"admin\" && (\n          <UsersFilter onFiltered={handleSelectedUsers} />\n        )}\n        <TicketsList\n          searchParam={searchParam}\n          showAll={true}\n          tags={selectedTags}\n          users={selectedUsers}\n          selectedQueueIds={selectedQueueIds}\n        />\n      </TabPanel>\n    </Paper>\n  );\n};\n\nexport default TicketsManagerTabs;\n","import React from \"react\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { i18n } from \"../../translate/i18n\";\nimport { Grid } from \"@material-ui/core\";\n\nconst ContactDrawerSkeleton = ({ classes }) => {\n\treturn (\n\t\t<div className={classes.content}>\n\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\t\t\twidth={60}\n\t\t\t\t\t\t\theight={60}\n\t\t\t\t\t\t\tclassName={classes.contactAvatar}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={90} />\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Paper>\n\t\t\t<Paper square className={classes.contactDetails}>\n\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t</Typography>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n};\n\nexport default ContactDrawerSkeleton;\n","import React, { useState, useEffect } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\n\textraAttr: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\n    textCenter: {\n        backgroundColor: 'red'\n    }\n}));\n\nconst ContactSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\"),\n});\n\nexport function ContactForm ({ initialContact, onSave, onCancel }) {\n\tconst classes = useStyles();\n\n\tconst [contact, setContact] = useState(initialContact);\n\n    useEffect(() => {\n        setContact(initialContact);\n    }, [initialContact]);\n\n\tconst handleSaveContact = async values => {\n\t\ttry {\n\t\t\tif (contact.id) {\n\t\t\t\tawait api.put(`/contacts/${contact.id}`, values);\n\t\t\t} else {\n\t\t\t\tconst { data } = await api.post(\"/contacts\", values);\n\t\t\t\tif (onSave) {\n\t\t\t\t\tonSave(data);\n\t\t\t\t}\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n    return (\n        <Formik\n            initialValues={contact}\n            enableReinitialize={true}\n            validationSchema={ContactSchema}\n            onSubmit={(values, actions) => {\n                setTimeout(() => {\n                    handleSaveContact(values);\n                    actions.setSubmitting(false);\n                }, 400);\n            }}\n        >\n            {({ values, errors, touched, isSubmitting }) => (\n                <Form>\n                    <Grid container spacing={1}>\n                        {/* <Grid item xs={12}>\n                            <Typography variant=\"subtitle1\" gutterBottom>\n                                {i18n.t(\"contactModal.form.mainInfo\")}\n                            </Typography>\n                        </Grid> */}\n                        <Grid item xs={12}>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"contactModal.form.name\")}\n                                name=\"name\"\n                                autoFocus\n                                error={touched.name && Boolean(errors.name)}\n                                helperText={touched.name && errors.name}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                className={classes.textField}\n                                fullWidth\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"contactModal.form.number\")}\n                                name=\"number\"\n                                error={touched.number && Boolean(errors.number)}\n                                helperText={touched.number && errors.number}\n                                placeholder=\"5513912344321\"\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                fullWidth\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"contactModal.form.email\")}\n                                name=\"email\"\n                                error={touched.email && Boolean(errors.email)}\n                                helperText={touched.email && errors.email}\n                                placeholder=\"Email address\"\n                                fullWidth\n                                margin=\"dense\"\n                                variant=\"outlined\"\n                            />\n                        </Grid>\n                        <Grid item xs={12} spacing={1}>\n                            <Grid container spacing={1}>\n                                <Grid xs={6} item>\n                                    <Button\n                                        onClick={onCancel}\n                                        color=\"secondary\"\n                                        disabled={isSubmitting}\n                                        variant=\"outlined\"\n                                        fullWidth\n                                    >\n                                        {i18n.t(\"contactModal.buttons.cancel\")}\n                                    </Button>\n                                </Grid>\n                                <Grid classes={classes.textCenter} xs={6} item>\n                                    <Button\n                                        type=\"submit\"\n                                        color=\"primary\"\n                                        disabled={isSubmitting}\n                                        variant=\"contained\"\n                                        className={classes.btnWrapper}\n                                        fullWidth\n                                    >\n                                        {contact.id\n                                            ? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n                                            : `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n                                        {isSubmitting && (\n                                            <CircularProgress\n                                                size={24}\n                                                className={classes.buttonProgress}\n                                            />\n                                        )}\n                                    </Button>\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport moment from 'moment';\n\nconst useStyles = makeStyles((theme) => ({\n    inline: {\n        width: '100%'\n    }\n}));\n\nexport default function ContactNotesDialogListItem (props) {\n    const { note, deleteItem } = props;\n    const classes = useStyles();\n\n    const handleDelete = (item) => {\n        deleteItem(item);\n    }\n\n    return (\n        <ListItem alignItems=\"flex-start\">\n            <ListItemAvatar>\n                <Avatar alt={note.user.name} src=\"/static/images/avatar/1.jpg\" />\n            </ListItemAvatar>\n            <ListItemText\n                primary={\n                    <>\n                        <Typography\n                            component=\"span\"\n                            variant=\"body2\"\n                            className={classes.inline}\n                            color=\"textPrimary\"\n                        >\n                            {note.note}\n                        </Typography>\n                    </>\n                }\n                secondary={\n                    <>\n                        {note.user.name}, {moment(note.createdAt).format('DD/MM/YY HH:mm')}\n                    </>\n                }\n            />\n            <ListItemSecondaryAction>\n                <IconButton onClick={() => handleDelete(note)} edge=\"end\" aria-label=\"delete\">\n                    <DeleteIcon />\n                </IconButton>\n            </ListItemSecondaryAction>\n        </ListItem>\n    )   \n}\n\nContactNotesDialogListItem.propTypes = {\n    note: PropTypes.object.isRequired,\n    deleteItem: PropTypes.func.isRequired\n}","import api from \"../../services/api\";\n\nconst useTicketNotes = () => {\n\n    const saveNote = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/ticket-notes',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const deleteNote = async (id) => {\n        const { data } = await api.request({\n            url: `/ticket-notes/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const listNotes = async (params) => {\n        const { data } = await api.request({\n            url: '/ticket-notes/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        saveNote,\n        deleteNote,\n        listNotes\n    }\n}\n\nexport default useTicketNotes;","import React, { useState, useEffect } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport List from '@material-ui/core/List';\nimport { makeStyles } from '@material-ui/core/styles';\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\n\nimport ContactNotesDialogListItem from '../ContactNotesDialogListItem';\nimport ConfirmationModal from '../ConfirmationModal';\n\nimport { toast } from \"react-toastify\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport ButtonWithSpinner from '../ButtonWithSpinner';\n\nimport useTicketNotes from '../../hooks/useTicketNotes';\nimport { Grid } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& .MuiTextField-root': {\n            margin: theme.spacing(1),\n            width: '350px',\n        },\n    },\n    list: {\n        width: '100%',\n        maxWidth: '350px',\n        maxHeight: '200px',\n        backgroundColor: theme.palette.background.paper,\n        overflow: 'auto'\n    },\n    inline: {\n        width: '100%'\n    }\n}));\n\nconst NoteSchema = Yup.object().shape({\n\tnote: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.required(\"Required\")\n});\nexport function ContactNotes ({ ticket }) {\n    const { id: ticketId, contactId } = ticket\n    const classes = useStyles()\n    const [newNote, setNewNote] = useState({ note: \"\" });\n    const [loading, setLoading] = useState(false)\n    const [showOnDeleteDialog, setShowOnDeleteDialog] = useState(false)\n    const [selectedNote, setSelectedNote] = useState({})\n    const [notes, setNotes] = useState([])\n    const { saveNote, deleteNote, listNotes } = useTicketNotes()\n\n    useEffect(() => {\n        async function openAndFetchData () {\n            handleResetState()\n            await loadNotes()\n        }\n        openAndFetchData()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const handleResetState = () => {\n        setNewNote({ note: \"\" })\n        setLoading(false)\n    }\n\n    const handleChangeComment = (e) => {\n        setNewNote({ note: e.target.value })\n    }\n\n    const handleSave = async values => {\n        setLoading(true)\n        try {\n            await saveNote({\n                ...values,\n                ticketId,\n                contactId\n            })\n            await loadNotes()\n            setNewNote({ note: '' })\n            toast.success('Observação adicionada com sucesso!')\n        } catch (e) {\n            toast.error(e)\n        }\n        setLoading(false)\n    }\n\n    const handleOpenDialogDelete = (item) => {\n        setSelectedNote(item)\n        setShowOnDeleteDialog(true)\n    }\n\n    const handleDelete = async () => {\n        setLoading(true)\n        try {\n            await deleteNote(selectedNote.id)\n            await loadNotes()\n            setSelectedNote({})\n            toast.success('Observação excluída com sucesso!')\n        } catch (e) {\n            toast.error(e)\n        }\n        setLoading(false)\n    }\n\n    const loadNotes = async () => {\n        setLoading(true)\n        try {\n            const notes = await listNotes({ ticketId, contactId })\n            setNotes(notes)\n        } catch (e) {\n            toast.error(e)\n        }\n        setLoading(false)\n    }\n\n    const renderNoteList = () => {\n        return notes.map((note) => {\n            return <ContactNotesDialogListItem\n                note={note}\n                key={note.id}\n                deleteItem={handleOpenDialogDelete}\n            />\n        })\n    }\n\n    return (\n        <>\n            <ConfirmationModal\n                title=\"Excluir Registro\"\n                open={showOnDeleteDialog}\n                onClose={setShowOnDeleteDialog}\n                onConfirm={handleDelete}\n            >\n                Deseja realmente excluir este registro?\n            </ConfirmationModal>\n            <Formik\n                initialValues={newNote}\n                enableReinitialize={true}\n                validationSchema={NoteSchema}\n                onSubmit={(values, actions) => {\n                    setTimeout(() => {\n                        handleSave(values);\n                        actions.setSubmitting(false);\n                    }, 400);\n                }}\n            >\n\n                {({ touched, errors, setErrors }) => (\n                    <Form>\n                        <Grid container spacing={2}>\n                            <Grid xs={12} item>\n                                <Field\n                                    as={TextField}\n                                    name=\"note\"\n                                    rows={3}\n                                    label={i18n.t(\"ticketOptionsMenu.appointmentsModal.textarea\")}\n                                    placeholder={i18n.t(\"ticketOptionsMenu.appointmentsModal.placeholder\")}\n                                    multiline={true}\n                                    error={touched.note && Boolean(errors.note)}\n                                    helperText={touched.note && errors.note}\n                                    variant=\"outlined\"\n                                    onChange={handleChangeComment}\n                                    fullWidth\n                                />\n                            </Grid>\n                            { notes.length > 0 && (\n                                <Grid xs={12} item>\n                                    <List className={classes.list}>\n                                        { renderNoteList() }\n                                    </List>\n                                </Grid>\n                            ) }\n                            <Grid xs={12} item>\n                                <Grid container spacing={2}>\n                                    <Grid xs={6} item>\n                                        <Button\n                                            onClick={() => {\n                                                setNewNote(\"\");\n                                                setErrors({});\n                                            }}\n                                            color=\"primary\"\n                                            variant=\"outlined\"\n                                            fullWidth\n                                        >\n                                            Cancelar\n                                        </Button>\n                                    </Grid>\n                                    <Grid xs={6} item>\n                                        <ButtonWithSpinner loading={loading} color=\"primary\" type=\"submit\" variant=\"contained\" autoFocus fullWidth>\n                                            Salvar\n                                        </ButtonWithSpinner>\n                                    </Grid>\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </Form>\n                )}\n            </Formik>\n        </>\n    );\n}","import React, { useEffect, useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Link from \"@material-ui/core/Link\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\nimport CreateIcon from '@material-ui/icons/Create';\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport ContactDrawerSkeleton from \"../ContactDrawerSkeleton\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport { CardHeader } from \"@material-ui/core\";\nimport { ContactForm } from \"../ContactForm\";\nimport ContactModal from \"../ContactModal\";\nimport { ContactNotes } from \"../ContactNotes\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles(theme => ({\n\tdrawer: {\n\t\twidth: drawerWidth,\n\t\tflexShrink: 0,\n\t},\n\tdrawerPaper: {\n\t\twidth: drawerWidth,\n\t\tdisplay: \"flex\",\n\t\tborderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderRight: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderTopRightRadius: 4,\n\t\tborderBottomRightRadius: 4,\n\t},\n\theader: {\n\t\tdisplay: \"flex\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tbackgroundColor: theme.palette.contactdrawer, //DARK MODE PLW DESIGN//\n\t\talignItems: \"center\",\n\t\tpadding: theme.spacing(0, 1),\n\t\tminHeight: \"73px\",\n\t\tjustifyContent: \"flex-start\",\n\t},\n\tcontent: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: theme.palette.contactdrawer, //DARK MODE PLW DESIGN//\n\t\tflexDirection: \"column\",\n\t\tpadding: \"8px 0px 8px 8px\",\n\t\theight: \"100%\",\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\n\tcontactAvatar: {\n\t\tmargin: 15,\n\t\twidth: 100,\n\t\theight: 100,\n\t},\n\n\tcontactHeader: {\n\t\tdisplay: \"flex\",\n\t\tpadding: 8,\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\t\"& > *\": {\n\t\t\tmargin: 4,\n\t\t},\n\t},\n\n\tcontactDetails: {\n\t\tmarginTop: 8,\n\t\tpadding: 8,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n\tcontactExtraInfo: {\n\t\tmarginTop: 4,\n\t\tpadding: 6,\n\t},\n}));\n\nconst ContactDrawer = ({ open, handleDrawerClose, contact, ticket, loading }) => {\n\tconst classes = useStyles();\n\n\tconst [modalOpen, setModalOpen] = useState(false);\n\tconst [openForm, setOpenForm] = useState(false);\n\n\tuseEffect(() => {\n\t\tsetOpenForm(false);\n\t}, [open, contact]);\n\n\treturn (\n\t\t<>\n\t\t\t<Drawer\n\t\t\t\tclassName={classes.drawer}\n\t\t\t\tvariant=\"persistent\"\n\t\t\t\tanchor=\"right\"\n\t\t\t\topen={open}\n\t\t\t\tPaperProps={{ style: { position: \"absolute\" } }}\n\t\t\t\tBackdropProps={{ style: { position: \"absolute\" } }}\n\t\t\t\tModalProps={{\n\t\t\t\t\tcontainer: document.getElementById(\"drawer-container\"),\n\t\t\t\t\tstyle: { position: \"absolute\" },\n\t\t\t\t}}\n\t\t\t\tclasses={{\n\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className={classes.header}>\n\t\t\t\t\t<IconButton onClick={handleDrawerClose}>\n\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<Typography style={{ justifySelf: \"center\" }}>\n\t\t\t\t\t\t{i18n.t(\"contactDrawer.header\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t</div>\n\t\t\t\t{loading ? (\n\t\t\t\t\t<ContactDrawerSkeleton classes={classes} />\n\t\t\t\t) : (\n\t\t\t\t\t<div className={classes.content}>\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t\t\t\t<CardHeader\n\t\t\t\t\t\t\t\tonClick={() => {}}\n\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\", width: '100%' }}\n\t\t\t\t\t\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\t\t\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\t\t\t\t\t\tavatar={<Avatar src={contact.profilePicUrl} alt=\"contact_image\" style={{ width: 60, height: 60 }} />}\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Typography onClick={() => setOpenForm(true)}>\n\t\t\t\t\t\t\t\t\t\t\t{contact.name}\n\t\t\t\t\t\t\t\t\t\t\t<CreateIcon style={{fontSize: 16, marginLeft: 5}} />\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsubheader={\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Typography style={{fontSize: 12}}>\n\t\t\t\t\t\t\t\t\t\t\t<Link href={`tel:${contact.number}`}>{contact.number}</Link>\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<Typography style={{fontSize: 12}}>\n\t\t\t\t\t\t\t\t\t\t\t<Link href={`mailto:${contact.email}`}>{contact.email}</Link>\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={() => setModalOpen(!openForm)}\n\t\t\t\t\t\t\t\tstyle={{fontSize: 12}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.buttons.edit\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{(contact.id && openForm) && <ContactForm initialContact={contact} onCancel={() => setOpenForm(false)} />}\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" style={{marginBottom: 10}}>\n\t\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.appointmentsModal.title\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<ContactNotes ticket={ticket} />\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\n\t\t\t\t\t\t\t<ContactModal\n\t\t\t\t\t\t\t\topen={modalOpen}\n\t\t\t\t\t\t\t\tonClose={() => setModalOpen(false)}\n\t\t\t\t\t\t\t\tcontactId={contact.id}\n\t\t\t\t\t\t\t></ContactModal>\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t{contact?.extraInfo?.map(info => (\n\t\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\t\tkey={info.id}\n\t\t\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tclassName={classes.contactExtraInfo}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<InputLabel>{info.name}</InputLabel>\n\t\t\t\t\t\t\t\t\t<Typography component=\"div\" noWrap style={{ paddingTop: 2 }}>\n\t\t\t\t\t\t\t\t\t\t<MarkdownWrapper>{info.value}</MarkdownWrapper>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</Drawer>\n\t\t</>\n\t);\n};\n\nexport default ContactDrawer;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\ttimerBox: {\n\t\tdisplay: \"flex\",\n\t\tmarginLeft: 10,\n\t\tmarginRight: 10,\n\t\talignItems: \"center\",\n\t},\n}));\n\nconst RecordingTimer = () => {\n\tconst classes = useStyles();\n\tconst initialState = {\n\t\tminutes: 0,\n\t\tseconds: 0,\n\t};\n\tconst [timer, setTimer] = useState(initialState);\n\n\tuseEffect(() => {\n\t\tconst interval = setInterval(\n\t\t\t() =>\n\t\t\t\tsetTimer(prevState => {\n\t\t\t\t\tif (prevState.seconds === 59) {\n\t\t\t\t\t\treturn { ...prevState, minutes: prevState.minutes + 1, seconds: 0 };\n\t\t\t\t\t}\n\t\t\t\t\treturn { ...prevState, seconds: prevState.seconds + 1 };\n\t\t\t\t}),\n\t\t\t1000\n\t\t);\n\t\treturn () => {\n\t\t\tclearInterval(interval);\n\t\t};\n\t}, []);\n\n\tconst addZero = n => {\n\t\treturn n < 10 ? \"0\" + n : n;\n\t};\n\n\treturn (\n\t\t<div className={classes.timerBox}>\n\t\t\t<span>{`${addZero(timer.minutes)}:${addZero(timer.seconds)}`}</span>\n\t\t</div>\n\t);\n};\n\nexport default RecordingTimer;\n","import api from \"../../services/api\";\n\nconst useQuickMessages = () => {\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/quick-messages',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/quick-messages/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const deleteRecord = async (id) => {\n        const { data } = await api.request({\n            url: `/quick-messages/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const list = async (params) => {\n        const { data } = await api.request({\n            url: '/quick-messages/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        save,\n        update,\n        deleteRecord,\n        list\n    }\n}\n\nexport default useQuickMessages;","import React, { useState, useEffect, useContext, useRef } from \"react\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { Picker } from \"emoji-mart\";\nimport MicRecorder from \"mic-recorder-to-mp3\";\nimport clsx from \"clsx\";\nimport { isNil } from \"lodash\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { green } from \"@material-ui/core/colors\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MoodIcon from \"@material-ui/icons/Mood\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport CheckCircleOutlineIcon from \"@material-ui/icons/CheckCircleOutline\";\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\nimport { FormControlLabel, Switch } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { isString, isEmpty, isObject, has } from \"lodash\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport axios from \"axios\";\n\nimport RecordingTimer from \"./RecordingTimer\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\nimport toastError from \"../../errors/toastError\";\n\nimport useQuickMessages from \"../../hooks/useQuickMessages\";\n\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\n\nconst useStyles = makeStyles((theme) => ({\n  mainWrapper: {\n    backgroundColor: theme.palette.bordabox, //DARK MODE PLW DESIGN//\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  newMessageBox: {\n    backgroundColor: theme.palette.newmessagebox, //DARK MODE PLW DESIGN//\n    width: \"100%\",\n    display: \"flex\",\n    padding: \"7px\",\n    alignItems: \"center\",\n  },\n\n  messageInputWrapper: {\n    padding: 6,\n    marginRight: 7,\n    backgroundColor: theme.palette.inputdigita, //DARK MODE PLW DESIGN//\n    display: \"flex\",\n    borderRadius: 20,\n    flex: 1,\n  },\n\n  messageInput: {\n    paddingLeft: 10,\n    flex: 1,\n    border: \"none\",\n  },\n\n  sendMessageIcons: {\n    color: \"grey\",\n  },\n\n  uploadInput: {\n    display: \"none\",\n  },\n\n  viewMediaInputWrapper: {\n    display: \"flex\",\n    padding: \"10px 13px\",\n    position: \"relative\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    backgroundColor: \"#eee\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  emojiBox: {\n    position: \"absolute\",\n    bottom: 63,\n    width: 40,\n    borderTop: \"1px solid #e8e8e8\",\n  },\n\n  circleLoading: {\n    color: green[500],\n    opacity: \"70%\",\n    position: \"absolute\",\n    top: \"20%\",\n    left: \"50%\",\n    marginLeft: -12,\n  },\n\n  audioLoading: {\n    color: green[500],\n    opacity: \"70%\",\n  },\n\n  recorderWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    alignContent: \"middle\",\n  },\n\n  cancelAudioIcon: {\n    color: \"red\",\n  },\n\n  sendAudioIcon: {\n    color: \"green\",\n  },\n\n  replyginMsgWrapper: {\n    display: \"flex\",\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingTop: 8,\n    paddingLeft: 73,\n    paddingRight: 7,\n  },\n\n  replyginMsgContainer: {\n    flex: 1,\n    marginRight: 5,\n    overflowY: \"hidden\",\n    backgroundColor: \"rgba(0, 0, 0, 0.05)\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  replyginMsgBody: {\n    padding: 10,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n\n  replyginContactMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n\n  replyginSelfMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n}));\n\nconst EmojiOptions = (props) => {\n  const { disabled, showEmoji, setShowEmoji, handleAddEmoji } = props;\n  const classes = useStyles();\n  return (\n    <>\n      <IconButton\n        aria-label=\"emojiPicker\"\n        component=\"span\"\n        disabled={disabled}\n        onClick={(e) => setShowEmoji((prevState) => !prevState)}\n      >\n        <MoodIcon className={classes.sendMessageIcons} />\n      </IconButton>\n      {showEmoji ? (\n        <div className={classes.emojiBox}>\n          <Picker\n            perLine={16}\n            showPreview={false}\n            showSkinTones={false}\n            onSelect={handleAddEmoji}\n          />\n        </div>\n      ) : null}\n    </>\n  );\n};\n\nconst SignSwitch = (props) => {\n  const { width, setSignMessage, signMessage } = props;\n  if (isWidthUp(\"md\", width)) {\n    return (\n      <FormControlLabel\n        style={{ marginRight: 7, color: \"gray\" }}\n        label={i18n.t(\"messagesInput.signMessage\")}\n        labelPlacement=\"start\"\n        control={\n          <Switch\n            size=\"small\"\n            checked={signMessage}\n            onChange={(e) => {\n              setSignMessage(e.target.checked);\n            }}\n            name=\"showAllTickets\"\n            color=\"primary\"\n          />\n        }\n      />\n    );\n  }\n  return null;\n};\n\nconst FileInput = (props) => {\n  const { handleChangeMedias, disableOption } = props;\n  const classes = useStyles();\n  return (\n    <>\n      <input\n        multiple\n        type=\"file\"\n        id=\"upload-button\"\n        disabled={disableOption()}\n        className={classes.uploadInput}\n        onChange={handleChangeMedias}\n      />\n      <label htmlFor=\"upload-button\">\n        <IconButton\n          aria-label=\"upload\"\n          component=\"span\"\n          disabled={disableOption()}\n        >\n          <AttachFileIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </label>\n    </>\n  );\n};\n\nconst ActionButtons = (props) => {\n  const {\n    inputMessage,\n    loading,\n    recording,\n    ticketStatus,\n    handleSendMessage,\n    handleCancelAudio,\n    handleUploadAudio,\n    handleStartRecording,\n  } = props;\n  const classes = useStyles();\n  if (inputMessage) {\n    return (\n      <IconButton\n        aria-label=\"sendMessage\"\n        component=\"span\"\n        onClick={handleSendMessage}\n        disabled={loading}\n      >\n        <SendIcon className={classes.sendMessageIcons} />\n      </IconButton>\n    );\n  } else if (recording) {\n    return (\n      <div className={classes.recorderWrapper}>\n        <IconButton\n          aria-label=\"cancelRecording\"\n          component=\"span\"\n          fontSize=\"large\"\n          disabled={loading}\n          onClick={handleCancelAudio}\n        >\n          <HighlightOffIcon className={classes.cancelAudioIcon} />\n        </IconButton>\n        {loading ? (\n          <div>\n            <CircularProgress className={classes.audioLoading} />\n          </div>\n        ) : (\n          <RecordingTimer />\n        )}\n\n        <IconButton\n          aria-label=\"sendRecordedAudio\"\n          component=\"span\"\n          onClick={handleUploadAudio}\n          disabled={loading}\n        >\n          <CheckCircleOutlineIcon className={classes.sendAudioIcon} />\n        </IconButton>\n      </div>\n    );\n  } else {\n    return (\n      <IconButton\n        aria-label=\"showRecorder\"\n        component=\"span\"\n        disabled={loading || ticketStatus !== \"open\"}\n        onClick={handleStartRecording}\n      >\n        <MicIcon className={classes.sendMessageIcons} />\n      </IconButton>\n    );\n  }\n};\n\nconst CustomInput = (props) => {\n  const {\n    loading,\n    inputRef,\n    ticketStatus,\n    inputMessage,\n    setInputMessage,\n    handleSendMessage,\n    handleInputPaste,\n    disableOption,\n    handleQuickAnswersClick,\n  } = props;\n  const classes = useStyles();\n  const [quickMessages, setQuickMessages] = useState([]);\n  const [options, setOptions] = useState([]);\n  const [popupOpen, setPopupOpen] = useState(false);\n\n  const { user } = useContext(AuthContext);\n\n  const { list: listQuickMessages } = useQuickMessages();\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = localStorage.getItem(\"companyId\");\n      const messages = await listQuickMessages({ companyId, userId: user.id });\n      const options = messages.map((m) => {\n        let truncatedMessage = m.message;\n        if (isString(truncatedMessage) && truncatedMessage.length > 35) {\n          truncatedMessage = m.message.substring(0, 35) + \"...\";\n        }\n        return {\n          value: m.message,\n          label: `/${m.shortcode} - ${truncatedMessage}`,\n          mediaPath: m.mediaPath,\n        };\n      });\n      setQuickMessages(options);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (\n      isString(inputMessage) &&\n      !isEmpty(inputMessage) &&\n      inputMessage.length > 1\n    ) {\n      const firstWord = inputMessage.charAt(0);\n      setPopupOpen(firstWord.indexOf(\"/\") > -1);\n\n      const filteredOptions = quickMessages.filter(\n        (m) => m.label.indexOf(inputMessage) > -1\n      );\n      setOptions(filteredOptions);\n    } else {\n      setPopupOpen(false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inputMessage]);\n\n  const onKeyPress = (e) => {\n    if (loading || e.shiftKey) return;\n    else if (e.key === \"Enter\") {\n      handleSendMessage();\n    }\n  };\n\n  const onPaste = (e) => {\n    if (ticketStatus === \"open\") {\n      handleInputPaste(e);\n    }\n  };\n\n  const renderPlaceholder = () => {\n    if (ticketStatus === \"open\") {\n      return i18n.t(\"messagesInput.placeholderOpen\");\n    }\n    return i18n.t(\"messagesInput.placeholderClosed\");\n  };\n\n\n  const setInputRef = (input) => {\n    if (input) {\n      input.focus();\n      inputRef.current = input;\n    }\n  };\n\n  return (\n    <div className={classes.messageInputWrapper}>\n      <Autocomplete\n        freeSolo\n        open={popupOpen}\n        id=\"grouped-demo\"\n        value={inputMessage}\n        options={options}\n        closeIcon={null}\n        getOptionLabel={(option) => {\n          if (isObject(option)) {\n            return option.label;\n          } else {\n            return option;\n          }\n        }}\n        onChange={(event, opt) => {\n         \n          if (isObject(opt) && has(opt, \"value\") && isNil(opt.mediaPath)) {\n            setInputMessage(opt.value);\n            setTimeout(() => {\n              inputRef.current.scrollTop = inputRef.current.scrollHeight;\n            }, 200);\n          } else if (isObject(opt) && has(opt, \"value\") && !isNil(opt.mediaPath)) {\n            handleQuickAnswersClick(opt);\n\n            setTimeout(() => {\n              inputRef.current.scrollTop = inputRef.current.scrollHeight;\n            }, 200);\n          }\n        }}\n        onInputChange={(event, opt, reason) => {\n          if (reason === \"input\") {\n            setInputMessage(event.target.value);\n          }\n        }}\n        onPaste={onPaste}\n        onKeyPress={onKeyPress}\n        style={{ width: \"100%\" }}\n        renderInput={(params) => {\n          const { InputLabelProps, InputProps, ...rest } = params;\n          return (\n            <InputBase\n              {...params.InputProps}\n              {...rest}\n              disabled={disableOption()}\n              inputRef={setInputRef}\n              placeholder={renderPlaceholder()}\n              multiline\n              className={classes.messageInput}\n              maxRows={5}\n            />\n          );\n        }}\n      />\n    </div>\n  );\n};\n\nconst MessageInputCustom = (props) => {\n  const { ticketStatus, ticketId } = props;\n  const classes = useStyles();\n\n  const [medias, setMedias] = useState([]);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [showEmoji, setShowEmoji] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [recording, setRecording] = useState(false);\n  const inputRef = useRef();\n  const { setReplyingMessage, replyingMessage } =\n    useContext(ReplyMessageContext);\n  const { user } = useContext(AuthContext);\n\n  const [signMessage, setSignMessage] = useLocalStorage(\"signOption\", true);\n\n  useEffect(() => {\n    inputRef.current.focus();\n  }, [replyingMessage]);\n\n  useEffect(() => {\n    inputRef.current.focus();\n    return () => {\n      setInputMessage(\"\");\n      setShowEmoji(false);\n      setMedias([]);\n      setReplyingMessage(null);\n    };\n  }, [ticketId, setReplyingMessage]);\n\n  // const handleChangeInput = e => {\n  // \tif (isObject(e) && has(e, 'value')) {\n  // \t\tsetInputMessage(e.value);\n  // \t} else {\n  // \t\tsetInputMessage(e.target.value)\n  // \t}\n  // };\n\n  const handleAddEmoji = (e) => {\n    let emoji = e.native;\n    setInputMessage((prevState) => prevState + emoji);\n  };\n\n  const handleChangeMedias = (e) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    const selectedMedias = Array.from(e.target.files);\n    setMedias(selectedMedias);\n  };\n\n  const handleInputPaste = (e) => {\n    if (e.clipboardData.files[0]) {\n      setMedias([e.clipboardData.files[0]]);\n    }\n  };\n\n  const handleUploadQuickMessageMedia = async (blob, message) => {\n    setLoading(true);\n    try {\n      const extension = blob.type.split(\"/\")[1];\n\n      const formData = new FormData();\n      const filename = `${new Date().getTime()}.${extension}`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\",  message);\n      formData.append(\"fromMe\", true);\n\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n    setLoading(false);\n  };\n  \n  const handleQuickAnswersClick = async (value) => {\n    if (value.mediaPath) {\n      try {\n        const { data } = await axios.get(value.mediaPath, {\n          responseType: \"blob\",\n        });\n\n        handleUploadQuickMessageMedia(data, value.value);\n        setInputMessage(\"\");\n        return;\n        //  handleChangeMedias(response)\n      } catch (err) {\n        toastError(err);\n      }\n    }\n\n    setInputMessage(\"\");\n    setInputMessage(value.value);\n  };\n\n  const handleUploadMedia = async (e) => {\n    setLoading(true);\n    e.preventDefault();\n\n    const formData = new FormData();\n    formData.append(\"fromMe\", true);\n    medias.forEach((media) => {\n      formData.append(\"medias\", media);\n      formData.append(\"body\", media.name);\n    });\n\n    try {\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setLoading(false);\n    setMedias([]);\n  };\n\n  const handleSendMessage = async () => {\n    if (inputMessage.trim() === \"\") return;\n    setLoading(true);\n\n    const message = {\n      read: 1,\n      fromMe: true,\n      mediaUrl: \"\",\n      body: signMessage\n        ? `*${user?.name}:*\\n${inputMessage.trim()}`\n        : inputMessage.trim(),\n      quotedMsg: replyingMessage,\n    };\n    try {\n      await api.post(`/messages/${ticketId}`, message);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setInputMessage(\"\");\n    setShowEmoji(false);\n    setLoading(false);\n    setReplyingMessage(null);\n  };\n\n  const handleStartRecording = async () => {\n    setLoading(true);\n    try {\n      await navigator.mediaDevices.getUserMedia({ audio: true });\n      await Mp3Recorder.start();\n      setRecording(true);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const handleUploadAudio = async () => {\n    setLoading(true);\n    try {\n      const [, blob] = await Mp3Recorder.stop().getMp3();\n      if (blob.size < 10000) {\n        setLoading(false);\n        setRecording(false);\n        return;\n      }\n\n      const formData = new FormData();\n      const filename = `audio-record-site-${new Date().getTime()}.mp3`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\", filename);\n      formData.append(\"fromMe\", true);\n\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setRecording(false);\n    setLoading(false);\n  };\n\n  const handleCancelAudio = async () => {\n    try {\n      await Mp3Recorder.stop().getMp3();\n      setRecording(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const disableOption = () => {\n    return loading || recording || ticketStatus !== \"open\";\n  };\n\n  const renderReplyingMessage = (message) => {\n    return (\n      <div className={classes.replyginMsgWrapper}>\n        <div className={classes.replyginMsgContainer}>\n          <span\n            className={clsx(classes.replyginContactMsgSideColor, {\n              [classes.replyginSelfMsgSideColor]: !message.fromMe,\n            })}\n          ></span>\n          <div className={classes.replyginMsgBody}>\n            {!message.fromMe && (\n              <span className={classes.messageContactName}>\n                {message.contact?.name}\n              </span>\n            )}\n            {message.body}\n          </div>\n        </div>\n        <IconButton\n          aria-label=\"showRecorder\"\n          component=\"span\"\n          disabled={loading || ticketStatus !== \"open\"}\n          onClick={() => setReplyingMessage(null)}\n        >\n          <ClearIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </div>\n    );\n  };\n\n  if (medias.length > 0)\n    return (\n      <Paper elevation={0} square className={classes.viewMediaInputWrapper}>\n        <IconButton\n          aria-label=\"cancel-upload\"\n          component=\"span\"\n          onClick={(e) => setMedias([])}\n        >\n          <CancelIcon className={classes.sendMessageIcons} />\n        </IconButton>\n\n        {loading ? (\n          <div>\n            <CircularProgress className={classes.circleLoading} />\n          </div>\n        ) : (\n          <span>\n            {medias[0]?.name}\n            {/* <img src={media.preview} alt=\"\"></img> */}\n          </span>\n        )}\n        <IconButton\n          aria-label=\"send-upload\"\n          component=\"span\"\n          onClick={handleUploadMedia}\n          disabled={loading}\n        >\n          <SendIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </Paper>\n    );\n  else {\n    return (\n      <Paper square elevation={0} className={classes.mainWrapper}>\n        {replyingMessage && renderReplyingMessage(replyingMessage)}\n        <div className={classes.newMessageBox}>\n          <EmojiOptions\n            disabled={disableOption()}\n            handleAddEmoji={handleAddEmoji}\n            showEmoji={showEmoji}\n            setShowEmoji={setShowEmoji}\n          />\n\n          <FileInput\n            disableOption={disableOption}\n            handleChangeMedias={handleChangeMedias}\n          />\n\n          <SignSwitch\n            width={props.width}\n            setSignMessage={setSignMessage}\n            signMessage={signMessage}\n          />\n\n          <CustomInput\n            loading={loading}\n            inputRef={inputRef}\n            ticketStatus={ticketStatus}\n            inputMessage={inputMessage}\n            setInputMessage={setInputMessage}\n            // handleChangeInput={handleChangeInput}\n            handleSendMessage={handleSendMessage}\n            handleInputPaste={handleInputPaste}\n            disableOption={disableOption}\n            handleQuickAnswersClick={handleQuickAnswersClick}\n          />\n\n          <ActionButtons\n            inputMessage={inputMessage}\n            loading={loading}\n            recording={recording}\n            ticketStatus={ticketStatus}\n            handleSendMessage={handleSendMessage}\n            handleCancelAudio={handleCancelAudio}\n            handleUploadAudio={handleUploadAudio}\n            handleStartRecording={handleStartRecording}\n          />\n        </div>\n      </Paper>\n    );\n  }\n};\n\nexport default withWidth()(MessageInputCustom);\n","import { useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nexport function useLocalStorage(key, initialValue) {\n\tconst [storedValue, setStoredValue] = useState(() => {\n\t\ttry {\n\t\t\tconst item = localStorage.getItem(key);\n\t\t\treturn item ? JSON.parse(item) : initialValue;\n\t\t} catch (error) {\n\t\t\ttoastError(error);\n\t\t\treturn initialValue;\n\t\t}\n\t});\n\n\tconst setValue = value => {\n\t\ttry {\n\t\t\tconst valueToStore =\n\t\t\t\tvalue instanceof Function ? value(storedValue) : value;\n\n\t\t\tsetStoredValue(valueToStore);\n\n\t\t\tlocalStorage.setItem(key, JSON.stringify(valueToStore));\n\t\t} catch (error) {\n\t\t\ttoastError(error);\n\t\t}\n\t};\n\n\treturn [storedValue, setValue];\n}\n","import api from \"../../services/api\";\n\nconst useQueues = () => {\n\tconst findAll = async () => {\n        const { data } = await api.get(\"/queue\");\n        return data;\n    }\n\n\treturn { findAll };\n};\n\nexport default useQueues;\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Select from \"@material-ui/core/Select\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { Grid, ListItemText, Typography, makeStyles } from \"@material-ui/core\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n  createFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\nimport useQueues from \"../../hooks/useQueues\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  maxWidth: {\n    width: \"100%\",\n  },\n}));\n\nconst filterOptions = createFilterOptions({\n  trim: true,\n});\n\nconst TransferTicketModalCustom = ({ modalOpen, onClose, ticketid }) => {\n  const history = useHistory();\n  const [options, setOptions] = useState([]);\n  const [queues, setQueues] = useState([]);\n  const [allQueues, setAllQueues] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [selectedQueue, setSelectedQueue] = useState(\"\");\n  const classes = useStyles();\n  const { findAll: findAllQueues } = useQueues();\n  const isMounted = useRef(true);\n  const [whatsapps, setWhatsapps] = useState([]);\n  const [selectedWhatsapp, setSelectedWhatsapp] = useState(\"\");\n  const { user } = useContext(AuthContext);\n  const { companyId, whatsappId } = user;\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        api\n          .get(`/whatsapp`, { params: { companyId, session: 0 } })\n          .then(({ data }) => setWhatsapps(data));\n      };\n\n      if (whatsappId !== null && whatsappId !== undefined) {\n        setSelectedWhatsapp(whatsappId)\n      }\n\n      if (user.queues.length === 1) {\n        setSelectedQueue(user.queues[0].id)\n      }\n      fetchContacts();\n      setLoading(false);\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [])\n\n  useEffect(() => {\n    if (isMounted.current) {\n      const loadQueues = async () => {\n        const list = await findAllQueues();\n        setAllQueues(list);\n        setQueues(list);\n      };\n      loadQueues();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (!modalOpen || searchParam.length < 3) {\n      setLoading(false);\n      return;\n    }\n    const delayDebounceFn = setTimeout(() => {\n      setLoading(true);\n      const fetchUsers = async () => {\n        try {\n          const { data } = await api.get(\"/users/\", {\n            params: { searchParam },\n          });\n          setOptions(data.users);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n\n      fetchUsers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, modalOpen]);\n\n  const handleClose = () => {\n    onClose();\n    setSearchParam(\"\");\n    setSelectedUser(null);\n  };\n\n  const handleSaveTicket = async (e) => {\n    e.preventDefault();\n    if (!ticketid) return;\n    if (!selectedQueue || selectedQueue === \"\") return;\n    setLoading(true);\n    try {\n      let data = {};\n\n      if (selectedUser) {\n        data.userId = selectedUser.id;\n      }\n\n      if (selectedQueue && selectedQueue !== null) {\n        data.queueId = selectedQueue;\n\n        if (!selectedUser) {\n          data.status = \"pending\";\n          data.userId = null;\n        }\n      }\n\n      if (selectedWhatsapp) {\n        data.whatsappId = selectedWhatsapp\n      }\n      await api.put(`/tickets/${ticketid}`, data);\n\n      history.push(`/tickets`);\n    } catch (err) {\n      setLoading(false);\n      toastError(err);\n    }\n  };\n\n  return (\n    <Dialog open={modalOpen} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n      <form onSubmit={handleSaveTicket}>\n        <DialogTitle id=\"form-dialog-title\">\n          {i18n.t(\"transferTicketModal.title\")}\n        </DialogTitle>\n        <DialogContent dividers>\n          <Autocomplete\n            style={{ width: 300, marginBottom: 20 }}\n            getOptionLabel={(option) => `${option.name}`}\n            onChange={(e, newValue) => {\n              setSelectedUser(newValue);\n              if (newValue != null && Array.isArray(newValue.queues)) {\n                setQueues(newValue.queues);\n              } else {\n                setQueues(allQueues);\n                setSelectedQueue(\"\");\n              }\n            }}\n            options={options}\n            filterOptions={filterOptions}\n            freeSolo\n            autoHighlight\n            noOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\n            loading={loading}\n            renderInput={(params) => (\n              <TextField\n                {...params}\n                label={i18n.t(\"transferTicketModal.fieldLabel\")}\n                variant=\"outlined\"\n                autoFocus\n                onChange={(e) => setSearchParam(e.target.value)}\n                InputProps={{\n                  ...params.InputProps,\n                  endAdornment: (\n                    <React.Fragment>\n                      {loading ? (\n                        <CircularProgress color=\"inherit\" size={20} />\n                      ) : null}\n                      {params.InputProps.endAdornment}\n                    </React.Fragment>\n                  ),\n                }}\n              />\n            )}\n          />\n          <FormControl variant=\"outlined\" className={classes.maxWidth}>\n            <InputLabel>\n              {i18n.t(\"transferTicketModal.fieldQueueLabel\")}\n            </InputLabel>\n            <Select\n              value={selectedQueue}\n              onChange={(e) => setSelectedQueue(e.target.value)}\n              label={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\n            >\n              {queues.map((queue) => (\n                <MenuItem key={queue.id} value={queue.id}>\n                  {queue.name}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n          {/* CONEXAO */}\n          <Grid container spacing={2} style={{marginTop: '15px'}}>\n            <Grid xs={12} item>\n              <Select\n                required\n                fullWidth\n                displayEmpty\n                variant=\"outlined\"\n                value={selectedWhatsapp}\n                onChange={(e) => {\n                  setSelectedWhatsapp(e.target.value)\n                }}\n                MenuProps={{\n                  anchorOrigin: {\n                    vertical: \"bottom\",\n                    horizontal: \"left\",\n                  },\n                  transformOrigin: {\n                    vertical: \"top\",\n                    horizontal: \"left\",\n                  },\n                  getContentAnchorEl: null,\n                }}\n                renderValue={() => {\n                  if (selectedWhatsapp === \"\") {\n                    return \"Selecione uma Conexão\"\n                  }\n                  const whatsapp = whatsapps.find(w => w.id === selectedWhatsapp)\n                  return whatsapp.name\n                }}\n              >\n                {whatsapps?.length > 0 &&\n                  whatsapps.map((whatsapp, key) => (\n                    <MenuItem dense key={key} value={whatsapp.id}>\n                      <ListItemText\n                        primary={\n                          <>\n                            {/* {IconChannel(whatsapp.channel)} */}\n                            <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\n                              {whatsapp.name} &nbsp; <p className={(whatsapp.status) === 'CONNECTED' ? classes.online : classes.offline} >({whatsapp.status})</p>\n                            </Typography>\n                          </>\n                        }\n                      />\n                    </MenuItem>\n                  ))}\n              </Select>\n            </Grid>\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={handleClose}\n            color=\"secondary\"\n            disabled={loading}\n            variant=\"outlined\"\n          >\n            {i18n.t(\"transferTicketModal.buttons.cancel\")}\n          </Button>\n          <ButtonWithSpinner\n            variant=\"contained\"\n            type=\"submit\"\n            color=\"primary\"\n            loading={loading}\n          >\n            {i18n.t(\"transferTicketModal.buttons.ok\")}\n          </ButtonWithSpinner>\n        </DialogActions>\n      </form>\n    </Dialog>\n  );\n};\n\nexport default TransferTicketModalCustom;\n","import React from \"react\";\n\nimport TextField from \"@material-ui/core/TextField\";\n\nconst InputComponent = ({ inputRef, ...other }) => <div {...other} />;\n\nconst OutlinedDiv = ({\n  InputProps,\n  children,\n  InputLabelProps,\n  label,\n  ...other\n}) => {\n  return (\n    <TextField\n      {...other}\n      variant=\"outlined\"\n      label={label}\n      multiline\n      InputLabelProps={{ shrink: true, ...InputLabelProps }}\n      InputProps={{\n        inputComponent: InputComponent,\n        ...InputProps\n      }}\n      inputProps={{ children: children }}\n    />\n  );\n};\n\nexport default OutlinedDiv;","import React from \"react\";\nimport { Chip, makeStyles } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\nimport OutlinedDiv from \"../OutlinedDiv\";\n\nconst useStyles = makeStyles(theme => ({\n    chip: {\n        margin: theme.spacing(0.5),\n        cursor: \"pointer\"\n    }\n}));\n\nconst MessageVariablesPicker = ({ onClick, disabled }) => {\n    const classes = useStyles();\n\n    const handleClick = (e, value) => {\n        e.preventDefault();\n        if (disabled) return;\n        onClick(value);\n    };\n\n    const msgVars = [\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.contactFirstName\"),\n            value: \"{{firstName}}\"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.contactName\"),\n            value: \"{{name}} \"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.greeting\"),\n            value: \"{{ms}} \"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.protocolNumber\"),\n            value: \"{{protocol}} \"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.date\"),\n            value: \"{{date}} \"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.hour\"),\n            value: \"{{hour}} \"\n        },\n    ];\n\n    return (\n        <OutlinedDiv\n            margin=\"dense\"\n            fullWidth\n            label={i18n.t(\"messageVariablesPicker.label\")}\n            disabled={disabled}\n        >\n            {msgVars.map(msgVar => (\n                <Chip\n                    key={msgVar.value}\n                    onMouseDown={e => handleClick(e, msgVar.value)}\n                    label={msgVar.name}\n                    size=\"small\"\n                    className={classes.chip}\n                    color=\"primary\"\n                />\n            ))}\n        </OutlinedDiv>\n    );\n};\n\nexport default MessageVariablesPicker;","import React, { useState, useEffect, useContext, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { FormControl, Grid, IconButton } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport moment from \"moment\"\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { isArray, capitalize } from \"lodash\";\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\nimport AttachFile from \"@material-ui/icons/AttachFile\";\nimport { head } from \"lodash\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport MessageVariablesPicker from \"../MessageVariablesPicker\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n}));\n\nconst ScheduleSchema = Yup.object().shape({\n\tbody: Yup.string()\n\t\t.min(5, \"Mensagem muito curta\")\n\t\t.required(\"Obrigatório\"),\n\tcontactId: Yup.number().required(\"Obrigatório\"),\n\tsendAt: Yup.string().required(\"Obrigatório\")\n});\n\nconst ScheduleModal = ({ open, onClose, scheduleId, contactId, cleanContact, reload }) => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst { user } = useContext(AuthContext);\n\n\tconst initialState = {\n\t\tbody: \"\",\n\t\tcontactId: \"\",\n\t\tsendAt: moment().add(1, 'hour').format('YYYY-MM-DDTHH:mm'),\n\t\tsentAt: \"\"\n\t};\n\n\tconst initialContact = {\n\t\tid: \"\",\n\t\tname: \"\"\n\t}\n\n\tconst [schedule, setSchedule] = useState(initialState);\n\tconst [currentContact, setCurrentContact] = useState(initialContact);\n\tconst [contacts, setContacts] = useState([initialContact]);\n\tconst [attachment, setAttachment] = useState(null);\n\tconst attachmentFile = useRef(null);\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\n\tconst messageInputRef = useRef();\n\n\tuseEffect(() => {\n\t\tif (contactId && contacts.length) {\n\t\t\tconst contact = contacts.find(c => c.id === contactId);\n\t\t\tif (contact) {\n\t\t\t\tsetCurrentContact(contact);\n\t\t\t}\n\t\t}\n\t}, [contactId, contacts]);\n\n\tuseEffect(() => {\n\t\tconst { companyId } = user;\n\t\tif (open) {\n\t\t\ttry {\n\t\t\t\t(async () => {\n\t\t\t\t\tconst { data: contactList } = await api.get('/contacts/list', { params: { companyId: companyId } });\n\t\t\t\t\tlet customList = contactList.map((c) => ({ id: c.id, name: c.name }));\n\t\t\t\t\tif (isArray(customList)) {\n\t\t\t\t\t\tsetContacts([{ id: \"\", name: \"\" }, ...customList]);\n\t\t\t\t\t}\n\t\t\t\t\tif (contactId) {\n\t\t\t\t\t\tsetSchedule(prevState => {\n\t\t\t\t\t\t\treturn { ...prevState, contactId }\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!scheduleId) return;\n\n\t\t\t\t\tconst { data } = await api.get(`/schedules/${scheduleId}`);\n\t\t\t\t\tsetSchedule(prevState => {\n\t\t\t\t\t\treturn { ...prevState, ...data, sendAt: moment(data.sendAt).format('YYYY-MM-DDTHH:mm') };\n\t\t\t\t\t});\n\t\t\t\t\tsetCurrentContact(data.contact);\n\t\t\t\t})()\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\t}, [scheduleId, contactId, open, user]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetAttachment(null);\n\t\tsetSchedule(initialState);\n\t};\n\n\tconst handleAttachmentFile = (e) => {\n\t\tconst file = head(e.target.files);\n\t\tif (file) {\n\t\t\tsetAttachment(file);\n\t\t}\n\t};\n\n\tconst handleSaveSchedule = async values => {\n\t\tconst scheduleData = { ...values, userId: user.id };\n\t\ttry {\n\t\t\tif (scheduleId) {\n\t\t\t\tawait api.put(`/schedules/${scheduleId}`, scheduleData);\n\t\t\t\tif (attachment != null) {\n\t\t\t\t\tconst formData = new FormData();\n\t\t\t\t\tformData.append(\"file\", attachment);\n\t\t\t\t\tawait api.post(\n\t\t\t\t\t\t`/schedules/${scheduleId}/media-upload`,\n\t\t\t\t\t\tformData\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst { data } = await api.post(\"/schedules\", scheduleData);\n\t\t\t\tif (attachment != null) {\n\t\t\t\t\tconst formData = new FormData();\n\t\t\t\t\tformData.append(\"file\", attachment);\n\t\t\t\t\tawait api.post(`/schedules/${data.id}/media-upload`, formData);\n\t\t\t\t}\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"scheduleModal.success\"));\n\t\t\tif (typeof reload == 'function') {\n\t\t\t\treload();\n\t\t\t}\n\t\t\tif (contactId) {\n\t\t\t\tif (typeof cleanContact === 'function') {\n\t\t\t\t\tcleanContact();\n\t\t\t\t\thistory.push('/schedules');\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\tsetCurrentContact(initialContact);\n\t\tsetSchedule(initialState);\n\t\thandleClose();\n\t};\n\tconst handleClickMsgVar = async (msgVar, setValueFunc) => {\n\t\tconst el = messageInputRef.current;\n\t\tconst firstHalfText = el.value.substring(0, el.selectionStart);\n\t\tconst secondHalfText = el.value.substring(el.selectionEnd);\n\t\tconst newCursorPos = el.selectionStart + msgVar.length;\n\n\t\tsetValueFunc(\"body\", `${firstHalfText}${msgVar}${secondHalfText}`);\n\n\t\tawait new Promise(r => setTimeout(r, 100));\n\t\tmessageInputRef.current.setSelectionRange(newCursorPos, newCursorPos);\n\t};\n\n\tconst deleteMedia = async () => {\n\t\tif (attachment) {\n\t\t\tsetAttachment(null);\n\t\t\tattachmentFile.current.value = null;\n\t\t}\n\n\t\tif (schedule.mediaPath) {\n\t\t\tawait api.delete(`/schedules/${schedule.id}/media-upload`);\n\t\t\tsetSchedule((prev) => ({\n\t\t\t\t...prev,\n\t\t\t\tmediaPath: null,\n\t\t\t}));\n\t\t\ttoast.success(i18n.t(\"scheduleModal.toasts.deleted\"));\n\t\t\tif (typeof reload == \"function\") {\n\t\t\t\tconsole.log(reload);\n\t\t\t\tconsole.log(\"1\");\n\t\t\t\treload();\n\t\t\t}\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={i18n.t(\"scheduleModal.confirmationModal.deleteTitle\")}\n\t\t\t\topen={confirmationOpen}\n\t\t\t\tonClose={() => setConfirmationOpen(false)}\n\t\t\t\tonConfirm={deleteMedia}\n\t\t\t>\n\t\t\t\t{i18n.t(\"scheduleModal.confirmationModal.deleteMessage\")}\n\t\t\t</ConfirmationModal>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{schedule.status === 'ERRO' ? 'Erro de Envio' : `Mensagem ${capitalize(schedule.status)}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<div style={{ display: \"none\" }}>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\taccept=\".png,.jpg,.jpeg\"\n\t\t\t\t\t\tref={attachmentFile}\n\t\t\t\t\t\tonChange={(e) => handleAttachmentFile(e)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={schedule}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={ScheduleSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveSchedule(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting, values, setFieldValue }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvalue={currentContact}\n\t\t\t\t\t\t\t\t\t\t\toptions={contacts}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e, contact) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst contactId = contact ? contact.id : '';\n\t\t\t\t\t\t\t\t\t\t\t\tsetSchedule({ ...schedule, contactId });\n\t\t\t\t\t\t\t\t\t\t\t\tsetCurrentContact(contact ? contact : initialContact);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option.name}\n\t\t\t\t\t\t\t\t\t\t\tgetOptionSelected={(option, value) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn value.id === option.id\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} variant=\"outlined\" placeholder=\"Contato\" />}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\trows={9}\n\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.body\")}\n\t\t\t\t\t\t\t\t\t\tname=\"body\"\n\t\t\t\t\t\t\t\t\t\tinputRef={messageInputRef}\n\t\t\t\t\t\t\t\t\t\terror={touched.body && Boolean(errors.body)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.body && errors.body}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<MessageVariablesPicker\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\tonClick={value => handleClickMsgVar(value, setFieldValue)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.sendAt\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"datetime-local\"\n\t\t\t\t\t\t\t\t\t\tname=\"sendAt\"\n\t\t\t\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\terror={touched.sendAt && Boolean(errors.sendAt)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.sendAt && errors.sendAt}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{(schedule.mediaPath || attachment) && (\n\t\t\t\t\t\t\t\t\t<Grid xs={12} item>\n\t\t\t\t\t\t\t\t\t\t<Button startIcon={<AttachFile />}>\n\t\t\t\t\t\t\t\t\t\t\t{attachment ? attachment.name : schedule.mediaName}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setConfirmationOpen(true)}\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<DeleteOutline color=\"secondary\" />\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t{!attachment && !schedule.mediaPath && (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => attachmentFile.current.click()}\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"quickMessages.buttons.attach\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"scheduleModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{(schedule.sentAt === null || schedule.sentAt === \"\") && (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{scheduleId\n\t\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"scheduleModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"scheduleModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default ScheduleModal;","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport TransferTicketModalCustom from \"../TransferTicketModalCustom\";\nimport toastError from \"../../errors/toastError\";\nimport { Can } from \"../Can\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport ScheduleModal from \"../ScheduleModal\";\n\nconst TicketOptionsMenu = ({ ticket, menuOpen, handleClose, anchorEl }) => {\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\n\tconst [transferTicketModalOpen, setTransferTicketModalOpen] = useState(false);\n\tconst isMounted = useRef(true);\n\tconst { user } = useContext(AuthContext);\n\n\tconst [scheduleModalOpen, setScheduleModalOpen] = useState(false);\n\tconst [contactId, setContactId] = useState(null);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tconst handleDeleteTicket = async () => {\n\t\ttry {\n\t\t\tawait api.delete(`/tickets/${ticket.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleOpenConfirmationModal = e => {\n\t\tsetConfirmationOpen(true);\n\t\thandleClose();\n\t};\n\n\tconst handleOpenTransferModal = e => {\n\t\tsetTransferTicketModalOpen(true);\n\t\thandleClose();\n\t};\n\n\tconst handleCloseTransferTicketModal = () => {\n\t\tif (isMounted.current) {\n\t\t\tsetTransferTicketModalOpen(false);\n\t\t}\n\t};\n\n\tconst handleOpenScheduleModal = () => {\n\t\thandleClose();\n\t\tsetContactId(ticket.contact.id);\n\t\tsetScheduleModalOpen(true);\n\t}\n\n\tconst handleCloseScheduleModal = () => {\n\t\tsetScheduleModalOpen(false);\n\t\tsetContactId(null);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Menu\n\t\t\t\tid=\"menu-appbar\"\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\tkeepMounted\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\topen={menuOpen}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t<MenuItem onClick={handleOpenScheduleModal}>\n\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.schedule\")}\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem onClick={handleOpenTransferModal}>\n\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.transfer\")}\n\t\t\t\t</MenuItem>\n\t\t\t\t<Can\n\t\t\t\t\trole={user.profile}\n\t\t\t\t\tperform=\"ticket-options:deleteTicket\"\n\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t<MenuItem onClick={handleOpenConfirmationModal}>\n\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.delete\")}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t</Menu>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={`${i18n.t(\"ticketOptionsMenu.confirmationModal.title\")}${\n\t\t\t\t\tticket.id\n\t\t\t\t} ${i18n.t(\"ticketOptionsMenu.confirmationModal.titleFrom\")} ${\n\t\t\t\t\tticket.contact.name\n\t\t\t\t}?`}\n\t\t\t\topen={confirmationOpen}\n\t\t\t\tonClose={setConfirmationOpen}\n\t\t\t\tonConfirm={handleDeleteTicket}\n\t\t\t>\n\t\t\t\t{i18n.t(\"ticketOptionsMenu.confirmationModal.message\")}\n\t\t\t</ConfirmationModal>\n\t\t\t<TransferTicketModalCustom\n\t\t\t\tmodalOpen={transferTicketModalOpen}\n\t\t\t\tonClose={handleCloseTransferTicketModal}\n\t\t\t\tticketid={ticket.id}\n\t\t\t/>\n\t\t\t<ScheduleModal\n\t\t\t\topen={scheduleModalOpen}\n\t\t\t\tonClose={handleCloseScheduleModal}\n\t\t\t\taria-labelledby=\"form-dialog-title\"\n\t\t\t\tcontactId={contactId}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default TicketOptionsMenu;","import React, { useContext, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles, createTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport { IconButton } from \"@material-ui/core\";\nimport { MoreVert, Replay } from \"@material-ui/icons\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport TicketOptionsMenu from \"../TicketOptionsMenu\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport UndoRoundedIcon from '@material-ui/icons/UndoRounded';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { green } from '@material-ui/core/colors';\n\n\nconst useStyles = makeStyles(theme => ({\n\tactionButtons: {\n\t\tmarginRight: 6,\n\t\tflex: \"none\",\n\t\talignSelf: \"center\",\n\t\tmarginLeft: \"auto\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(0.5),\n\t\t},\n\t},\n}));\n\nconst TicketActionButtonsCustom = ({ ticket }) => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\tconst [loading, setLoading] = useState(false);\n\tconst ticketOptionsMenuOpen = Boolean(anchorEl);\n\tconst { user } = useContext(AuthContext);\n\tconst { setCurrentTicket } = useContext(TicketsContext);\n\n\tconst customTheme = createTheme({\n\t\tpalette: {\n\t\t  \tprimary: green,\n\t\t}\n\t});\n\n\tconst handleOpenTicketOptionsMenu = e => {\n\t\tsetAnchorEl(e.currentTarget);\n\t};\n\n\tconst handleCloseTicketOptionsMenu = e => {\n\t\tsetAnchorEl(null);\n\t};\n\n\tconst handleUpdateTicketStatus = async (e, status, userId) => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tawait api.put(`/tickets/${ticket.id}`, {\n\t\t\t\tstatus: status,\n\t\t\t\tuserId: userId || null,\n\t\t\t\tuseIntegration: status === \"closed\" ? false : ticket.useIntegration,\n\t\t\t\tpromptId: status === \"closed\" ? false : ticket.promptId,\n\t\t\t\tintegrationId: status === \"closed\" ? false : ticket.integrationId\n\t\t\t});\n\n\t\t\tsetLoading(false);\n\t\t\tif (status === \"open\") {\n\t\t\t\tsetCurrentTicket({ ...ticket, code: \"#open\" });\n\t\t\t} else {\n\t\t\t\tsetCurrentTicket({ id: null, code: null })\n\t\t\t\thistory.push(\"/tickets\");\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetLoading(false);\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.actionButtons}>\n\t\t\t{ticket.status === \"closed\" && (\n\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tstartIcon={<Replay />}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.reopen\")}\n\t\t\t\t</ButtonWithSpinner>\n\t\t\t)}\n\t\t\t{ticket.status === \"open\" && (\n\t\t\t\t<>\n\t\t\t\t\t<Tooltip title={i18n.t(\"messagesList.header.buttons.return\")}>\n\t\t\t\t\t\t<IconButton onClick={e => handleUpdateTicketStatus(e, \"pending\", null)}>\n\t\t\t\t\t\t\t<UndoRoundedIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<ThemeProvider theme={customTheme}>\n\t\t\t\t\t\t<Tooltip title={i18n.t(\"messagesList.header.buttons.resolve\")}>\n\t\t\t\t\t\t\t<IconButton onClick={e => handleUpdateTicketStatus(e, \"closed\", user?.id)} color=\"primary\">\n\t\t\t\t\t\t\t\t<CheckCircleIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</ThemeProvider>\n\t\t\t\t\t{/* <ButtonWithSpinner\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tstartIcon={<Replay />}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"pending\", null)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.return\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"closed\", user?.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.resolve\")}\n\t\t\t\t\t</ButtonWithSpinner> */}\n\t\t\t\t\t<IconButton onClick={handleOpenTicketOptionsMenu}>\n\t\t\t\t\t\t<MoreVert />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<TicketOptionsMenu\n\t\t\t\t\t\tticket={ticket}\n\t\t\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t\t\tmenuOpen={ticketOptionsMenuOpen}\n\t\t\t\t\t\thandleClose={handleCloseTicketOptionsMenu}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{ticket.status === \"pending\" && (\n\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.accept\")}\n\t\t\t\t</ButtonWithSpinner>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default TicketActionButtonsCustom;\n","import { Chip, Paper, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { isArray, isString } from \"lodash\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nexport function TagsContainer({ ticket }) {\n\n    const [tags, setTags] = useState([]);\n    const [selecteds, setSelecteds] = useState([]);\n    const isMounted = useRef(true);\n\n    useEffect(() => {\n        return () => {\n            isMounted.current = false\n        }\n    }, [])\n\n    useEffect(() => {\n        if (isMounted.current) {\n            loadTags().then(() => {\n                if (Array.isArray(ticket.tags)) {\n                    setSelecteds(ticket.tags);\n                } else {\n                    setSelecteds([]);\n                }\n            });\n        }\n    }, [ticket]);\n\n    const createTag = async (data) => {\n        try {\n            const { data: responseData } = await api.post(`/tags`, data);\n            return responseData;\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const loadTags = async () => {\n        try {\n            const { data } = await api.get(`/tags/list`);\n            setTags(data);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const syncTags = async (data) => {\n        try {\n            const { data: responseData } = await api.post(`/tags/sync`, data);\n            return responseData;\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const onChange = async (value, reason) => {\n        let optionsChanged = []\n        if (reason === 'create-option') {\n            if (isArray(value)) {\n                for (let item of value) {\n                    if (isString(item)) {\n                        const newTag = await createTag({ name: item })\n                        optionsChanged.push(newTag);\n                    } else {\n                        optionsChanged.push(item);\n                    }\n                }\n            }\n            await loadTags();\n        } else {\n            optionsChanged = value;\n        }\n        setSelecteds(optionsChanged);\n        await syncTags({ ticketId: ticket.id, tags: optionsChanged });\n    }\n\n    return (\n        <Paper style={{ padding: 12 }}>\n            <Autocomplete\n                multiple\n                size=\"small\"\n                options={tags}\n                value={selecteds}\n                freeSolo\n                onChange={(e, v, r) => onChange(v, r)}\n                getOptionLabel={(option) => option.name}\n                renderTags={(value, getTagProps) =>\n                    value.map((option, index) => (\n                        <Chip\n                            variant=\"outlined\"\n                            style={{\n                                background: option.color || '#eee',\n                                color: \"#FFF\",\n                                marginRight: 1,\n                                fontWeight: 600,\n                                borderRadius: 3,\n                                fontSize: \"0.8em\",\n                                whiteSpace: \"nowrap\"\n                            }}\n                            label={option.name.toUpperCase()}\n                            {...getTagProps({ index })}\n                            size=\"small\"\n                        />\n                    ))\n                }\n                renderInput={(params) => (\n                    <TextField {...params} variant=\"outlined\" placeholder=\"Tags\" />\n                )}\n                PaperComponent={({ children }) => (\n                    <Paper style={{ width: 400, marginLeft: 12 }}>\n                        {children}\n                    </Paper>\n                )}\n            />\n        </Paper>\n    )\n}","import React, { useState, useEffect, useContext } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport { toast } from \"react-toastify\";\nimport clsx from \"clsx\";\n\nimport { Paper, makeStyles } from \"@material-ui/core\";\n\nimport ContactDrawer from \"../ContactDrawer\";\nimport MessageInput from \"../MessageInputCustom/\";\nimport TicketHeader from \"../TicketHeader\";\nimport TicketInfo from \"../TicketInfo\";\nimport TicketActionButtons from \"../TicketActionButtonsCustom\";\nimport MessagesList from \"../MessagesList\";\nimport api from \"../../services/api\";\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { TagsContainer } from \"../TagsContainer\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100%\",\n    position: \"relative\",\n    overflow: \"hidden\",\n  },\n\n  mainWrapper: {\n    flex: 1,\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    borderLeft: \"0\",\n    marginRight: -drawerWidth,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n\n  mainWrapperShift: {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginRight: 0,\n  },\n}));\n\nconst Ticket = () => {\n  const { ticketId } = useParams();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [contact, setContact] = useState({});\n  const [ticket, setTicket] = useState({});\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchTicket = async () => {\n        try {\n          const { data } = await api.get(\"/tickets/u/\" + ticketId);\n          const { queueId } = data;\n          const { queues, profile } = user;\n\n          const queueAllowed = queues.find((q) => q.id === queueId);\n          if (queueAllowed === undefined && profile !== \"admin\") {\n            toast.error(\"Acesso não permitido\");\n            history.push(\"/tickets\");\n            return;\n          }\n\n          setContact(data.contact);\n          setTicket(data);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchTicket();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [ticketId, user, history]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(\"connect\", () => socket.emit(\"joinChatBox\", `${ticket.id}`));\n\n    socket.on(`company-${companyId}-ticket`, (data) => {\n      if (data.action === \"update\") {\n        setTicket(data.ticket);\n      }\n\n      if (data.action === \"delete\") {\n        toast.success(\"Ticket deleted sucessfully.\");\n        history.push(\"/tickets\");\n      }\n    });\n\n    socket.on(`company-${companyId}-contact`, (data) => {\n      if (data.action === \"update\") {\n        setContact((prevState) => {\n          if (prevState.id === data.contact?.id) {\n            return { ...prevState, ...data.contact };\n          }\n          return prevState;\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [ticketId, ticket, history]);\n\n  const handleDrawerOpen = () => {\n    setDrawerOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setDrawerOpen(false);\n  };\n\n  const renderTicketInfo = () => {\n    if (ticket.user !== undefined) {\n      return (\n        <TicketInfo\n          contact={contact}\n          ticket={ticket}\n          onClick={handleDrawerOpen}\n        />\n      );\n    }\n  };\n\n  const renderMessagesList = () => {\n    return (\n      <>\n        <MessagesList\n          ticket={ticket}\n          ticketId={ticket.id}\n          isGroup={ticket.isGroup}\n        ></MessagesList>\n        <MessageInput ticketId={ticket.id} ticketStatus={ticket.status} />\n      </>\n    );\n  };\n\n  return (\n    <div className={classes.root} id=\"drawer-container\">\n      <Paper\n        variant=\"outlined\"\n        elevation={0}\n        className={clsx(classes.mainWrapper, {\n          [classes.mainWrapperShift]: drawerOpen,\n        })}\n      >\n        <TicketHeader loading={loading}>\n          {renderTicketInfo()}\n          <TicketActionButtons ticket={ticket} />\n        </TicketHeader>\n        <Paper>\n          <TagsContainer ticket={ticket} />\n        </Paper>\n        <ReplyMessageProvider>{renderMessagesList()}</ReplyMessageProvider>\n      </Paper>\n      <ContactDrawer\n        open={drawerOpen}\n        handleDrawerClose={handleDrawerClose}\n        contact={contact}\n        loading={loading}\n        ticket={ticket}\n      />\n    </div>\n  );\n};\n\nexport default Ticket;\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport TicketsManager from \"../../components/TicketsManagerTabs/\";\nimport Ticket from \"../../components/Ticket/\";\nimport logo from \"../../assets/logo.png\"; //PLW DESIGN LOGO//\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchatContainer: {\n\t\tflex: 1,\n\t\t// backgroundColor: \"#eee\",\n\t\tpadding: theme.spacing(1), //Aqui ele ajusta espaço na tela de ticket\n\t\theight: `calc(100% - 48px)`,\n\t\toverflowY: \"hidden\",\n\t},\n\n\tchatPapper: {\n\t\t// backgroundColor: \"red\",\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t},\n\n\tcontactsWrapper: {\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t\tflexDirection: \"column\",\n\t\toverflowY: \"hidden\",\n\t},\n\tmessagesWrapper: {\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t\tflexDirection: \"column\",\n\t},\n\twelcomeMsg: {\n\t\tbackgroundColor: theme.palette.boxticket, //DARK MODE PLW DESIGN//\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-evenly\",\n\t\talignItems: \"center\",\n\t\theight: \"100%\",\n\t\ttextAlign: \"center\",\n\t},\n}));\n\nconst TicketsCustom = () => {\n\tconst classes = useStyles();\n\tconst { ticketId } = useParams();\n\n\treturn (\n\t\t<div className={classes.chatContainer}>\n\t\t\t<div className={classes.chatPapper}>\n\t\t\t\t<Grid container spacing={0}>\n\t\t\t\t\t<Grid item xs={4} className={classes.contactsWrapper}>\n\t\t\t\t\t\t<TicketsManager />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={8} className={classes.messagesWrapper}>\n\t\t\t\t\t\t{ticketId ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Ticket />\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.welcomeMsg}>\n\t\t\t\t\t\t\t{/* PLW DESIGN LOGO */}\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<center><img style={{ margin: \"0 auto\", width: \"70%\" }} src={logo} alt=\"logologin\" /></center>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/* PLW DESIGN LOGO */}\n\t\t\t\t\t\t\t{/*<span>{i18n.t(\"chat.noTicketMessage\")}</span>*/}\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default TicketsCustom;\n","import { styled } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\n\nconst TicketAdvancedLayout = styled(Paper)({\n    height: `calc(100% - 48px)`,\n    display: \"grid\",\n    gridTemplateRows: \"56px 1fr\"\n})\n\nexport default TicketAdvancedLayout;","import React, { useState, useEffect, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport QuestionAnswerIcon from '@material-ui/icons/QuestionAnswer';\nimport ChatIcon from '@material-ui/icons/Chat';\n\nimport TicketsManagerTabs from \"../../components/TicketsManagerTabs/\";\nimport Ticket from \"../../components/Ticket/\";\nimport TicketAdvancedLayout from \"../../components/TicketAdvancedLayout\";\nimport logo from \"../../assets/logo.png\"; //PLW DESIGN LOGO//\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n    },\n    content: {\n        overflow: \"auto\"\n    },\n    placeholderContainer: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        height: \"100%\",\n\t\tbackgroundColor: theme.palette.boxticket, //DARK MODE PLW DESIGN//\n    },\n    placeholderItem: {\n    }\n}));\n\nconst TicketAdvanced = (props) => {\n\tconst classes = useStyles();\n\tconst { ticketId } = useParams();\n\tconst [option, setOption] = useState(0);\n    const { currentTicket, setCurrentTicket } = useContext(TicketsContext)\n\n    useEffect(() => {\n        if(currentTicket.id !== null) {\n            setCurrentTicket({ id: currentTicket.id, code: '#open' })\n        }\n        if (!ticketId) {\n            setOption(1)\n        }\n        return () => {\n            setCurrentTicket({ id: null, code: null })\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    useEffect(() => {\n        if (currentTicket.id !== null) {\n            setOption(0)\n        }\n    }, [currentTicket])\n\n\tconst renderPlaceholder = () => {\n\t\treturn <Box className={classes.placeholderContainer}>\n             {/*<div className={classes.placeholderItem}>{i18n.t(\"chat.noTicketMessage\")}</div>*/}\n\t\t\t//LOGO//\n\t\t\t<div>\n\t\t\t<center><img style={{ margin: \"0 auto\", width: \"70%\" }} src={logo} alt=\"logologin\" /></center>\n\t\t\t</div>\n\t\t\t//LOGO//\n\t\t\t<br />\n            <Button onClick={() => setOption(1)} variant=\"contained\" color=\"primary\">\n                Selecionar Ticket\n            </Button>\n        </Box>\n\t}\n\n\tconst renderMessageContext = () => {\n\t\tif (ticketId) {\n\t\t\treturn <Ticket />\n\t\t}\n\t\treturn renderPlaceholder()\n\t}\n\n\tconst renderTicketsManagerTabs = () => {\n\t\treturn <TicketsManagerTabs />\n\t}\n\n\treturn (\n        <TicketAdvancedLayout>\n            <Box className={classes.header}>\n                <BottomNavigation\n                    value={option}\n                    onChange={(event, newValue) => {\n                        setOption(newValue);\n                    }}\n                    showLabels\n                    className={classes.root}\n                >\n                    <BottomNavigationAction label=\"Ticket\" icon={<ChatIcon />} />\n                    <BottomNavigationAction label=\"Atendimentos\" icon={<QuestionAnswerIcon />} />\n                </BottomNavigation>\n            </Box>\n            <Box className={classes.content}>\n                { option === 0 ? renderMessageContext() : renderTicketsManagerTabs() }\n            </Box>\n        </TicketAdvancedLayout>\n\t);\n};\n\nexport default TicketAdvanced;\n","import React from \"react\";\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport Tickets from \"../TicketsCustom\"\nimport TicketAdvanced from \"../TicketsAdvanced\";\n\nfunction TicketResponsiveContainer (props) {\n    if (isWidthUp('md', props.width)) {\n        return <Tickets />;    \n    }\n    return <TicketAdvanced />\n}\n\nexport default withWidth()(TicketResponsiveContainer);","import React, { useState, useEffect } from \"react\";\nimport qs from 'query-string'\n\nimport * as Yup from \"yup\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { Formik, Form, Field } from \"formik\";\nimport usePlans from \"../../hooks/usePlans\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport {\n\tFormControl,\n\tInputLabel,\n\tMenuItem,\n\tSelect,\n} from \"@material-ui/core\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport logo from \"../../assets/logo.png\";\nimport { i18n } from \"../../translate/i18n\";\n\nimport { openApi } from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport moment from \"moment\";\nconst Copyright = () => {\n\treturn (\n\t\t<Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n\t\t\t{\"Copyright © \"}\n\t\t\t<Link color=\"inherit\" href=\"#\">\n\t\t\t\tPLW\n\t\t\t</Link>{\" \"}\n\t\t   {new Date().getFullYear()}\n\t\t\t{\".\"}\n\t\t</Typography>\n\t);\n};\n\nconst useStyles = makeStyles(theme => ({\n\tpaper: {\n\t\tmarginTop: theme.spacing(8),\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tform: {\n\t\twidth: \"100%\",\n\t\tmarginTop: theme.spacing(3),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n}));\n\nconst UserSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst SignUp = () => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tlet companyId = null\n\n\tconst params = qs.parse(window.location.search)\n\tif (params.companyId !== undefined) {\n\t\tcompanyId = params.companyId\n\t}\n\n\tconst initialState = { name: \"\", email: \"\", phone: \"\", password: \"\", planId: \"\", };\n\n\tconst [user] = useState(initialState);\n\tconst dueDate = moment().add(3, \"day\").format();\n\tconst handleSignUp = async values => {\n\t\tObject.assign(values, { recurrence: \"MENSAL\" });\n\t\tObject.assign(values, { dueDate: dueDate });\n\t\tObject.assign(values, { status: \"t\" });\n\t\tObject.assign(values, { campaignsEnabled: true });\n\t\ttry {\n\t\t\tawait openApi.post(\"/companies/cadastro\", values);\n\t\t\ttoast.success(i18n.t(\"signup.toasts.success\"));\n\t\t\thistory.push(\"/login\");\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst [plans, setPlans] = useState([]);\n\tconst { list: listPlans } = usePlans();\n\n\tuseEffect(() => {\n\t\tasync function fetchData() {\n\t\t\tconst list = await listPlans();\n\t\t\tsetPlans(list);\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\n\treturn (\n\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t<CssBaseline />\n\t\t\t<div className={classes.paper}>\n\t\t\t\t<div>\n\t\t\t\t\t<img style={{ margin: \"0 auto\", height: \"80px\", width: \"100%\" }} src={logo} alt=\"Whats\" />\n\t\t\t\t</div>\n\t\t\t\t{/*<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\t{i18n.t(\"signup.title\")}\n\t\t\t\t</Typography>*/}\n\t\t\t\t{/* <form className={classes.form} noValidate onSubmit={handleSignUp}> */}\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={user}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={UserSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSignUp(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form className={classes.form}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"name\"\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Nome da Empresa\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"phone\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Telefone com (DDD)\"\n\t\t\t\t\t\t\t\t\t\tname=\"phone\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"phone\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.password\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"plan-selection\">Plano</InputLabel>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"plan-selection\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Plano\"\n\t\t\t\t\t\t\t\t\t\tname=\"planId\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{plans.map((plan, key) => (\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={key} value={plan.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t{plan.name} - Atendentes: {plan.users} - WhatsApp: {plan.connections} - Filas: {plan.queues} - R$ {plan.value}\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"signup.buttons.submit\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Grid container justify=\"flex-end\">\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\tcomponent={RouterLink}\n\t\t\t\t\t\t\t\t\t\tto=\"/login\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"signup.buttons.login\")}\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</div>\n\t\t\t<Box mt={5}>{/* <Copyright /> */}</Box>\n\t\t</Container>\n\t);\n};\n\nexport default SignUp;\n","import React, { useState, useContext } from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  CssBaseline,\r\n  TextField,\r\n  Grid,\r\n  Typography,\r\n  Container,\r\n  InputAdornment,\r\n  IconButton,\r\n  Link\r\n} from '@material-ui/core';\r\nimport { Visibility, VisibilityOff } from '@material-ui/icons';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\n//import loginBackground from \"../../assets/bg.jpg\";\r\nimport chatImage from \"../../assets/logo.png\";\r\nimport WhatsAppIcon from '@material-ui/icons/WhatsApp';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    padding: theme.spacing(2),\r\n    borderRadius: theme.spacing(2),\r\n    //backgroundColor: `rgba(${theme.palette.background.paper}, 0.8)`,\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: \"0px 3px 6px rgba(0, 0, 0, 0.16)\",\r\n\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  whatsapp: {\r\n    backgroundColor: '#32d951'\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  containerWrapper: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    gap: theme.spacing(4),\r\n  },\r\n  container: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    height: '100vh',\r\n  },\r\n  mobileContainer: {\r\n    flex: 1,\r\n    display: 'flex', \r\n    justifyContent: 'center', \r\n    alignItems: 'center', \r\n    minHeight: '100vh'\r\n  },\r\n  hideOnMobile: {\r\n    display: 'flex', \r\n    justifyContent: 'center', \r\n    alignItems: 'center', \r\n    minHeight: '100vh',\r\n    [theme.breakpoints.down('sm')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n}));\r\n\r\nconst Login = () => {\r\n  const classes = useStyles();\r\n\r\n  const [user, setUser] = useState({ email: \"\", password: \"\" });\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  const { handleLogin } = useContext(AuthContext);\r\n\r\n  const handleChangeInput = (e) => {\r\n    setUser({ ...user, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    handleLogin(user);\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: 'flex', \r\n      flexDirection: 'column', \r\n      minHeight: '100vh', \r\n      // backgroundImage: `url(${loginBackground})`,\r\n      backgroundSize: 'cover',\r\n      backgroundRepeat: 'no-repeat',\r\n      backgroundPosition: 'center'\r\n    }}>\r\n      <Container component=\"main\" maxWidth=\"md\">\r\n        <CssBaseline />\r\n        <div className={classes.containerWrapper}>\r\n          <Container component=\"div\" maxWidth=\"xs\" className={`${classes.mobileContainer} ${classes.hideOnMobile}`}>\r\n            <img src={chatImage} style={{width:'70%'}} alt={process.env.REACT_APP_TITLE} />\r\n          </Container>\r\n          <Container component=\"div\" maxWidth=\"xs\" className={classes.mobileContainer}>\r\n            <div className={classes.paper}>\r\n              <Avatar className={classes.whatsapp}>\r\n                <WhatsAppIcon />\r\n              </Avatar>\r\n              <Typography component=\"h1\" variant=\"h5\">\r\n                {i18n.t(\"login.title\")}\r\n              </Typography>\r\n              <form className={classes.form} noValidate onSubmit={handleSubmit}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"email\"\r\n                  label={i18n.t(\"login.form.email\")}\r\n                  name=\"email\"\r\n                  value={user.email}\r\n                  onChange={handleChangeInput}\r\n                  autoComplete=\"email\"\r\n                  autoFocus\r\n                />\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label={i18n.t(\"login.form.password\")}\r\n                  id=\"password\"\r\n                  value={user.password}\r\n                  onChange={handleChangeInput}\r\n                  autoComplete=\"current-password\"\r\n                  type={showPassword ? 'text' : 'password'}\r\n                  InputProps={{\r\n                    endAdornment: (\r\n                      <InputAdornment position=\"end\">\r\n                        <IconButton\r\n                          aria-label=\"toggle password visibility\"\r\n                          onClick={() => setShowPassword((e) => !e)}\r\n                        >\r\n                          {showPassword ? <VisibilityOff /> : <Visibility />}\r\n                        </IconButton>\r\n                      </InputAdornment>\r\n                    )\r\n                  }}\r\n                />\r\n                <Button\r\n                  type=\"submit\"\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={classes.submit}\r\n                >\r\n                  {i18n.t(\"login.buttons.submit\")}\r\n                </Button>\r\n                <Grid container justifyContent=\"flex-end\">\r\n                  <Grid item>\r\n                    <Link\r\n                      variant=\"body2\"\r\n                      component={RouterLink}\r\n                      to=\"/signup\"\r\n                    >\r\n                      {i18n.t(\"login.buttons.register\")}\r\n                    </Link>\r\n                  </Grid>\r\n                </Grid>\r\n              </form>\r\n            </div>\r\n          </Container>       \r\n        </div>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\n\nconst useStyles = makeStyles(theme => ({\n\tmainContainer: {\n\t\tflex: 1,\n\t\tpadding: theme.spacing(2),\n\t\theight: `calc(100% - 48px)`,\n\t},\n\n\tcontentWrapper: {\n\t\theight: \"100%\",\n\t\toverflowY: \"hidden\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n}));\n\nconst MainContainer = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Container className={classes.mainContainer}>\n\t\t\t<div className={classes.contentWrapper}>{children}</div>\n\t\t</Container>\n\t);\n};\n\nexport default MainContainer;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tcontactsHeader: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tpadding: \"0px 6px 6px 6px\",\n\t},\n}));\n\nconst MainHeader = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.contactsHeader}>{children}</div>;\n};\n\nexport default MainHeader;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tMainHeaderButtonsWrapper: {\n\t\tflex: \"none\",\n\t\tmarginLeft: \"auto\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n}));\n\nconst MainHeaderButtonsWrapper = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.MainHeaderButtonsWrapper}>{children}</div>;\n};\n\nexport default MainHeaderButtonsWrapper;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nexport default function Title(props) {\n\treturn (\n\t\t<Typography variant=\"h5\" color=\"primary\" gutterBottom>\n\t\t\t{props.children}\n\t\t</Typography>\n\t);\n}\n","import React from \"react\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n}));\n\nconst TableRowSkeleton = ({ avatar, columns }) => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<>\n\t\t\t<TableRow>\n\t\t\t\t{avatar && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<TableCell style={{ paddingRight: 0 }}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\t\t\t\twidth={40}\n\t\t\t\t\t\t\t\theight={40}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<Skeleton animation=\"wave\" height={30} width={80} />\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{Array.from({ length: columns }, (_, index) => (\n\t\t\t\t\t<TableCell align=\"center\" key={index}>\n\t\t\t\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\theight={30}\n\t\t\t\t\t\t\t\twidth={80}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t</TableRow>\n\t\t</>\n\t);\n};\n\nexport default TableRowSkeleton;\n","import React, { useState, useEffect } from \"react\";\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\n\nimport {\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  Button,\n  DialogActions,\n  CircularProgress,\n  TextField,\n  Switch,\n  FormControlLabel,\n  Grid,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n} from \"@material-ui/core\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\nconst SessionSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst WhatsAppModal = ({ open, onClose, whatsAppId }) => {\n  const classes = useStyles();\n  const initialState = {\n    name: \"\",\n    greetingMessage: \"\",\n    complationMessage: \"\",\n    outOfHoursMessage: \"\",\n    ratingMessage: \"\",\n    isDefault: false,\n    token: \"\",\n    provider: \"beta\",\n    timeSendQueue: 0,\n    sendIdQueue: 0,\n    expiresInactiveMessage: \"\",\n    expiresTicket: 0,\n    timeUseBotQueues: 0,\n    maxUseBotQueues: 3\n  };\n  const [whatsApp, setWhatsApp] = useState(initialState);\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\n  const [queues, setQueues] = useState([]);\n  const [selectedPrompt, setSelectedPrompt] = useState(null);\n  const [prompts, setPrompts] = useState([]);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/prompt\");\n        setPrompts(data.prompts);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, [whatsAppId]);\n\n  useEffect(() => {\n    const fetchSession = async () => {\n      if (!whatsAppId) return;\n\n      try {\n        const { data } = await api.get(`whatsapp/${whatsAppId}?session=0`);\n        console.log(data)\n        setWhatsApp(data);\n        data.promptId ? setSelectedPrompt(data.promptId) : setSelectedPrompt(null);\n\n        const whatsQueueIds = data.queues?.map((queue) => queue.id);\n        setSelectedQueueIds(whatsQueueIds);\n      } catch (err) {\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, [whatsAppId]);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/queue\");\n        setQueues(data);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, []);\n\n  const handleSaveWhatsApp = async (values) => {\n    const whatsappData = {\n      ...values, queueIds: selectedQueueIds,\n      promptId: selectedPrompt ? selectedPrompt : null\n    };\n    delete whatsappData[\"queues\"];\n    delete whatsappData[\"session\"];\n\n    try {\n      if (whatsAppId) {\n        await api.put(`/whatsapp/${whatsAppId}`, whatsappData);\n      } else {\n        await api.post(\"/whatsapp\", whatsappData);\n      }\n      toast.success(i18n.t(\"whatsappModal.success\"));\n      handleClose();\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleChangeQueue = (e) => {\n    setSelectedQueueIds(e);\n    setSelectedPrompt(null);\n  };\n\n  const handleChangePrompt = (e) => {\n    setSelectedPrompt(e.target.value);\n    setSelectedQueueIds([]);\n  };\n\n  const handleClose = () => {\n    onClose();\n    setWhatsApp(initialState);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"md\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle>\n          {whatsAppId\n            ? i18n.t(\"whatsappModal.title.edit\")\n            : i18n.t(\"whatsappModal.title.add\")}\n        </DialogTitle>\n        <Formik\n          initialValues={whatsApp}\n          enableReinitialize={true}\n          validationSchema={SessionSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveWhatsApp(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, touched, errors, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.multFieldLine}>\n                  <Grid spacing={2} container>\n                    <Grid item>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.name\")}\n                        autoFocus\n                        name=\"name\"\n                        error={touched.name && Boolean(errors.name)}\n                        helperText={touched.name && errors.name}\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        className={classes.textField}\n                      />\n                    </Grid>\n                    <Grid style={{ paddingTop: 15 }} item>\n                      <FormControlLabel\n                        control={\n                          <Field\n                            as={Switch}\n                            color=\"primary\"\n                            name=\"isDefault\"\n                            checked={values.isDefault}\n                          />\n                        }\n                        label={i18n.t(\"whatsappModal.form.default\")}\n                      />\n                    </Grid>\n                  </Grid>\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.greetingMessage\")}\n                    type=\"greetingMessage\"\n                    multiline\n                    rows={4}\n                    fullWidth\n                    name=\"greetingMessage\"\n                    error={\n                      touched.greetingMessage && Boolean(errors.greetingMessage)\n                    }\n                    helperText={\n                      touched.greetingMessage && errors.greetingMessage\n                    }\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.complationMessage\")}\n                    type=\"complationMessage\"\n                    multiline\n                    rows={4}\n                    fullWidth\n                    name=\"complationMessage\"\n                    error={\n                      touched.complationMessage &&\n                      Boolean(errors.complationMessage)\n                    }\n                    helperText={\n                      touched.complationMessage && errors.complationMessage\n                    }\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.outOfHoursMessage\")}\n                    type=\"outOfHoursMessage\"\n                    multiline\n                    rows={4}\n                    fullWidth\n                    name=\"outOfHoursMessage\"\n                    error={\n                      touched.outOfHoursMessage &&\n                      Boolean(errors.outOfHoursMessage)\n                    }\n                    helperText={\n                      touched.outOfHoursMessage && errors.outOfHoursMessage\n                    }\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.ratingMessage\")}\n                    type=\"ratingMessage\"\n                    multiline\n                    rows={4}\n                    fullWidth\n                    name=\"ratingMessage\"\n                    error={\n                      touched.ratingMessage && Boolean(errors.ratingMessage)\n                    }\n                    helperText={touched.ratingMessage && errors.ratingMessage}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.token\")}\n                    type=\"token\"\n                    fullWidth\n                    name=\"token\"\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <QueueSelect\n                  selectedQueueIds={selectedQueueIds}\n                  onChange={(selectedIds) => handleChangeQueue(selectedIds)}\n                />\n                <FormControl\n                  margin=\"dense\"\n                  variant=\"outlined\"\n                  fullWidth\n                >\n                  <InputLabel>\n                    {i18n.t(\"whatsappModal.form.prompt\")}\n                  </InputLabel>\n                  <Select\n                    labelId=\"dialog-select-prompt-label\"\n                    id=\"dialog-select-prompt\"\n                    name=\"promptId\"\n                    value={selectedPrompt || \"\"}\n                    onChange={handleChangePrompt}\n                    label={i18n.t(\"whatsappModal.form.prompt\")}\n                    fullWidth\n                    MenuProps={{\n                      anchorOrigin: {\n                        vertical: \"bottom\",\n                        horizontal: \"left\",\n                      },\n                      transformOrigin: {\n                        vertical: \"top\",\n                        horizontal: \"left\",\n                      },\n                      getContentAnchorEl: null,\n                    }}\n                  >\n                    {prompts.map((prompt) => (\n                      <MenuItem\n                        key={prompt.id}\n                        value={prompt.id}\n                      >\n                        {prompt.name}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                </FormControl>\n                <div>\n                  <h3>{i18n.t(\"whatsappModal.form.queueRedirection\")}</h3>\n                  <p>{i18n.t(\"whatsappModal.form.queueRedirectionDesc\")}</p>\n                  <Grid spacing={2} container>\n\n                    <Grid xs={6} md={6} item>\n                      <FormControl\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        className={classes.FormControl}\n                        fullWidth\n                      >\n                        <InputLabel id=\"sendIdQueue-selection-label\">\n                          {i18n.t(\"whatsappModal.form.sendIdQueue\")}\n                        </InputLabel>\n                        <Field\n                          as={Select}\n                          name=\"sendIdQueue\"\n                          id=\"sendIdQueue\"\n                          label={i18n.t(\"whatsappModal.form.sendIdQueue\")}\n                          placeholder={i18n.t(\"whatsappModal.form.sendIdQueue\")}\n                          labelId=\"sendIdQueue-selection-label\"\n                        >\n                          <MenuItem value={0}>&nbsp;</MenuItem>\n                          {queues.map(queue => (\n                            <MenuItem key={queue.id} value={queue.id}>\n                              {queue.name}\n                            </MenuItem>\n                          ))}\n                        </Field>\n                      </FormControl>\n\n                    </Grid>\n\n                    <Grid xs={6} md={6} item>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.timeSendQueue\")}\n                        fullWidth\n                        name=\"timeSendQueue\"\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        error={touched.timeSendQueue && Boolean(errors.timeSendQueue)}\n                        helperText={touched.timeSendQueue && errors.timeSendQueue}\n                      />\n                    </Grid>\n\n                  </Grid>\n                  <Grid spacing={2} container>\n                    {/* QUANTIDADE MÁXIMA DE VEZES QUE O CHATBOT VAI SER ENVIADO */}\n                    <Grid xs={12} md={6} item>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.maxUseBotQueues\")}\n                        fullWidth\n                        name=\"maxUseBotQueues\"\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        error={touched.maxUseBotQueues && Boolean(errors.maxUseBotQueues)}\n                        helperText={touched.maxUseBotQueues && errors.maxUseBotQueues}\n                      />\n                    </Grid>\n                    {/* TEMPO PARA ENVIO DO CHATBOT */}\n                    <Grid xs={12} md={6} item>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.timeUseBotQueues\")}\n                        fullWidth\n                        name=\"timeUseBotQueues\"\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        error={touched.timeUseBotQueues && Boolean(errors.timeUseBotQueues)}\n                        helperText={touched.timeUseBotQueues && errors.timeUseBotQueues}\n                      />\n                    </Grid>\n                  </Grid>\n                  <Grid spacing={2} container>\n                    {/* ENCERRAR CHATS ABERTOS APÓS X HORAS */}\n                    <Grid xs={12} md={12} item>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.expiresTicket\")}\n                        fullWidth\n                        name=\"expiresTicket\"\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        error={touched.expiresTicket && Boolean(errors.expiresTicket)}\n                        helperText={touched.expiresTicket && errors.expiresTicket}\n                      />\n                    </Grid>\n                  </Grid>\n                  {/* MENSAGEM POR INATIVIDADE*/}\n                  <div>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"whatsappModal.form.expiresInactiveMessage\")}\n                      multiline\n                      rows={4}\n                      fullWidth\n                      name=\"expiresInactiveMessage\"\n                      error={touched.expiresInactiveMessage && Boolean(errors.expiresInactiveMessage)}\n                      helperText={touched.expiresInactiveMessage && errors.expiresInactiveMessage}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                    />\n                  </div>\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"whatsappModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {whatsAppId\n                    ? i18n.t(\"whatsappModal.buttons.okEdit\")\n                    : i18n.t(\"whatsappModal.buttons.okAdd\")}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default React.memo(WhatsAppModal);\n","import React, { useEffect, useState } from \"react\";\nimport QRCode from \"qrcode.react\";\nimport toastError from \"../../errors/toastError\";\n\nimport { Dialog, DialogContent, Paper, Typography } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst QrcodeModal = ({ open, onClose, whatsAppId }) => {\n  const [qrCode, setQrCode] = useState(\"\");\n\n  useEffect(() => {\n    const fetchSession = async () => {\n      if (!whatsAppId) return;\n\n      try {\n        const { data } = await api.get(`/whatsapp/${whatsAppId}`);\n        setQrCode(data.qrcode);\n      } catch (err) {\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, [whatsAppId]);\n\n  useEffect(() => {\n    if (!whatsAppId) return;\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-whatsappSession`, (data) => {\n      if (data.action === \"update\" && data.session.id === whatsAppId) {\n        setQrCode(data.session.qrcode);\n      }\n\n      if (data.action === \"update\" && data.session.qrcode === \"\") {\n        onClose();\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [whatsAppId, onClose]);\n\n  return (\n    <Dialog open={open} onClose={onClose} maxWidth=\"lg\" scroll=\"paper\">\n      <DialogContent>\n        <Paper elevation={0}>\n          <Typography color=\"primary\" gutterBottom>\n            {i18n.t(\"qrCode.message\")}\n          </Typography>\n          {qrCode ? (\n            <QRCode value={qrCode} size={256} />\n          ) : (\n            <span>Waiting for QR Code</span>\n          )}\n        </Paper>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default React.memo(QrcodeModal);\n","import React, { useState, useCallback, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { format, parseISO } from \"date-fns\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport {\n\tButton,\n\tTableBody,\n\tTableRow,\n\tTableCell,\n\tIconButton,\n\tTable,\n\tTableHead,\n\tPaper,\n\tTooltip,\n\tTypography,\n\tCircularProgress,\n} from \"@material-ui/core\";\nimport {\n\tEdit,\n\tCheckCircle,\n\tSignalCellularConnectedNoInternet2Bar,\n\tSignalCellularConnectedNoInternet0Bar,\n\tSignalCellular4Bar,\n\tCropFree,\n\tDeleteOutline,\n} from \"@material-ui/icons\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\n\nimport api from \"../../services/api\";\nimport WhatsAppModal from \"../../components/WhatsAppModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport QrcodeModal from \"../../components/QrcodeModal\";\nimport { i18n } from \"../../translate/i18n\";\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\nimport toastError from \"../../errors/toastError\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\n\nconst useStyles = makeStyles(theme => ({\n\tmainPaper: {\n\t\tflex: 1,\n\t\tpadding: theme.spacing(1),\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n\ttooltip: {\n\t\tbackgroundColor: \"#f5f5f9\",\n\t\tcolor: \"rgba(0, 0, 0, 0.87)\",\n\t\tfontSize: theme.typography.pxToRem(14),\n\t\tborder: \"1px solid #dadde9\",\n\t\tmaxWidth: 450,\n\t},\n\ttooltipPopper: {\n\t\ttextAlign: \"center\",\n\t},\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t},\n}));\n\nconst CustomToolTip = ({ title, content, children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Tooltip\n\t\t\tarrow\n\t\t\tclasses={{\n\t\t\t\ttooltip: classes.tooltip,\n\t\t\t\tpopper: classes.tooltipPopper,\n\t\t\t}}\n\t\t\ttitle={\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Typography gutterBottom color=\"inherit\">\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{content && <Typography>{content}</Typography>}\n\t\t\t\t</React.Fragment>\n\t\t\t}\n\t\t>\n\t\t\t{children}\n\t\t</Tooltip>\n\t);\n};\n\nconst Connections = () => {\n\tconst classes = useStyles();\n\n\tconst { user } = useContext(AuthContext);\n\tconst { whatsApps, loading } = useContext(WhatsAppsContext);\n\tconst [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\n\tconst [qrModalOpen, setQrModalOpen] = useState(false);\n\tconst [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\n\tconst [confirmModalOpen, setConfirmModalOpen] = useState(false);\n\tconst confirmationModalInitialState = {\n\t\taction: \"\",\n\t\ttitle: \"\",\n\t\tmessage: \"\",\n\t\twhatsAppId: \"\",\n\t\topen: false,\n\t};\n\tconst [confirmModalInfo, setConfirmModalInfo] = useState(\n\t\tconfirmationModalInitialState\n\t);\n\n\tconst handleStartWhatsAppSession = async whatsAppId => {\n\t\ttry {\n\t\t\tawait api.post(`/whatsappsession/${whatsAppId}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleRequestNewQrCode = async whatsAppId => {\n\t\ttry {\n\t\t\tawait api.put(`/whatsappsession/${whatsAppId}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleOpenWhatsAppModal = () => {\n\t\tsetSelectedWhatsApp(null);\n\t\tsetWhatsAppModalOpen(true);\n\t};\n\n\tconst handleCloseWhatsAppModal = useCallback(() => {\n\t\tsetWhatsAppModalOpen(false);\n\t\tsetSelectedWhatsApp(null);\n\t}, [setSelectedWhatsApp, setWhatsAppModalOpen]);\n\n\tconst handleOpenQrModal = whatsApp => {\n\t\tsetSelectedWhatsApp(whatsApp);\n\t\tsetQrModalOpen(true);\n\t};\n\n\tconst handleCloseQrModal = useCallback(() => {\n\t\tsetSelectedWhatsApp(null);\n\t\tsetQrModalOpen(false);\n\t}, [setQrModalOpen, setSelectedWhatsApp]);\n\n\tconst handleEditWhatsApp = whatsApp => {\n\t\tsetSelectedWhatsApp(whatsApp);\n\t\tsetWhatsAppModalOpen(true);\n\t};\n\n\tconst handleOpenConfirmationModal = (action, whatsAppId) => {\n\t\tif (action === \"disconnect\") {\n\t\t\tsetConfirmModalInfo({\n\t\t\t\taction: action,\n\t\t\t\ttitle: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\n\t\t\t\tmessage: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\n\t\t\t\twhatsAppId: whatsAppId,\n\t\t\t});\n\t\t}\n\n\t\tif (action === \"delete\") {\n\t\t\tsetConfirmModalInfo({\n\t\t\t\taction: action,\n\t\t\t\ttitle: i18n.t(\"connections.confirmationModal.deleteTitle\"),\n\t\t\t\tmessage: i18n.t(\"connections.confirmationModal.deleteMessage\"),\n\t\t\t\twhatsAppId: whatsAppId,\n\t\t\t});\n\t\t}\n\t\tsetConfirmModalOpen(true);\n\t};\n\n\tconst handleSubmitConfirmationModal = async () => {\n\t\tif (confirmModalInfo.action === \"disconnect\") {\n\t\t\ttry {\n\t\t\t\tawait api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\n\t\tif (confirmModalInfo.action === \"delete\") {\n\t\t\ttry {\n\t\t\t\tawait api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\n\t\t\t\ttoast.success(i18n.t(\"connections.toasts.deleted\"));\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\n\t\tsetConfirmModalInfo(confirmationModalInitialState);\n\t};\n\n\tconst renderActionButtons = whatsApp => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={() => handleOpenQrModal(whatsApp)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.qrcode\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={() => handleStartWhatsAppSession(whatsApp.id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.tryAgain\")}\n\t\t\t\t\t\t</Button>{\" \"}\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonClick={() => handleRequestNewQrCode(whatsApp.id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.newQr\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{(whatsApp.status === \"CONNECTED\" ||\n\t\t\t\t\twhatsApp.status === \"PAIRING\" ||\n\t\t\t\t\twhatsApp.status === \"TIMEOUT\") && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\thandleOpenConfirmationModal(\"disconnect\", whatsApp.id);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.disconnect\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\n\t\t\t\t\t<Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.connecting\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</>\n\t\t);\n\t};\n\n\tconst renderStatusToolTips = whatsApp => {\n\t\treturn (\n\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.disconnected.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.disconnected.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\n\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.qrcode.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.qrcode.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CropFree />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"CONNECTED\" && (\n\t\t\t\t\t<CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\n\t\t\t\t\t\t<SignalCellular4Bar style={{ color: green[500] }} />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.timeout.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.timeout.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<MainContainer>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={confirmModalInfo.title}\n\t\t\t\topen={confirmModalOpen}\n\t\t\t\tonClose={setConfirmModalOpen}\n\t\t\t\tonConfirm={handleSubmitConfirmationModal}\n\t\t\t>\n\t\t\t\t{confirmModalInfo.message}\n\t\t\t</ConfirmationModal>\n\t\t\t<QrcodeModal\n\t\t\t\topen={qrModalOpen}\n\t\t\t\tonClose={handleCloseQrModal}\n\t\t\t\twhatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\n\t\t\t/>\n\t\t\t<WhatsAppModal\n\t\t\t\topen={whatsAppModalOpen}\n\t\t\t\tonClose={handleCloseWhatsAppModal}\n\t\t\t\twhatsAppId={!qrModalOpen && selectedWhatsApp?.id}\n\t\t\t/>\n\t\t\t<MainHeader>\n\t\t\t\t<Title>{i18n.t(\"connections.title\")}</Title>\n\t\t\t\t<MainHeaderButtonsWrapper>\n\t\t\t\t\t<Can\n\t\t\t\t\t\trole={user.profile}\n\t\t\t\t\t\tperform=\"connections-page:addConnection\"\n\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={handleOpenWhatsAppModal}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.add\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</MainHeaderButtonsWrapper>\n\t\t\t</MainHeader>\n\t\t\t<Paper className={classes.mainPaper} variant=\"outlined\">\n\t\t\t\t<Table size=\"small\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.name\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.status\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\trole={user.profile}\n\t\t\t\t\t\t\t\tperform=\"connections-page:actionButtons\"\n\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.session\")}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.lastUpdate\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.default\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\trole={user.profile}\n\t\t\t\t\t\t\t\tperform=\"connections-page:editOrDeleteConnection\"\n\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.actions\")}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t<TableRowSkeleton />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{whatsApps?.length > 0 &&\n\t\t\t\t\t\t\t\t\twhatsApps.map(whatsApp => (\n\t\t\t\t\t\t\t\t\t\t<TableRow key={whatsApp.id}>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">{whatsApp.name}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{renderStatusToolTips(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\t\trole={user.profile}\n\t\t\t\t\t\t\t\t\t\t\t\tperform=\"connections-page:actionButtons\"\n\t\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderActionButtons(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{format(parseISO(whatsApp.updatedAt), \"dd/MM/yy HH:mm\")}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{whatsApp.isDefault && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckCircle style={{ color: green[500] }} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\t\trole={user.profile}\n\t\t\t\t\t\t\t\t\t\t\t\tperform=\"connections-page:editOrDeleteConnection\"\n\t\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleEditWhatsApp(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleOpenConfirmationModal(\"delete\", whatsApp.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutline />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</Paper>\n\t\t</MainContainer>\n\t);\n};\n\nexport default Connections;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles, TextField, Grid, Container } from \"@material-ui/core\";\nimport { Formik, Form, FastField, FieldArray } from \"formik\";\nimport { isArray } from \"lodash\";\nimport NumberFormat from \"react-number-format\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  textfield: {\n    width: \"100%\",\n  },\n  row: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n  },\n  control: {\n    paddingRight: theme.spacing(1),\n    paddingLeft: theme.spacing(1),\n  },\n  buttonContainer: {\n    textAlign: \"right\",\n    padding: theme.spacing(1),\n  },\n}));\n\nfunction SchedulesForm(props) {\n  const { initialValues, onSubmit, loading, labelSaveButton } = props;\n  const classes = useStyles();\n\n  const [schedules, setSchedules] = useState([\n    { weekday: \"Segunda-feira\", weekdayEn: \"monday\", startTime: \"\", endTime: \"\", },\n    { weekday: \"Terça-feira\", weekdayEn: \"tuesday\", startTime: \"\", endTime: \"\", },\n    { weekday: \"Quarta-feira\", weekdayEn: \"wednesday\", startTime: \"\", endTime: \"\", },\n    { weekday: \"Quinta-feira\", weekdayEn: \"thursday\", startTime: \"\", endTime: \"\", },\n    { weekday: \"Sexta-feira\", weekdayEn: \"friday\", startTime: \"\", endTime: \"\" },\n    { weekday: \"Sábado\", weekdayEn: \"saturday\", startTime: \"\", endTime: \"\" },\n    { weekday: \"Domingo\", weekdayEn: \"sunday\", startTime: \"\", endTime: \"\" },\n  ]);\n\n  useEffect(() => {\n    if (isArray(initialValues) && initialValues.length > 0) {\n      setSchedules(initialValues);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initialValues]);\n\n  const handleSubmit = (data) => {\n    onSubmit(data);\n  };\n\n  return (\n    <Formik\n      enableReinitialize\n      className={classes.fullWidth}\n      initialValues={{ schedules }}\n      onSubmit={({ schedules }) =>\n        setTimeout(() => {\n          handleSubmit(schedules);\n        }, 500)\n      }\n    >\n      {({ values }) => (\n        <Form className={classes.fullWidth}>\n          <FieldArray\n            name=\"schedules\"\n            render={(arrayHelpers) => (\n              <Grid spacing={4} container>\n                {values.schedules.map((item, index) => {\n                  return (\n                      <Container>\n                          <FastField\n                            as={TextField}\n                            label=\"Dia da Semana\"\n                            name={`schedules[${index}].weekday`}\n                            disabled\n                            variant=\"outlined\"\n                            style={{ marginRight: \"3.2%\", width: \"30%\" }}\n                            margin=\"dense\"\n                          />\n                          <FastField\n                            name={`schedules[${index}].startTime`}\n                            >\n                            {({ field }) => (\n                              <NumberFormat\n                                label=\"Hora de Inicial\"\n                                {...field}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                customInput={TextField}\n                                format=\"##:##\"\n                                style={{ marginRight: \"3.2%\", width: \"30%\" }}\n                              />\n                            )}\n                          </FastField>\n                          <FastField\n                            name={`schedules[${index}].endTime`}\n                            >\n                            {({ field }) => (\n                              <NumberFormat\n                                label=\"Hora de Final\"\n                                {...field}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                customInput={TextField}\n                                format=\"##:##\"\n                                style={{ marginRight: \"3.2%\", width: \"30%\" }}\n                              />\n                            )}\n                          </FastField>\n\n                      </Container>\n\n                  );\n                })}\n              </Grid>\n            )}\n          ></FieldArray>\n          <div style={{ textAlign: \"center\", marginTop: \"2%\" }} className={classes.buttonContainer}>\n            <ButtonWithSpinner\n              loading={loading}\n              type=\"submit\"\n              color=\"primary\"\n              variant=\"contained\"\n            >\n              {labelSaveButton ?? \"Salvar\"}\n            </ButtonWithSpinner>\n          </div>\n        </Form>\n      )}\n    </Formik>\n  );\n}\n\nexport default SchedulesForm;\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchips: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tchip: {\n\t\tmargin: 2,\n\t},\n}));\n\nconst QueueSelectCustom = ({ selectedQueueIds, companyId, onChange }) => {\n\tconst classes = useStyles();\n\tconst [queues, setQueues] = useState([]);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/queue\", {\n\t\t\t\t\tparams: { companyId }\n\t\t\t\t});\n\t\t\t\tsetQueues(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t})();\n\t}, [companyId]);\n\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ marginTop: 6 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n\t\t\t\t<InputLabel>{i18n.t(\"queueSelect.inputLabel\")}</InputLabel>\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tlabelWidth={60}\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={selected => (\n\t\t\t\t\t\t<div className={classes.chips}>\n\t\t\t\t\t\t\t{selected?.length > 0 &&\n\t\t\t\t\t\t\t\tselected.map(id => {\n\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\n\t\t\t\t\t\t\t\t\treturn queue ? (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{queues.map(queue => (\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t{queue.name}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default QueueSelectCustom;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelectCustom from \"../QueueSelectCustom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n}));\n\nconst UserSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  password: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n  email: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst ModalUsers = ({ open, onClose, userId, companyId }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    profile: \"user\",\n  };\n\n  const { user: loggedInUser } = useContext(AuthContext);\n\n  const [user, setUser] = useState(initialState);\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      if (!userId) return;\n      if (open) {\n        try {\n          const { data } = await api.get(`/users/${userId}`);\n          setUser((prevState) => {\n            return { ...prevState, ...data };\n          });\n          const userQueueIds = data.queues?.map((queue) => queue.id);\n          setSelectedQueueIds(userQueueIds);\n        } catch (err) {\n          toastError(err);\n        }\n      }\n    };\n\n    fetchUser();\n  }, [userId, open]);\n\n  const handleClose = () => {\n    onClose();\n    setUser(initialState);\n  };\n\n  const handleSaveUser = async (values) => {\n    const userData = { ...values, companyId, queueIds: selectedQueueIds };\n    try {\n      if (userId) {\n        await api.put(`/users/${userId}`, userData);\n      } else {\n        await api.post(\"/users\", userData);\n      }\n      toast.success(i18n.t(\"userModal.success\"));\n    } catch (err) {\n      toastError(err);\n    }\n    handleClose();\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"xs\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {userId\n            ? `${i18n.t(\"userModal.title.edit\")}`\n            : `${i18n.t(\"userModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={user}\n          enableReinitialize={true}\n          validationSchema={UserSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveUser(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.multFieldLine}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"userModal.form.name\")}\n                    autoFocus\n                    name=\"name\"\n                    error={touched.name && Boolean(errors.name)}\n                    helperText={touched.name && errors.name}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"userModal.form.password\")}\n                    type=\"password\"\n                    name=\"password\"\n                    error={touched.password && Boolean(errors.password)}\n                    helperText={touched.password && errors.password}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                </div>\n                <div className={classes.multFieldLine}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"userModal.form.email\")}\n                    name=\"email\"\n                    error={touched.email && Boolean(errors.email)}\n                    helperText={touched.email && errors.email}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                  <FormControl\n                    variant=\"outlined\"\n                    className={classes.formControl}\n                    margin=\"dense\"\n                  >\n                    <Can\n                      role={loggedInUser.profile}\n                      perform=\"user-modal:editProfile\"\n                      yes={() => (\n                        <>\n                          <InputLabel id=\"profile-selection-input-label\">\n                            {i18n.t(\"userModal.form.profile\")}\n                          </InputLabel>\n\n                          <Field\n                            as={Select}\n                            label={i18n.t(\"userModal.form.profile\")}\n                            name=\"profile\"\n                            labelId=\"profile-selection-label\"\n                            id=\"profile-selection\"\n                            required\n                          >\n                            <MenuItem value=\"admin\">Admin</MenuItem>\n                            <MenuItem value=\"user\">User</MenuItem>\n                          </Field>\n                        </>\n                      )}\n                    />\n                  </FormControl>\n                </div>\n                <Can\n                  role={loggedInUser.profile}\n                  perform=\"user-modal:editQueues\"\n                  yes={() => (\n                    <QueueSelectCustom\n                      companyId={companyId}\n                      selectedQueueIds={selectedQueueIds}\n                      onChange={(values) => setSelectedQueueIds(values)}\n                    />\n                  )}\n                />\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"userModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {userId\n                    ? `${i18n.t(\"userModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"userModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ModalUsers;\n","import React, { useState, useEffect } from \"react\";\nimport {\n  makeStyles,\n  Paper,\n  Grid,\n  FormControl,\n  InputLabel,\n  MenuItem,\n  TextField,\n  Table,\n  TableHead,\n  TableBody,\n  TableCell,\n  TableRow,\n  IconButton,\n  Select,\n} from \"@material-ui/core\";\nimport { Formik, Form, Field } from \"formik\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nimport { Edit as EditIcon } from \"@material-ui/icons\";\n\nimport { toast } from \"react-toastify\";\nimport useCompanies from \"../../hooks/useCompanies\";\nimport usePlans from \"../../hooks/usePlans\";\nimport ModalUsers from \"../ModalUsers\";\nimport api from \"../../services/api\";\nimport { head, isArray, has } from \"lodash\";\nimport { useDate } from \"../../hooks/useDate\";\n\nimport moment from \"moment\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  mainPaper: {\n    width: \"100%\",\n    flex: 1,\n    padding: theme.spacing(2),\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  tableContainer: {\n    width: \"100%\",\n    overflowX: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  textfield: {\n    width: \"100%\",\n  },\n  textRight: {\n    textAlign: \"right\",\n  },\n  row: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n  },\n  control: {\n    paddingRight: theme.spacing(1),\n    paddingLeft: theme.spacing(1),\n  },\n  buttonContainer: {\n    textAlign: \"right\",\n    padding: theme.spacing(1),\n  },\n}));\n\nexport function CompanyForm(props) {\n  const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\n  const classes = useStyles();\n  const [plans, setPlans] = useState([]);\n  const [modalUser, setModalUser] = useState(false);\n  const [firstUser, setFirstUser] = useState({});\n\n  const [record, setRecord] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    planId: \"\",\n    status: true,\n    campaignsEnabled: false,\n    dueDate: \"\",\n    recurrence: \"\",\n    ...initialValue,\n  });\n\n  const { list: listPlans } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const list = await listPlans();\n      setPlans(list);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    setRecord((prev) => {\n      if (moment(initialValue).isValid()) {\n        initialValue.dueDate = moment(initialValue.dueDate).format(\n          \"YYYY-MM-DD\"\n        );\n      }\n      return {\n        ...prev,\n        ...initialValue,\n      };\n    });\n  }, [initialValue]);\n\n  const handleSubmit = async (data) => {\n    if (data.dueDate === \"\" || moment(data.dueDate).isValid() === false) {\n      data.dueDate = null;\n    }\n    onSubmit(data);\n    setRecord({ ...initialValue, dueDate: \"\" });\n  };\n\n  const handleOpenModalUsers = async () => {\n    try {\n      const { data } = await api.get(\"/users/list\", {\n        params: {\n          companyId: initialValue.id,\n        },\n      });\n      if (isArray(data) && data.length) {\n        setFirstUser(head(data));\n      }\n      setModalUser(true);\n    } catch (e) {\n      toast.error(e);\n    }\n  };\n\n  const handleCloseModalUsers = () => {\n    setFirstUser({});\n    setModalUser(false);\n  };\n\n  const incrementDueDate = () => {\n    const data = { ...record };\n    if (data.dueDate !== \"\" && data.dueDate !== null) {\n      switch (data.recurrence) {\n        case \"MENSAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(1, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"BIMESTRAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(2, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"TRIMESTRAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(3, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"SEMESTRAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(6, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"ANUAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(12, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        default:\n          break;\n      }\n    }\n    setRecord(data);\n  };\n\n  return (\n    <>\n      <ModalUsers\n        userId={firstUser.id}\n        companyId={initialValue.id}\n        open={modalUser}\n        onClose={handleCloseModalUsers}\n      />\n      <Formik\n        enableReinitialize\n        className={classes.fullWidth}\n        initialValues={record}\n        onSubmit={(values, { resetForm }) =>\n          setTimeout(() => {\n            handleSubmit(values);\n            resetForm();\n          }, 500)\n        }\n      >\n        {(values, setValues) => (\n          <Form className={classes.fullWidth}>\n            <Grid spacing={2} justifyContent=\"flex-end\" container>\n              <Grid xs={12} sm={6} md={4} item>\n                <Field\n                  as={TextField}\n                  label=\"Nome\"\n                  name=\"name\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <Field\n                  as={TextField}\n                  label=\"E-mail\"\n                  name=\"email\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                  required\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <Field\n                  as={TextField}\n                  label=\"Telefone\"\n                  name=\"phone\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"plan-selection\">Plano</InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"plan-selection\"\n                    label=\"Plano\"\n                    labelId=\"plan-selection-label\"\n                    name=\"planId\"\n                    margin=\"dense\"\n                    required\n                  >\n                    {plans.map((plan, key) => (\n                      <MenuItem key={key} value={plan.id}>\n                        {plan.name}\n                      </MenuItem>\n                    ))}\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"status-selection\">Status</InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"status-selection\"\n                    label=\"Status\"\n                    labelId=\"status-selection-label\"\n                    name=\"status\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value={true}>Sim</MenuItem>\n                    <MenuItem value={false}>Não</MenuItem>\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"status-selection\">Campanhas</InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"campaigns-selection\"\n                    label=\"Campanhas\"\n                    labelId=\"campaigns-selection-label\"\n                    name=\"campaignsEnabled\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value={true}>Habilitadas</MenuItem>\n                    <MenuItem value={false}>Desabilitadas</MenuItem>\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl variant=\"outlined\" fullWidth>\n                  <Field\n                    as={TextField}\n                    label=\"Data de Vencimento\"\n                    type=\"date\"\n                    name=\"dueDate\"\n                    InputLabelProps={{\n                      shrink: true,\n                    }}\n                    variant=\"outlined\"\n                    fullWidth\n                    margin=\"dense\"\n                  />\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"recorrencia-selection\">\n                    Recorrência\n                  </InputLabel>\n                  <Field\n                    as={Select}\n                    label=\"Recorrência\"\n                    labelId=\"recorrencia-selection-label\"\n                    id=\"recurrence\"\n                    name=\"recurrence\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value=\"MENSAL\">Mensal</MenuItem>\n                    {/*<MenuItem value=\"BIMESTRAL\">Bimestral</MenuItem>*/}\n                    {/*<MenuItem value=\"TRIMESTRAL\">Trimestral</MenuItem>*/}\n                    {/*<MenuItem value=\"SEMESTRAL\">Semestral</MenuItem>*/}\n                    {/*<MenuItem value=\"ANUAL\">Anual</MenuItem>*/}\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} item>\n                <Grid justifyContent=\"flex-end\" spacing={1} container>\n                  <Grid xs={4} md={1} item>\n                    <ButtonWithSpinner\n                      className={classes.fullWidth}\n                      style={{ marginTop: 7 }}\n                      loading={loading}\n                      onClick={() => onCancel()}\n                      variant=\"contained\"\n                    >\n                      Limpar\n                    </ButtonWithSpinner>\n                  </Grid>\n                  {record.id !== undefined ? (\n                    <>\n                      <Grid xs={6} md={1} item>\n                        <ButtonWithSpinner\n                          style={{ marginTop: 7 }}\n                          className={classes.fullWidth}\n                          loading={loading}\n                          onClick={() => onDelete(record)}\n                          variant=\"contained\"\n                          color=\"secondary\"\n                        >\n                          Excluir\n                        </ButtonWithSpinner>\n                      </Grid>\n                      <Grid xs={6} md={2} item>\n                        <ButtonWithSpinner\n                          style={{ marginTop: 7 }}\n                          className={classes.fullWidth}\n                          loading={loading}\n                          onClick={() => incrementDueDate()}\n                          variant=\"contained\"\n                          color=\"primary\"\n                        >\n                          + Vencimento\n                        </ButtonWithSpinner>\n                      </Grid>\n                      <Grid xs={6} md={1} item>\n                        <ButtonWithSpinner\n                          style={{ marginTop: 7 }}\n                          className={classes.fullWidth}\n                          loading={loading}\n                          onClick={() => handleOpenModalUsers()}\n                          variant=\"contained\"\n                          color=\"primary\"\n                        >\n                          Usuário\n                        </ButtonWithSpinner>\n                      </Grid>\n                    </>\n                  ) : null}\n                  <Grid xs={6} md={1} item>\n                    <ButtonWithSpinner\n                      className={classes.fullWidth}\n                      style={{ marginTop: 7 }}\n                      loading={loading}\n                      type=\"submit\"\n                      variant=\"contained\"\n                      color=\"primary\"\n                    >\n                      Salvar\n                    </ButtonWithSpinner>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Form>\n        )}\n      </Formik>\n    </>\n  );\n}\n\nexport function CompaniesManagerGrid(props) {\n  const { records, onSelect } = props;\n  const classes = useStyles();\n  const { dateToClient } = useDate();\n\n  const renderStatus = (row) => {\n    return row.status === false ? \"Não\" : \"Sim\";\n  };\n\n  const renderPlan = (row) => {\n    return row.planId !== null ? row.plan.name : \"-\";\n  };\n\n  const renderCampaignsStatus = (row) => {\n    if (\n      has(row, \"settings\") &&\n      isArray(row.settings) &&\n      row.settings.length > 0\n    ) {\n      const setting = row.settings.find((s) => s.key === \"campaignsEnabled\");\n      if (setting) {\n        return setting.value === \"true\" ? \"Habilitadas\" : \"Desabilitadas\";\n      }\n    }\n    return \"Desabilitadas\";\n  };\n\n  const rowStyle = (record) => {\n    if (moment(record.dueDate).isValid()) {\n      const now = moment();\n      const dueDate = moment(record.dueDate);\n      const diff = dueDate.diff(now, \"days\");\n      if (diff === 5) {\n        return { backgroundColor: \"#fffead\" };\n      }\n      if (diff >= -3 && diff <= 4) {\n        return { backgroundColor: \"#f7cc8f\" };\n      }\n      if (diff === -4) {\n        return { backgroundColor: \"#fa8c8c\" };\n      }\n    }\n    return {};\n  };\n\n  return (\n    <Paper className={classes.tableContainer}>\n      <Table\n        className={classes.fullWidth}\n        size=\"small\"\n        aria-label=\"a dense table\"\n      >\n        <TableHead>\n          <TableRow>\n            <TableCell align=\"center\" style={{ width: \"1%\" }}>\n              #\n            </TableCell>\n            <TableCell align=\"left\">Nome</TableCell>\n            <TableCell align=\"left\">E-mail</TableCell>\n            <TableCell align=\"left\">Telefone</TableCell>\n            <TableCell align=\"left\">Plano</TableCell>\n            <TableCell align=\"left\">Campanhas</TableCell>\n            <TableCell align=\"left\">Status</TableCell>\n            <TableCell align=\"left\">Criada Em</TableCell>\n            <TableCell align=\"left\">Vencimento</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {records.map((row, key) => (\n            <TableRow style={rowStyle(row)} key={key}>\n              <TableCell align=\"center\" style={{ width: \"1%\" }}>\n                <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\n                  <EditIcon />\n                </IconButton>\n              </TableCell>\n              <TableCell align=\"left\">{row.name || \"-\"}</TableCell>\n              <TableCell align=\"left\">{row.email || \"-\"}</TableCell>\n              <TableCell align=\"left\">{row.phone || \"-\"}</TableCell>\n              <TableCell align=\"left\">{renderPlan(row)}</TableCell>\n              <TableCell align=\"left\">{renderCampaignsStatus(row)}</TableCell>\n              <TableCell align=\"left\">{renderStatus(row)}</TableCell>\n              <TableCell align=\"left\">{dateToClient(row.createdAt)}</TableCell>\n              <TableCell align=\"left\">\n                {dateToClient(row.dueDate)}\n                <br />\n                <span>{row.recurrence}</span>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </Paper>\n  );\n}\n\nexport default function CompaniesManager() {\n  const classes = useStyles();\n  const { list, save, update, remove } = useCompanies();\n\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [records, setRecords] = useState([]);\n  const [record, setRecord] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    planId: \"\",\n    status: true,\n    campaignsEnabled: false,\n    dueDate: \"\",\n    recurrence: \"\",\n  });\n\n  useEffect(() => {\n    loadPlans();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const loadPlans = async () => {\n    setLoading(true);\n    try {\n      const companyList = await list();\n      setRecords(companyList);\n    } catch (e) {\n      toast.error(\"Não foi possível carregar a lista de registros\");\n    }\n    setLoading(false);\n  };\n\n  const handleSubmit = async (data) => {\n    setLoading(true);\n    try {\n      if (data.id !== undefined) {\n        await update(data);\n      } else {\n        await save(data);\n      }\n      await loadPlans();\n      handleCancel();\n      toast.success(\"Operação realizada com sucesso!\");\n    } catch (e) {\n      toast.error(\n        \"Não foi possível realizar a operação. Verifique se já existe uma empresa com o mesmo nome ou se os campos foram preenchidos corretamente\"\n      );\n    }\n    setLoading(false);\n  };\n\n  const handleDelete = async () => {\n    setLoading(true);\n    try {\n      await remove(record.id);\n      await loadPlans();\n      handleCancel();\n      toast.success(\"Operação realizada com sucesso!\");\n    } catch (e) {\n      toast.error(\"Não foi possível realizar a operação\");\n    }\n    setLoading(false);\n  };\n\n  const handleOpenDeleteDialog = () => {\n    setShowConfirmDialog(true);\n  };\n\n  const handleCancel = () => {\n    setRecord((prev) => ({\n      ...prev,\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      planId: \"\",\n      status: true,\n      campaignsEnabled: false,\n      dueDate: \"\",\n      recurrence: \"\",\n    }));\n  };\n\n  const handleSelect = (data) => {\n    let campaignsEnabled = false;\n\n    const setting = data.settings.find(\n      (s) => s.key.indexOf(\"campaignsEnabled\") > -1\n    );\n    if (setting) {\n      campaignsEnabled =\n        setting.value === \"true\" || setting.value === \"enabled\";\n    }\n\n    setRecord((prev) => ({\n      ...prev,\n      id: data.id,\n      name: data.name || \"\",\n      phone: data.phone || \"\",\n      email: data.email || \"\",\n      planId: data.planId || \"\",\n      status: data.status === false ? false : true,\n      campaignsEnabled,\n      dueDate: data.dueDate || \"\",\n      recurrence: data.recurrence || \"\",\n    }));\n  };\n\n  return (\n    <Paper className={classes.mainPaper} elevation={0}>\n      <Grid spacing={2} container>\n        <Grid xs={12} item>\n          <CompanyForm\n            initialValue={record}\n            onDelete={handleOpenDeleteDialog}\n            onSubmit={handleSubmit}\n            onCancel={handleCancel}\n            loading={loading}\n          />\n        </Grid>\n        <Grid xs={12} item>\n          <CompaniesManagerGrid records={records} onSelect={handleSelect} />\n        </Grid>\n      </Grid>\n      <ConfirmationModal\n        title=\"Exclusão de Registro\"\n        open={showConfirmDialog}\n        onClose={() => setShowConfirmDialog(false)}\n        onConfirm={() => handleDelete()}\n      >\n        Deseja realmente excluir esse registro?\n      </ConfirmationModal>\n    </Paper>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport {\n    makeStyles,\n    Paper,\n    Grid,\n    TextField,\n    Table,\n    TableHead,\n    TableBody,\n    TableCell,\n    TableRow,\n    IconButton,\n    FormControl,\n    InputLabel,\n    MenuItem,\n    Select\n} from \"@material-ui/core\";\nimport { Formik, Form, Field } from 'formik';\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nimport { Edit as EditIcon } from \"@material-ui/icons\";\n\nimport { toast } from \"react-toastify\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { i18n } from \"../../translate/i18n\";\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: '100%'\n    },\n    mainPaper: {\n        width: '100%',\n        flex: 1,\n        padding: theme.spacing(2)\n    },\n    fullWidth: {\n        width: '100%'\n    },\n    tableContainer: {\n        width: '100%',\n        overflowX: \"scroll\",\n        ...theme.scrollbarStyles\n    },\n    textfield: {\n        width: '100%'\n    },\n    textRight: {\n        textAlign: 'right'\n    },\n    row: {\n        paddingTop: theme.spacing(2),\n        paddingBottom: theme.spacing(2)\n    },\n    control: {\n        paddingRight: theme.spacing(1),\n        paddingLeft: theme.spacing(1)\n    },\n    buttonContainer: {\n        textAlign: 'right',\n        padding: theme.spacing(1)\n    }\n}));\n\nexport function PlanManagerForm(props) {\n    const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\n    const classes = useStyles()\n\n    const [record, setRecord] = useState({\n        name: '',\n        users: 0,\n        connections: 0,\n        queues: 0,\n        value: 0,\n        useCampaigns: true,\n        useSchedules: true,\n        useInternalChat: true,\n        useExternalApi: true,\n        useKanban: true,\n        useOpenAi: true,\n        useIntegrations: true,\n    });\n\n    useEffect(() => {\n        setRecord(initialValue)\n    }, [initialValue])\n\n    const handleSubmit = async (data) => {\n        onSubmit(data)\n    }\n\n    return (\n        <Formik\n            enableReinitialize\n            className={classes.fullWidth}\n            initialValues={record}\n            onSubmit={(values, { resetForm }) =>\n                setTimeout(() => {\n                    handleSubmit(values)\n                    resetForm()\n                }, 500)\n            }\n        >\n            {(values) => (\n                <Form className={classes.fullWidth}>\n                    <Grid spacing={1} justifyContent=\"flex-start\" container>\n                        {/* NOME */}\n                        <Grid xs={12} sm={6} md={2} item>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"plans.form.name\")}\n                                name=\"name\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n\n                        {/* USUARIOS */}\n                        <Grid xs={12} sm={6} md={1} item>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"plans.form.users\")}\n                                name=\"users\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"number\"\n                            />\n                        </Grid>\n\n                        {/* CONEXOES */}\n                        <Grid xs={12} sm={6} md={1} item>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"plans.form.connections\")}\n                                name=\"connections\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"number\"\n                            />\n                        </Grid>\n\n                        {/* FILAS */}\n                        <Grid xs={12} sm={6} md={1} item>\n                            <Field\n                                as={TextField}\n                                label=\"Filas\"\n                                name=\"queues\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"number\"\n                            />\n                        </Grid>\n\n                        {/* VALOR */}\n                        <Grid xs={12} sm={6} md={1} item>\n                            <Field\n                                as={TextField}\n                                label=\"Valor\"\n                                name=\"value\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"text\"\n                            />\n                        </Grid>\n\n                        {/* CAMPANHAS */}\n                        <Grid xs={12} sm={6} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useCampaigns-selection\">{i18n.t(\"plans.form.campaigns\")}</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useCampaigns-selection\"\n                                    label={i18n.t(\"plans.form.campaigns\")}\n                                    labelId=\"useCampaigns-selection-label\"\n                                    name=\"useCampaigns\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* AGENDAMENTOS */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useSchedules-selection\">{i18n.t(\"plans.form.schedules\")}</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useSchedules-selection\"\n                                    label={i18n.t(\"plans.form.schedules\")}\n                                    labelId=\"useSchedules-selection-label\"\n                                    name=\"useSchedules\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* CHAT INTERNO */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useInternalChat-selection\">Chat Interno</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useInternalChat-selection\"\n                                    label=\"Chat Interno\"\n                                    labelId=\"useInternalChat-selection-label\"\n                                    name=\"useInternalChat\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* API Externa */}\n                        <Grid xs={12} sm={8} md={4} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useExternalApi-selection\">API Externa</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useExternalApi-selection\"\n                                    label=\"API Externa\"\n                                    labelId=\"useExternalApi-selection-label\"\n                                    name=\"useExternalApi\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* KANBAN */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useKanban-selection\">Kanban</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useKanban-selection\"\n                                    label=\"Kanban\"\n                                    labelId=\"useKanban-selection-label\"\n                                    name=\"useKanban\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* OPENAI */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useOpenAi-selection\">Open.Ai</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useOpenAi-selection\"\n                                    label=\"Talk.Ai\"\n                                    labelId=\"useOpenAi-selection-label\"\n                                    name=\"useOpenAi\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* INTEGRACOES */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useIntegrations-selection\">Integrações</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useIntegrations-selection\"\n                                    label=\"Integrações\"\n                                    labelId=\"useIntegrations-selection-label\"\n                                    name=\"useIntegrations\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n                    </Grid>\n                    <Grid spacing={2} justifyContent=\"flex-end\" container>\n\n                        <Grid sm={3} md={2} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onCancel()} variant=\"contained\">\n                                {i18n.t(\"plans.form.clear\")}\n                            </ButtonWithSpinner>\n                        </Grid>\n                        {record.id !== undefined ? (\n                            <Grid sm={3} md={2} item>\n                                <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onDelete(record)} variant=\"contained\" color=\"secondary\">\n                                    {i18n.t(\"plans.form.delete\")}\n                                </ButtonWithSpinner>\n                            </Grid>\n                        ) : null}\n                        <Grid sm={3} md={2} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} type=\"submit\" variant=\"contained\" color=\"primary\">\n                                {i18n.t(\"plans.form.save\")}\n                            </ButtonWithSpinner>\n                        </Grid>\n                    </Grid>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n\nexport function PlansManagerGrid(props) {\n    const { records, onSelect } = props\n    const classes = useStyles()\n    \n    const renderCampaigns = (row) => {\n        return row.useCampaigns === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderSchedules = (row) => {\n        return row.useSchedules === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderInternalChat = (row) => {\n        return row.useInternalChat === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderExternalApi = (row) => {\n        return row.useExternalApi === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderKanban = (row) => {\n        return row.useKanban === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderOpenAi = (row) => {\n        return row.useOpenAi === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderIntegrations = (row) => {\n        return row.useIntegrations === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    return (\n        <Paper className={classes.tableContainer}>\n            <Table\n                className={classes.fullWidth}\n                // size=\"small\"\n                padding=\"none\"\n                aria-label=\"a dense table\"\n            >\n                <TableHead>\n                    <TableRow>\n                        <TableCell align=\"center\" style={{ width: '1%' }}>#</TableCell>\n                        <TableCell align=\"left\">{i18n.t(\"plans.form.name\")}</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.users\")}</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.connections\")}</TableCell>\n                        <TableCell align=\"center\">Filas</TableCell>\n                        <TableCell align=\"center\">Valor</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.campaigns\")}</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.schedules\")}</TableCell>\n                        <TableCell align=\"center\">Chat Interno</TableCell>\n                        <TableCell align=\"center\">API Externa</TableCell>\n                        <TableCell align=\"center\">Kanban</TableCell>\n                        <TableCell align=\"center\">Open.Ai</TableCell>\n                        <TableCell align=\"center\">Integrações</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {records.map((row) => (\n                        <TableRow key={row.id}>\n                            <TableCell align=\"center\" style={{ width: '1%' }}>\n                                <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\n                                    <EditIcon />\n                                </IconButton>\n                            </TableCell>\n                            <TableCell align=\"left\">{row.name || '-'}</TableCell>\n                            <TableCell align=\"center\">{row.users || '-'}</TableCell>\n                            <TableCell align=\"center\">{row.connections || '-'}</TableCell>\n                            <TableCell align=\"center\">{row.queues || '-'}</TableCell>\n                            <TableCell align=\"center\">{i18n.t(\"plans.form.money\")} {row.value ? row.value.toLocaleString('pt-br', { minimumFractionDigits: 2 }) : '00.00'}</TableCell>\n                            <TableCell align=\"center\">{renderCampaigns(row)}</TableCell>\n                            <TableCell align=\"center\">{renderSchedules(row)}</TableCell>\n                            <TableCell align=\"center\">{renderInternalChat(row)}</TableCell>\n                            <TableCell align=\"center\">{renderExternalApi(row)}</TableCell>\n                            <TableCell align=\"center\">{renderKanban(row)}</TableCell>\n                            <TableCell align=\"center\">{renderOpenAi(row)}</TableCell>\n                            <TableCell align=\"center\">{renderIntegrations(row)}</TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n        </Paper>\n    )\n}\n\nexport default function PlansManager() {\n    const classes = useStyles()\n    const { list, save, update, remove } = usePlans()\n\n    const [showConfirmDialog, setShowConfirmDialog] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const [records, setRecords] = useState([])\n    const [record, setRecord] = useState({\n        name: '',\n        users: 0,\n        connections: 0,\n        queues: 0,\n        value: 0,\n        useCampaigns: true,\n        useSchedules: true,\n        useInternalChat: true,\n        useExternalApi: true,\n        useKanban: true,\n        useOpenAi: true,\n        useIntegrations: true,\n    })\n\n    useEffect(() => {\n        async function fetchData() {\n            await loadPlans()\n        }\n        fetchData()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [record])\n\n    const loadPlans = async () => {\n        setLoading(true)\n        try {\n            const planList = await list()\n            setRecords(planList)\n        } catch (e) {\n            toast.error('Não foi possível carregar a lista de registros')\n        }\n        setLoading(false)\n    }\n\n    const handleSubmit = async (data) => {\n        setLoading(true)\n        console.log(data)\n        try {\n            if (data.id !== undefined) {\n                await update(data)\n            } else {\n                await save(data)\n            }\n            await loadPlans()\n            handleCancel()\n            toast.success('Operação realizada com sucesso!')\n        } catch (e) {\n            toast.error('Não foi possível realizar a operação. Verifique se já existe uma plano com o mesmo nome ou se os campos foram preenchidos corretamente')\n        }\n        setLoading(false)\n    }\n\n    const handleDelete = async () => {\n        setLoading(true)\n        try {\n            await remove(record.id)\n            await loadPlans()\n            handleCancel()\n            toast.success('Operação realizada com sucesso!')\n        } catch (e) {\n            toast.error('Não foi possível realizar a operação')\n        }\n        setLoading(false)\n    }\n\n    const handleOpenDeleteDialog = () => {\n        setShowConfirmDialog(true)\n    }\n\n    const handleCancel = () => {\n        setRecord({\n            id: undefined,\n            name: '',\n            users: 0,\n            connections: 0,\n            queues: 0,\n            value: 0,\n            useCampaigns: true,\n            useSchedules: true,\n            useInternalChat: true,\n            useExternalApi: true,\n            useKanban: true,\n            useOpenAi: true,\n            useIntegrations: true\n        })\n    }\n\n    const handleSelect = (data) => {\n\n        let useCampaigns = data.useCampaigns === false ? false : true\n        let useSchedules = data.useSchedules === false ? false : true\n        let useInternalChat = data.useInternalChat === false ? false : true\n        let useExternalApi = data.useExternalApi === false ? false : true\n        let useKanban = data.useKanban === false ? false : true\n        let useOpenAi = data.useOpenAi === false ? false : true\n        let useIntegrations = data.useIntegrations === false ? false : true\n\n        setRecord({\n            id: data.id,\n            name: data.name || '',\n            users: data.users || 0,\n            connections: data.connections || 0,\n            queues: data.queues || 0,\n            value: data.value?.toLocaleString('pt-br', { minimumFractionDigits: 0 }) || 0,\n            useCampaigns,\n            useSchedules,\n            useInternalChat,\n            useExternalApi,\n            useKanban,\n            useOpenAi,\n            useIntegrations\n        })\n    }\n\n    return (\n        <Paper className={classes.mainPaper} elevation={0}>\n            <Grid spacing={2} container>\n                <Grid xs={12} item>\n                    <PlanManagerForm\n                        initialValue={record}\n                        onDelete={handleOpenDeleteDialog}\n                        onSubmit={handleSubmit}\n                        onCancel={handleCancel}\n                        loading={loading}\n                    />\n                </Grid>\n                <Grid xs={12} item>\n                    <PlansManagerGrid\n                        records={records}\n                        onSelect={handleSelect}\n                    />\n                </Grid>\n            </Grid>\n            <ConfirmationModal\n                title=\"Exclusão de Registro\"\n                open={showConfirmDialog}\n                onClose={() => setShowConfirmDialog(false)}\n                onConfirm={() => handleDelete()}\n            >\n                Deseja realmente excluir esse registro?\n            </ConfirmationModal>\n        </Paper>\n    )\n}","import api from \"../../services/api\";\n\nconst usePlans = () => {\n\n    const findAll = async (params) => {\n        const { data } = await api.request({\n            url: `/helps`,\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const list = async (params) => {\n        const { data } = await api.request({\n            url: '/helps/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/helps',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/helps/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const remove = async (id) => {\n        const { data } = await api.request({\n            url: `/helps/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    return {\n        findAll,\n        list,\n        save,\n        update,\n        remove\n    }\n}\n\nexport default usePlans;","import React, { useState, useEffect } from \"react\";\nimport {\n    makeStyles,\n    Paper,\n    Grid,\n    TextField,\n    Table,\n    TableHead,\n    TableBody,\n    TableCell,\n    TableRow,\n    IconButton\n} from \"@material-ui/core\";\nimport { Formik, Form, Field } from 'formik';\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nimport { Edit as EditIcon } from \"@material-ui/icons\";\n\nimport { toast } from \"react-toastify\";\nimport useHelps from \"../../hooks/useHelps\";\n\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n    mainPaper: {\n\t\twidth: '100%',\n\t\tflex: 1,\n\t\tpadding: theme.spacing(2)\n    },\n\tfullWidth: {\n\t\twidth: '100%'\n\t},\n    tableContainer: {\n\t\twidth: '100%',\n\t\toverflowX: \"scroll\",\n\t\t...theme.scrollbarStyles\n    },\n\ttextfield: {\n\t\twidth: '100%'\n\t},\n    textRight: {\n        textAlign: 'right'\n    },\n    row: {\n\t\tpaddingTop: theme.spacing(2),\n\t\tpaddingBottom: theme.spacing(2)\n    },\n    control: {\n\t\tpaddingRight: theme.spacing(1),\n\t\tpaddingLeft: theme.spacing(1)\n\t},\n    buttonContainer: {\n        textAlign: 'right',\n\t\tpadding: theme.spacing(1)\n\t}\n}));\n\nexport function HelpManagerForm (props) {\n    const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\n    const classes = useStyles()\n\n    const [record, setRecord] = useState(initialValue);\n\n    useEffect(() => {\n        setRecord(initialValue)\n    }, [initialValue])\n\n    const handleSubmit = async(data) => {\n        onSubmit(data)\n    }\n\n    return (\n        <Formik\n            enableReinitialize\n            className={classes.fullWidth}\n            initialValues={record}\n            onSubmit={(values, { resetForm }) =>\n                setTimeout(() => {\n                    handleSubmit(values)\n                    resetForm()\n                }, 500)\n            }\n        >\n            {(values) => (\n                <Form className={classes.fullWidth}>\n                    <Grid spacing={2} justifyContent=\"flex-end\" container>\n                        <Grid xs={12} sm={6} md={3} item>\n                            <Field\n                                as={TextField}\n                                label=\"Título\"\n                                name=\"title\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n                        <Grid xs={12} sm={6} md={3} item>\n                            <Field\n                                as={TextField}\n                                label=\"Código do Vídeo\"\n                                name=\"video\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n                        <Grid xs={12} sm={12} md={6} item>\n                            <Field\n                                as={TextField}\n                                label=\"Descrição\"\n                                name=\"description\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n                        <Grid sm={3} md={1} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onCancel()} variant=\"contained\">\n                                Limpar\n                            </ButtonWithSpinner>\n                        </Grid>\n                        { record.id !== undefined ? (\n                            <Grid sm={3} md={1} item>\n                                <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onDelete(record)} variant=\"contained\" color=\"secondary\">\n                                    Excluir\n                                </ButtonWithSpinner>\n                            </Grid>\n                        ) : null}\n                        <Grid sm={3} md={1} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} type=\"submit\" variant=\"contained\" color=\"primary\">\n                                Salvar\n                            </ButtonWithSpinner>\n                        </Grid>\n                    </Grid>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n\nexport function HelpsManagerGrid (props) {\n    const { records, onSelect } = props\n    const classes = useStyles()\n\n    return (\n        <Paper className={classes.tableContainer}>\n            <Table className={classes.fullWidth} size=\"small\" aria-label=\"a dense table\">\n                <TableHead>\n                <TableRow>\n                    <TableCell align=\"center\" style={{width: '1%'}}>#</TableCell>\n                    <TableCell align=\"left\">Título</TableCell>\n                    <TableCell align=\"left\">Descrição</TableCell>\n                    <TableCell align=\"left\">Vídeo</TableCell>\n                </TableRow>\n                </TableHead>\n                <TableBody>\n                {records.map((row) => (\n                    <TableRow key={row.id}>\n                        <TableCell align=\"center\" style={{width: '1%'}}>\n                            <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\n                                <EditIcon />\n                            </IconButton>\n                        </TableCell>\n                        <TableCell align=\"left\">{row.title || '-'}</TableCell>\n                        <TableCell align=\"left\">{row.description || '-'}</TableCell>\n                        <TableCell align=\"left\">{row.video || '-'}</TableCell>\n                    </TableRow>\n                ))}\n                </TableBody>\n            </Table>\n        </Paper>\n    )\n}\n\nexport default function HelpsManager () {\n    const classes = useStyles()\n    const { list, save, update, remove } = useHelps()\n    \n    const [showConfirmDialog, setShowConfirmDialog] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const [records, setRecords] = useState([])\n    const [record, setRecord] = useState({\n        title: '',\n        description: '',\n        video: ''\n    })\n\n    useEffect(() => {\n        async function fetchData () {\n            await loadHelps()\n        }\n        fetchData()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const loadHelps = async () => {\n        setLoading(true)\n        try {\n            const helpList = await list()\n            setRecords(helpList)\n        } catch (e) {\n            toast.error('Não foi possível carregar a lista de registros')\n        }\n        setLoading(false)\n    }\n\n    const handleSubmit = async (data) => {\n        setLoading(true)\n        try {\n            if (data.id !== undefined) {\n                await update(data)\n            } else {\n                await save(data)\n            }\n            await loadHelps()\n            handleCancel()\n            toast.success('Operação realizada com sucesso!')\n        } catch (e) {\n            toast.error('Não foi possível realizar a operação. Verifique se já existe uma helpo com o mesmo nome ou se os campos foram preenchidos corretamente')\n        }\n        setLoading(false)\n    }\n\n    const handleDelete = async () => {\n        setLoading(true)\n        try {\n            await remove(record.id)\n            await loadHelps()\n            handleCancel()\n            toast.success('Operação realizada com sucesso!')\n        } catch (e) {\n            toast.error('Não foi possível realizar a operação')\n        }\n        setLoading(false)\n    }\n\n    const handleOpenDeleteDialog = () => {\n        setShowConfirmDialog(true)\n    }\n\n    const handleCancel = () => {\n        setRecord({\n            title: '',\n            description: '',\n            video: ''\n        })\n    }\n\n    const handleSelect = (data) => {\n        setRecord({\n            id: data.id,\n            title: data.title || '',\n            description: data.description || '',\n            video: data.video || ''\n        })\n    }\n\n    return (\n        <Paper className={classes.mainPaper} elevation={0}>\n            <Grid spacing={2} container>\n                <Grid xs={12} item>\n                    <HelpManagerForm \n                        initialValue={record} \n                        onDelete={handleOpenDeleteDialog} \n                        onSubmit={handleSubmit} \n                        onCancel={handleCancel} \n                        loading={loading}\n                    />\n                </Grid>\n                <Grid xs={12} item>\n                    <HelpsManagerGrid \n                        records={records}\n                        onSelect={handleSelect}\n                    />\n                </Grid>\n            </Grid>\n            <ConfirmationModal\n                title=\"Exclusão de Registro\"\n                open={showConfirmDialog}\n                onClose={() => setShowConfirmDialog(false)}\n                onConfirm={() => handleDelete()}\n            >\n                Deseja realmente excluir esse registro?\n            </ConfirmationModal>\n        </Paper>\n    )\n}","import api from \"../../services/api\";\n\nconst useSettings = () => {\n\n    const getAll = async (params) => {\n        const { data } = await api.request({\n            url: '/settings',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/settings/${data.key}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    return {\n\t\tgetAll,\n        update\n    }\n}\n\nexport default useSettings;","import React, { useEffect, useState } from \"react\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Title from \"../Title\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport useSettings from \"../../hooks/useSettings\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { grey, blue } from \"@material-ui/core/colors\";\nimport { Tabs, Tab } from \"@material-ui/core\";\n\n//import 'react-toastify/dist/ReactToastify.css';\n \nconst useStyles = makeStyles((theme) => ({\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  fixedHeightPaper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: 240,\n  },\n  tab: {\n    backgroundColor: theme.palette.options,  //DARK MODE PLW DESIGN//\n    borderRadius: 4,\n    width: \"100%\",\n    \"& .MuiTab-wrapper\": {\n      color: theme.palette.fontecor,\n    },   //DARK MODE PLW DESIGN//\n    \"& .MuiTabs-flexContainer\": {\n      justifyContent: \"center\"\n    }\n\n\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: 12,\n    width: \"100%\",\n  },\n  cardAvatar: {\n    fontSize: \"55px\",\n    color: grey[500],\n    backgroundColor: \"#ffffff\",\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  cardTitle: {\n    fontSize: \"18px\",\n    color: blue[700],\n  },\n  cardSubtitle: {\n    color: grey[600],\n    fontSize: \"14px\",\n  },\n  alignRight: {\n    textAlign: \"right\",\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  selectContainer: {\n    width: \"100%\",\n    textAlign: \"left\",\n  },\n}));\n\nexport default function Options(props) {\n  const { settings, scheduleTypeChanged } = props;\n  const classes = useStyles();\n  const [userRating, setUserRating] = useState(\"disabled\");\n  const [scheduleType, setScheduleType] = useState(\"disabled\");\n  const [callType, setCallType] = useState(\"enabled\");\n  const [chatbotType, setChatbotType] = useState(\"\");\n  const [CheckMsgIsGroup, setCheckMsgIsGroupType] = useState(\"enabled\");\n\n  const [loadingUserRating, setLoadingUserRating] = useState(false);\n  const [loadingScheduleType, setLoadingScheduleType] = useState(false);\n  const [loadingCallType, setLoadingCallType] = useState(false);\n  const [loadingChatbotType, setLoadingChatbotType] = useState(false);\n  const [loadingCheckMsgIsGroup, setCheckMsgIsGroup] = useState(false);\n\n\n  const [ipixcType, setIpIxcType] = useState(\"\");\n  const [loadingIpIxcType, setLoadingIpIxcType] = useState(false);\n  const [tokenixcType, setTokenIxcType] = useState(\"\");\n  const [loadingTokenIxcType, setLoadingTokenIxcType] = useState(false);\n\n  const [ipmkauthType, setIpMkauthType] = useState(\"\");\n  const [loadingIpMkauthType, setLoadingIpMkauthType] = useState(false);\n  const [clientidmkauthType, setClientIdMkauthType] = useState(\"\");\n  const [loadingClientIdMkauthType, setLoadingClientIdMkauthType] = useState(false);\n  const [clientsecretmkauthType, setClientSecrectMkauthType] = useState(\"\");\n  const [loadingClientSecrectMkauthType, setLoadingClientSecrectMkauthType] = useState(false);\n\n  const [asaasType, setAsaasType] = useState(\"\");\n  const [loadingAsaasType, setLoadingAsaasType] = useState(false);\n  \n  // recursos a mais da plw design\n\n  const [SendGreetingAccepted, setSendGreetingAccepted] = useState(\"disabled\");\n  const [loadingSendGreetingAccepted, setLoadingSendGreetingAccepted] = useState(false);\n  \n  const [SettingsTransfTicket, setSettingsTransfTicket] = useState(\"disabled\");\n  const [loadingSettingsTransfTicket, setLoadingSettingsTransfTicket] = useState(false);\n\n  const { update } = useSettings();\n\n  useEffect(() => {\n    if (Array.isArray(settings) && settings.length) {\n      const userRating = settings.find((s) => s.key === \"userRating\");\n      if (userRating) {\n        setUserRating(userRating.value);\n      }\n      const scheduleType = settings.find((s) => s.key === \"scheduleType\");\n      if (scheduleType) {\n        setScheduleType(scheduleType.value);\n      }\n      const callType = settings.find((s) => s.key === \"call\");\n      if (callType) {\n        setCallType(callType.value);\n      }\n      const CheckMsgIsGroup = settings.find((s) => s.key === \"CheckMsgIsGroup\");\n      if (CheckMsgIsGroup) {\n        setCheckMsgIsGroupType(CheckMsgIsGroup.value);\n      }\n\t  \n\t  {/*PLW DESIGN SAUDAÇÃO*/}\n      const SendGreetingAccepted = settings.find((s) => s.key === \"sendGreetingAccepted\");\n      if (SendGreetingAccepted) {\n        setSendGreetingAccepted(SendGreetingAccepted.value);\n      }\t \n\t  {/*PLW DESIGN SAUDAÇÃO*/}\t \n\t  \n\t  {/*TRANSFERIR TICKET*/}\t\n\t  const SettingsTransfTicket = settings.find((s) => s.key === \"sendMsgTransfTicket\");\n      if (SettingsTransfTicket) {\n        setSettingsTransfTicket(SettingsTransfTicket.value);\n      }\n\t  {/*TRANSFERIR TICKET*/}\t\n\t  \n      const chatbotType = settings.find((s) => s.key === \"chatBotType\");\n      if (chatbotType) {\n        setChatbotType(chatbotType.value);\n      }\n\n      const ipixcType = settings.find((s) => s.key === \"ipixc\");\n      if (ipixcType) {\n        setIpIxcType(ipixcType.value);\n      }\n\n      const tokenixcType = settings.find((s) => s.key === \"tokenixc\");\n      if (tokenixcType) {\n        setTokenIxcType(tokenixcType.value);\n      }\n\n      const ipmkauthType = settings.find((s) => s.key === \"ipmkauth\");\n      if (ipmkauthType) {\n        setIpMkauthType(ipmkauthType.value);\n      }\n\n      const clientidmkauthType = settings.find((s) => s.key === \"clientidmkauth\");\n      if (clientidmkauthType) {\n        setClientIdMkauthType(clientidmkauthType.value);\n      }\n\n      const clientsecretmkauthType = settings.find((s) => s.key === \"clientsecretmkauth\");\n      if (clientsecretmkauthType) {\n        setClientSecrectMkauthType(clientsecretmkauthType.value);\n      }\n\n      const asaasType = settings.find((s) => s.key === \"asaas\");\n      if (asaasType) {\n        setAsaasType(asaasType.value);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [settings]);\n\n  async function handleChangeUserRating(value) {\n    setUserRating(value);\n    setLoadingUserRating(true);\n    await update({\n      key: \"userRating\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingUserRating(false);\n  }\n\n  async function handleScheduleType(value) {\n    setScheduleType(value);\n    setLoadingScheduleType(true);\n    await update({\n      key: \"scheduleType\",\n      value,\n    });\n    //toast.success(\"Oraçãpeo atualizada com sucesso.\");\n    toast.success('Operação atualizada com sucesso.', {\n      position: \"top-right\",\n      autoClose: 2000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: false,\n      draggable: true,\n      theme: \"light\",\n      });\n    setLoadingScheduleType(false);\n    if (typeof scheduleTypeChanged === \"function\") {\n      scheduleTypeChanged(value);\n    }\n  }\n\n  async function handleCallType(value) {\n    setCallType(value);\n    setLoadingCallType(true);\n    await update({\n      key: \"call\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingCallType(false);\n  }\n\n  async function handleChatbotType(value) {\n    setChatbotType(value);\n    setLoadingChatbotType(true);\n    await update({\n      key: \"chatBotType\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingChatbotType(false);\n  }\n\n  async function handleGroupType(value) {\n    setCheckMsgIsGroupType(value);\n    setCheckMsgIsGroup(true);\n    await update({\n      key: \"CheckMsgIsGroup\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setCheckMsgIsGroupType(false);\n    /*     if (typeof scheduleTypeChanged === \"function\") {\n          scheduleTypeChanged(value);\n        } */\n  }\n  \n  {/*NOVO CÓDIGO*/}  \n  async function handleSendGreetingAccepted(value) {\n    setSendGreetingAccepted(value);\n    setLoadingSendGreetingAccepted(true);\n    await update({\n      key: \"sendGreetingAccepted\",\n      value,\n    });\n\ttoast.success(\"Operação atualizada com sucesso.\");\n    setLoadingSendGreetingAccepted(false);\n  }  \n  \n  \n  {/*NOVO CÓDIGO*/}    \n\n  async function handleSettingsTransfTicket(value) {\n    setSettingsTransfTicket(value);\n    setLoadingSettingsTransfTicket(true);\n    await update({\n      key: \"sendMsgTransfTicket\",\n      value,\n    });\n\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingSettingsTransfTicket(false);\n  } \n \n  async function handleChangeIPIxc(value) {\n    setIpIxcType(value);\n    setLoadingIpIxcType(true);\n    await update({\n      key: \"ipixc\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingIpIxcType(false);\n  }\n\n  async function handleChangeTokenIxc(value) {\n    setTokenIxcType(value);\n    setLoadingTokenIxcType(true);\n    await update({\n      key: \"tokenixc\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingTokenIxcType(false);\n  }\n\n  async function handleChangeIpMkauth(value) {\n    setIpMkauthType(value);\n    setLoadingIpMkauthType(true);\n    await update({\n      key: \"ipmkauth\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingIpMkauthType(false);\n  }\n\n  async function handleChangeClientIdMkauth(value) {\n    setClientIdMkauthType(value);\n    setLoadingClientIdMkauthType(true);\n    await update({\n      key: \"clientidmkauth\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingClientIdMkauthType(false);\n  }\n\n  async function handleChangeClientSecrectMkauth(value) {\n    setClientSecrectMkauthType(value);\n    setLoadingClientSecrectMkauthType(true);\n    await update({\n      key: \"clientsecretmkauth\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingClientSecrectMkauthType(false);\n  }\n\n  async function handleChangeAsaas(value) {\n    setAsaasType(value);\n    setLoadingAsaasType(true);\n    await update({\n      key: \"asaas\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingAsaasType(false);\n  }\n  return (\n    <>\n      <Grid spacing={3} container>\n        {/* <Grid xs={12} item>\n                    <Title>Configurações Gerais</Title>\n                </Grid> */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"ratings-label\">Avaliações</InputLabel>\n            <Select\n              labelId=\"ratings-label\"\n              value={userRating}\n              onChange={async (e) => {\n                handleChangeUserRating(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitadas</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitadas</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingUserRating && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"schedule-type-label\">\n              Gerenciamento de Expediente\n            </InputLabel>\n            <Select\n              labelId=\"schedule-type-label\"\n              value={scheduleType}\n              onChange={async (e) => {\n                handleScheduleType(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"queue\"}>Fila</MenuItem>\n              <MenuItem value={\"company\"}>Empresa</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingScheduleType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"group-type-label\">\n              Ignorar Mensagens de Grupos\n            </InputLabel>\n            <Select\n              labelId=\"group-type-label\"\n              value={CheckMsgIsGroup}\n              onChange={async (e) => {\n                handleGroupType(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desativado</MenuItem>\n              <MenuItem value={\"enabled\"}>Ativado</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingScheduleType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"call-type-label\">\n              Aceitar Chamada\n            </InputLabel>\n            <Select\n              labelId=\"call-type-label\"\n              value={callType}\n              onChange={async (e) => {\n                handleCallType(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Não Aceitar</MenuItem>\n              <MenuItem value={\"enabled\"}>Aceitar</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingCallType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"chatbot-type-label\">\n              Tipo Chatbot\n            </InputLabel>\n            <Select\n              labelId=\"chatbot-type-label\"\n              value={chatbotType}\n              onChange={async (e) => {\n                handleChatbotType(e.target.value);\n              }}\n            >\n              <MenuItem value={\"text\"}>Texto</MenuItem>\n\t\t\t {/*<MenuItem value={\"button\"}>Botão</MenuItem>*/}\n             {/*<MenuItem value={\"list\"}>Lista</MenuItem>*/}\n            </Select>\n            <FormHelperText>\n              {loadingChatbotType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\t\t{/* ENVIAR SAUDAÇÃO AO ACEITAR O TICKET */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"sendGreetingAccepted-label\">Enviar saudação ao aceitar o ticket</InputLabel>\n            <Select\n              labelId=\"sendGreetingAccepted-label\"\n              value={SendGreetingAccepted}\n              onChange={async (e) => {\n                handleSendGreetingAccepted(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitado</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingSendGreetingAccepted && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\t\t{/* ENVIAR SAUDAÇÃO AO ACEITAR O TICKET */}\n\t\t\n\t\t{/* ENVIAR MENSAGEM DE TRANSFERENCIA DE SETOR/ATENDENTE */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"sendMsgTransfTicket-label\">Enviar mensagem de transferencia de Fila/agente</InputLabel>\n            <Select\n              labelId=\"sendMsgTransfTicket-label\"\n              value={SettingsTransfTicket}\n              onChange={async (e) => {\n                handleSettingsTransfTicket(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitado</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingSettingsTransfTicket && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\t\t\n      </Grid>\n      <Grid spacing={3} container>\n        <Tabs\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollButtons=\"on\"\n          variant=\"scrollable\"\n          className={classes.tab}\n          style={{\n            marginBottom: 20,\n            marginTop: 20\n          }}\n        >\n          <Tab\n\n            label=\"INTEGRAÇÕES\" />\n\n        </Tabs>\n\n      </Grid>\n      {/*-----------------IXC-----------------*/}\n      <Grid spacing={3} container\n        style={{ marginBottom: 10 }}>\n        <Tabs\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollButtons=\"on\"\n          variant=\"scrollable\"\n          className={classes.tab}\n        >\n          <Tab\n\n            label=\"IXC\" />\n\n        </Tabs>\n        <Grid xs={12} sm={6} md={6} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"ipixc\"\n              name=\"ipixc\"\n              margin=\"dense\"\n              label=\"IP do IXC\"\n              variant=\"outlined\"\n              value={ipixcType}\n              onChange={async (e) => {\n                handleChangeIPIxc(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingIpIxcType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={6} md={6} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"tokenixc\"\n              name=\"tokenixc\"\n              margin=\"dense\"\n              label=\"Token do IXC\"\n              variant=\"outlined\"\n              value={tokenixcType}\n              onChange={async (e) => {\n                handleChangeTokenIxc(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingTokenIxcType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n      </Grid>\n      {/*-----------------MK-AUTH-----------------*/}\n      <Grid spacing={3} container\n        style={{ marginBottom: 10 }}>\n        <Tabs\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollButtons=\"on\"\n          variant=\"scrollable\"\n          className={classes.tab}\n        >\n          <Tab label=\"MK-AUTH\" />\n\n        </Tabs>\n        <Grid xs={12} sm={12} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"ipmkauth\"\n              name=\"ipmkauth\"\n              margin=\"dense\"\n              label=\"Ip Mk-Auth\"\n              variant=\"outlined\"\n              value={ipmkauthType}\n              onChange={async (e) => {\n                handleChangeIpMkauth(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingIpMkauthType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={12} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"clientidmkauth\"\n              name=\"clientidmkauth\"\n              margin=\"dense\"\n              label=\"Client Id\"\n              variant=\"outlined\"\n              value={clientidmkauthType}\n              onChange={async (e) => {\n                handleChangeClientIdMkauth(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingClientIdMkauthType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={12} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"clientsecretmkauth\"\n              name=\"clientsecretmkauth\"\n              margin=\"dense\"\n              label=\"Client Secret\"\n              variant=\"outlined\"\n              value={clientsecretmkauthType}\n              onChange={async (e) => {\n                handleChangeClientSecrectMkauth(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingClientSecrectMkauthType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n      </Grid>\n      {/*-----------------ASAAS-----------------*/}\n      <Grid spacing={3} container\n        style={{ marginBottom: 10 }}>\n        <Tabs\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollButtons=\"on\"\n          variant=\"scrollable\"\n          className={classes.tab}\n        >\n          <Tab label=\"ASAAS\" />\n\n        </Tabs>\n        <Grid xs={12} sm={12} md={12} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"asaas\"\n              name=\"asaas\"\n              margin=\"dense\"\n              label=\"Token Asaas\"\n              variant=\"outlined\"\n              value={asaasType}\n              onChange={async (e) => {\n                handleChangeAsaas(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingAsaasType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n      </Grid>\n    </>\n  );\n}\n","const OnlyForSuperUser = ({ user, yes, no }) => user.super ? yes() : no();\n\nOnlyForSuperUser.defaultProps = {\n    user: {},\n\tyes: () => null,\n\tno: () => null,\n};\n\nexport default OnlyForSuperUser;","import React, { useState, useEffect } from \"react\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport { makeStyles, Paper, Tabs, Tab } from \"@material-ui/core\";\n\nimport TabPanel from \"../../components/TabPanel\";\n\nimport SchedulesForm from \"../../components/SchedulesForm\";\nimport CompaniesManager from \"../../components/CompaniesManager\";\nimport PlansManager from \"../../components/PlansManager\";\nimport HelpsManager from \"../../components/HelpsManager\";\nimport Options from \"../../components/Settings/Options\";\n\nimport { i18n } from \"../../translate/i18n.js\";\nimport { toast } from \"react-toastify\";\n\nimport useCompanies from \"../../hooks/useCompanies\";\nimport useAuth from \"../../hooks/useAuth.js\";\nimport useSettings from \"../../hooks/useSettings\";\n\nimport OnlyForSuperUser from \"../../components/OnlyForSuperUser\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flex: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n  mainPaper: {\n    ...theme.scrollbarStyles,\n    overflowY: \"scroll\",\n    flex: 1,\n  },\n  tab: {\n    backgroundColor: theme.palette.options,\n    borderRadius: 4,\n  },\n  paper: {\n    ...theme.scrollbarStyles,\n    overflowY: \"scroll\",\n    padding: theme.spacing(2),\n    display: \"flex\",\n    alignItems: \"center\",\n    width: \"100%\",\n  },\n  container: {\n    width: \"100%\",\n    maxHeight: \"100%\",\n  },\n  control: {\n    padding: theme.spacing(1),\n  },\n  textfield: {\n    width: \"100%\",\n  },\n}));\n\nconst SettingsCustom = () => {\n  const classes = useStyles();\n  const [tab, setTab] = useState(\"options\");\n  const [schedules, setSchedules] = useState([]);\n  const [company, setCompany] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [settings, setSettings] = useState({});\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\n\n  const { getCurrentUserInfo } = useAuth();\n  const { find, updateSchedules } = useCompanies();\n  const { getAll: getAllSettings } = useSettings();\n\n  useEffect(() => {\n    async function findData() {\n      setLoading(true);\n      try {\n        const companyId = localStorage.getItem(\"companyId\");\n        const company = await find(companyId);\n        const settingList = await getAllSettings();\n        setCompany(company);\n        setSchedules(company.schedules);\n        setSettings(settingList);\n\n        if (Array.isArray(settingList)) {\n          const scheduleType = settingList.find(\n            (d) => d.key === \"scheduleType\"\n          );\n          if (scheduleType) {\n            setSchedulesEnabled(scheduleType.value === \"company\");\n          }\n        }\n\n        const user = await getCurrentUserInfo();\n        setCurrentUser(user);\n      } catch (e) {\n        toast.error(e);\n      }\n      setLoading(false);\n    }\n    findData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleTabChange = (event, newValue) => {\n      async function findData() {\n        setLoading(true);\n        try {\n          const companyId = localStorage.getItem(\"companyId\");\n          const company = await find(companyId);\n          const settingList = await getAllSettings();\n          setCompany(company);\n          setSchedules(company.schedules);\n          setSettings(settingList);\n  \n          if (Array.isArray(settingList)) {\n            const scheduleType = settingList.find(\n              (d) => d.key === \"scheduleType\"\n            );\n            if (scheduleType) {\n              setSchedulesEnabled(scheduleType.value === \"company\");\n            }\n          }\n  \n          const user = await getCurrentUserInfo();\n          setCurrentUser(user);\n        } catch (e) {\n          toast.error(e);\n        }\n        setLoading(false);\n      }\n      findData();\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n\n    setTab(newValue);\n  };\n\n  const handleSubmitSchedules = async (data) => {\n    setLoading(true);\n    try {\n      setSchedules(data);\n      await updateSchedules({ id: company.id, schedules: data });\n      toast.success(\"Horários atualizados com sucesso.\");\n    } catch (e) {\n      toast.error(e);\n    }\n    setLoading(false);\n  };\n\n  const isSuper = () => {\n    return currentUser.super;\n  };\n\n  return (\n    <MainContainer className={classes.root}>\n      <MainHeader>\n        <Title>{i18n.t(\"settings.title\")}</Title>\n      </MainHeader>\n      <Paper className={classes.mainPaper} elevation={1}>\n        <Tabs\n          value={tab}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollButtons=\"on\"\n          variant=\"scrollable\"\n          onChange={handleTabChange}\n          className={classes.tab}\n        >\n          <Tab label=\"Opções\" value={\"options\"} />\n          {schedulesEnabled && <Tab label=\"Horários\" value={\"schedules\"} />}\n          {isSuper() ? <Tab label=\"Empresas\" value={\"companies\"} /> : null}\n          {isSuper() ? <Tab label=\"Planos\" value={\"plans\"} /> : null}\n          {isSuper() ? <Tab label=\"Ajuda\" value={\"helps\"} /> : null}\n        </Tabs>\n        <Paper className={classes.paper} elevation={0}>\n          <TabPanel\n            className={classes.container}\n            value={tab}\n            name={\"schedules\"}\n          >\n            <SchedulesForm\n              loading={loading}\n              onSubmit={handleSubmitSchedules}\n              initialValues={schedules}\n            />\n          </TabPanel>\n          <OnlyForSuperUser\n            user={currentUser}\n            yes={() => (\n              <TabPanel\n                className={classes.container}\n                value={tab}\n                name={\"companies\"}\n              >\n                <CompaniesManager />\n              </TabPanel>\n            )}\n          />\n          <OnlyForSuperUser\n            user={currentUser}\n            yes={() => (\n              <TabPanel\n                className={classes.container}\n                value={tab}\n                name={\"plans\"}\n              >\n                <PlansManager />\n              </TabPanel>\n            )}\n          />\n          <OnlyForSuperUser\n            user={currentUser}\n            yes={() => (\n              <TabPanel\n                className={classes.container}\n                value={tab}\n                name={\"helps\"}\n              >\n                <HelpsManager />\n              </TabPanel>\n            )}\n          />\n          <TabPanel className={classes.container} value={tab} name={\"options\"}>\n            <Options\n              settings={settings}\n              scheduleTypeChanged={(value) =>\n                setSchedulesEnabled(value === \"company\")\n              }\n            />\n          </TabPanel>\n        </Paper>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default SettingsCustom;\n","import React from 'react';\nimport { at } from 'lodash';\nimport { useField } from 'formik';\nimport { TextField } from '@material-ui/core';\n\nexport default function InputField(props) {\n  const { errorText, ...rest } = props;\n  const [field, meta] = useField(props);\n\n  function _renderHelperText() {\n    const [touched, error] = at(meta, 'touched', 'error');\n    if (touched && error) {\n      return error;\n    }\n  }\n\n  return (\n    <TextField\n      type=\"text\"\n      error={meta.touched && meta.error && true}\n      helperText={_renderHelperText()}\n      {...field}\n      {...rest}\n    />\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { at } from 'lodash';\nimport { useField } from 'formik';\nimport {\n  InputLabel,\n  FormControl,\n  Select,\n  MenuItem,\n  FormHelperText\n} from '@material-ui/core';\n\nfunction SelectField(props) {\n  const { label, data, ...rest } = props;\n  const [field, meta] = useField(props);\n  const { value: selectedValue } = field;\n  const [touched, error] = at(meta, 'touched', 'error');\n  const isError = touched && error && true;\n  function _renderHelperText() {\n    if (isError) {\n      return <FormHelperText>{error}</FormHelperText>;\n    }\n  }\n\n  return (\n    <FormControl {...rest} error={isError}>\n      <InputLabel>{label}</InputLabel>\n      <Select {...field} value={selectedValue ? selectedValue : ''}>\n        {data.map((item, index) => (\n          <MenuItem key={index} value={item.value}>\n            {item.label}\n          </MenuItem>\n        ))}\n      </Select>\n      {_renderHelperText()}\n    </FormControl>\n  );\n}\n\nSelectField.defaultProps = {\n  data: []\n};\n\nSelectField.propTypes = {\n  data: PropTypes.array.isRequired\n};\n\nexport default SelectField;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { Grid, Typography } from \"@material-ui/core\";\nimport { InputField, SelectField } from \"../../FormFields\";\nimport { AuthContext } from \"../../../context/Auth/AuthContext\";\n\nconst countries = [\n  {\n    value: \"BR\",\n    label: \"Brasil\",\n  },\n  {\n    value: \"usa\",\n    label: \"United States\",\n  },\n];\n\nexport default function AddressForm(props) {\n\n  const { user } = useContext(AuthContext);\n  const [billingName, setBillingName] = useState(user.company.billingName);\n  const [addressZipCode, setAddressZipCode] = useState(user.company.addressZipCode);\n  const [addressStreet, setAddressStreet] = useState(user.company.addressStreet);\n  const [addressState, setAddressState] = useState(user.company.addressState);\n  const [addressCity, setAddressCity] = useState(user.company.addressCity);\n  const [addressDistrict, setAddressDistrict] = useState(user.company.addressDistrict);\n\n  const {\n    formField: {\n      firstName,\n      address1,\n      city,\n      state,\n      zipcode,\n      country,\n    },\n    setFieldValue\n  } = props;\n  useEffect(() => {\n    setFieldValue(\"firstName\", billingName)\n    setFieldValue(\"zipcode\", addressZipCode)\n    setFieldValue(\"address2\", addressStreet)\n    setFieldValue(\"state\", addressState)\n    setFieldValue(\"city\", addressCity)\n    setFieldValue(\"country\", addressDistrict)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <React.Fragment>\n      <Typography variant=\"h6\" gutterBottom>\n        Vamos precisar de algumas informações\n      </Typography>\n      <Grid container spacing={3}>\n\n        <Grid item xs={6} sm={6}>\n          <InputField name={firstName.name} label={firstName.label} fullWidth\n            value={billingName}\n            onChange={(e) => {\n              setBillingName(e.target.value)\n              setFieldValue(\"firstName\", e.target.value)\n            }}\n          />\n        </Grid>\n        <Grid item xs={6} sm={6}>\n          <SelectField\n            name={country.name}\n            label={country.label}\n            data={countries}\n            fullWidth\n            value={addressDistrict}\n            onChange={(e) => {\n              setAddressDistrict(e.target.value)\n              setFieldValue(\"country\", e.target.value)\n            }\n            }\n          />\n        </Grid>\n\n        <Grid item xs={4}>\n          <InputField\n            name={zipcode.name}\n            label={zipcode.label}\n            fullWidth\n            value={addressZipCode}\n            onChange={(e) => {\n              setAddressZipCode(e.target.value)\n              setFieldValue(\"zipcode\", e.target.value)\n            }}\n          />\n        </Grid>\n        <Grid item xs={8}>\n          <InputField\n            name={address1.name}\n            label={address1.label}\n            fullWidth\n            value={addressStreet}\n            onChange={(e) => {\n              setAddressStreet(e.target.value)\n              setFieldValue(\"address2\", e.target.value)\n\n            }}\n          />\n        </Grid>\n\n        <Grid item xs={4}>\n          <InputField\n            name={state.name}\n            label={state.label}\n            fullWidth\n            value={addressState}\n            onChange={(e) => {\n              setAddressState(e.target.value)\n              setFieldValue(\"state\", e.target.value)\n\n            }}\n          />\n        </Grid>\n        <Grid item xs={8}>\n          <InputField\n            name={city.name}\n            label={city.label}\n            fullWidth\n            value={addressCity}\n            onChange={(e) => {\n              setAddressCity(e.target.value)\n              setFieldValue(\"city\", e.target.value)\n            }}\n          />\n        </Grid>\n\n      </Grid>\n    </React.Fragment>\n  );\n}\n","import React, { useState, useEffect, useReducer } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Grid from '@material-ui/core/Grid';\nimport StarIcon from '@material-ui/icons/StarBorder';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport MinimizeIcon from '@material-ui/icons/Minimize';\nimport AddIcon from '@material-ui/icons/Add';\n\nimport usePlans from \"../../../hooks/usePlans\";\nimport useCompanies from \"../../../hooks/useCompanies\";\n\nconst useStyles = makeStyles((theme) => ({\n  '@global': {\n    ul: {\n      margin: 0,\n      padding: 0,\n      listStyle: 'none',\n    },\n  },\n  margin: {\n    margin: theme.spacing(1),\n  },\n\n\n  cardHeader: {\n    backgroundColor:\n      theme.palette.type === 'light' ? theme.palette.grey[200] : theme.palette.grey[700],\n  },\n  cardPricing: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'baseline',\n    marginBottom: theme.spacing(2),\n  },\n  footer: {\n    borderTop: `1px solid ${theme.palette.divider}`,\n    marginTop: theme.spacing(8),\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3),\n    [theme.breakpoints.up('sm')]: {\n      paddingTop: theme.spacing(6),\n      paddingBottom: theme.spacing(6),\n    },\n  },\n\n  customCard: {\n    display: \"flex\",\n    marginTop: \"16px\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n  },\n  custom: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  }\n}));\n\n\nexport default function Pricing(props) {\n  const {\n    setFieldValue,\n    setActiveStep,\n    activeStep,\n  } = props;\n\n  const handleChangeAdd = (event, newValue) => {\n    if (newValue < 3) return\n\n    const newPrice = 11.00;\n\n    setUsersPlans(newValue);\n    setCustomValuePlans(customValuePlans + newPrice);\n  }\n\n  const handleChangeMin = (event, newValue) => {\n    if (newValue < 3) return\n\n    const newPrice = 11;\n\n    setUsersPlans(newValue);\n    setCustomValuePlans(customValuePlans - newPrice);\n  }\n\n  const handleChangeConnectionsAdd = (event, newValue) => {\n    if (newValue < 3) return\n    const newPrice = 20.00;\n    setConnectionsPlans(newValue);\n    setCustomValuePlans(customValuePlans + newPrice);\n  }\n\n  const handleChangeConnectionsMin = (event, newValue) => {\n    if (newValue < 3) return\n    const newPrice = 20;\n    setConnectionsPlans(newValue);\n    setCustomValuePlans(customValuePlans - newPrice);\n  }\n\n  const { list, finder } = usePlans();\n  const { find } = useCompanies();\n\n  const classes = useStyles();\n  const [usersPlans, setUsersPlans] = React.useState(3);\n  const [companiesPlans, setCompaniesPlans] = useState(0);\n  const [connectionsPlans, setConnectionsPlans] = React.useState(3);\n  const [storagePlans, setStoragePlans] = React.useState([]);\n  const [customValuePlans, setCustomValuePlans] = React.useState(49.00);\n  const [loading, setLoading] = React.useState(false);\n  const companyId = localStorage.getItem(\"companyId\");\n\n  useEffect(() => {\n    async function fetchData() {\n      await loadCompanies();\n    }\n    fetchData();\n  }, [])\n\n  const loadCompanies = async () => {\n    setLoading(true);\n    try {\n      const companiesList = await find(companyId);\n      setCompaniesPlans(companiesList.planId);\n      await loadPlans(companiesList.planId);\n    } catch (e) {\n      console.log(e);\n      // toast.error(\"Não foi possível carregar a lista de registros\");\n    }\n    setLoading(false);\n  };\n  const loadPlans = async (companiesPlans) => {\n    setLoading(true);\n    try {\n      const plansCompanies = await finder(companiesPlans);\n      const plans = []\n\n      //plansCompanies.forEach((plan) => {\n      plans.push({\n        title: plansCompanies.name,\n        planId: plansCompanies.id,\n        price: plansCompanies.value,\n        description: [\n          `${plansCompanies.users} Usuários`,\n          `${plansCompanies.connections} Conexão`,\n          `${plansCompanies.queues} Filas`\n        ],\n        users: plansCompanies.users,\n        connections: plansCompanies.connections,\n        queues: plansCompanies.queues,\n        buttonText: 'SELECIONAR',\n        buttonVariant: 'outlined',\n      })\n\n      // setStoragePlans(data);\n      //});\n      setStoragePlans(plans);\n    } catch (e) {\n      console.log(e);\n      // toast.error(\"Não foi possível carregar a lista de registros\");\n    }\n    setLoading(false);\n  };\n\n\n  const tiers = storagePlans\n  return (\n    <React.Fragment>\n      <Grid container spacing={3}>\n        {tiers.map((tier) => (\n          // Enterprise card is full width at sm breakpoint\n          <Grid item key={tier.title} xs={12} sm={tier.title === 'Enterprise' ? 12 : 12} md={12}>\n            <Card>\n              <CardHeader\n                title={tier.title}\n                subheader={tier.subheader}\n                titleTypographyProps={{ align: 'center' }}\n                subheaderTypographyProps={{ align: 'center' }}\n                action={tier.title === 'Pro' ? <StarIcon /> : null}\n                className={classes.cardHeader}\n              />\n              <CardContent>\n                <div className={classes.cardPricing}>\n                  <Typography component=\"h2\" variant=\"h3\" color=\"textPrimary\">\n                    {\n\n                      <React.Fragment>\n                        R${tier.price.toLocaleString('pt-br', { minimumFractionDigits: 2 })}\n                      </React.Fragment>\n                    }\n                  </Typography>\n                  <Typography variant=\"h6\" color=\"textSecondary\">\n                    /mês\n                  </Typography>\n                </div>\n                <ul>\n                  {tier.description.map((line) => (\n                    <Typography component=\"li\" variant=\"subtitle1\" align=\"center\" key={line}>\n                      {line}\n                    </Typography>\n                  ))}\n                </ul>\n              </CardContent>\n              <CardActions>\n                <Button\n                  fullWidth\n                  variant={tier.buttonVariant}\n                  color=\"primary\"\n                  onClick={() => {\n                    if (tier.custom) {\n                      setFieldValue(\"plan\", JSON.stringify({\n                        users: usersPlans,\n                        connections: connectionsPlans,\n                        price: customValuePlans,\n                      }));\n                    } else {\n                      setFieldValue(\"plan\", JSON.stringify(tier));\n                    }\n                    setActiveStep(activeStep + 1);\n                  }\n                  }\n                >\n                  {tier.buttonText}\n                </Button>\n              </CardActions>\n            </Card>\n          </Grid>\n        ))}\n      </Grid>\n    </React.Fragment>\n  );\n}","import { makeStyles } from '@material-ui/core/styles';\nexport default makeStyles(theme => ({\n  listItem: {\n    padding: theme.spacing(1, 0)\n  },\n  total: {\n    fontWeight: '700'\n  },\n  title: {\n    marginTop: theme.spacing(2)\n  }\n}));\n","import React from 'react';\nimport { Typography, Grid } from '@material-ui/core';\nimport useStyles from './styles';\n\nfunction PaymentDetails(props) {\n  const { formValues } = props;\n  const classes = useStyles();\n  const { plan } = formValues;\n\n  const newPlan = JSON.parse(plan);\n  const { users, connections, price } = newPlan;\n  return (\n    <Grid item xs={12} sm={12}>\n      <Typography variant=\"h6\" gutterBottom className={classes.title}>\n        Detalhes do plano\n      </Typography>\n      <Typography gutterBottom>Usuários: {users}</Typography>\n      <Typography gutterBottom>Whatsapps: {connections}</Typography>\n      <Typography gutterBottom>Cobrança: Mensal</Typography>\n      <Typography gutterBottom>Total: R${price.toLocaleString('pt-br', {minimumFractionDigits: 2})}</Typography>\n    </Grid>\n  );\n}\n\nexport default PaymentDetails;\n","import ReviewOrder from './ReviewOrder';\nexport default ReviewOrder;\n","import React from 'react';\nimport { useFormikContext } from 'formik';\nimport { Typography, Grid } from '@material-ui/core';\nimport ShippingDetails from './ShippingDetails';\nimport PaymentDetails from './PaymentDetails';\n\nexport default function ReviewOrder() {\n  const { values: formValues } = useFormikContext();\n  return (\n    <React.Fragment>\n      <Typography variant=\"h6\" gutterBottom>\n        Resumo da assinatura\n      </Typography>\n      <Grid container spacing={2}>\n        <ShippingDetails formValues={formValues} />\n      </Grid>\n    </React.Fragment>\n  );\n}\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  footer {\n    margin-top: 30px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n\n    @media (max-width: 768px) {\n      flex-direction: column;\n      .checkout-buttons {\n        display: flex;\n        flex-direction: column-reverse;\n        width: 100%;\n\n        button {\n          width: 100%;\n          margin-top: 16px;\n          margin-left: 0;\n        }\n      }\n    }\n\n    button {\n      margin-left: 16px;\n    }\n  }\n`;\nexport const Total = styled.div`\n  display: flex;\n  align-items: baseline;\n\n  span {\n    color: #333;\n    font-weight: bold;\n  }\n\n  strong {\n    color: #333;\n    font-size: 28px;\n    margin-left: 5px;\n  }\n\n  @media (max-width: 768px) {\n    min-width: 100%;\n    justify-content: space-between;\n  }\n`;\n\nexport const SuccessContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  > h2 {\n    text-align: center;\n  }\n\n  > svg {\n    margin-top: 16px;\n  }\n\n  > span {\n    margin-top: 24px;\n    text-align: center;\n  }\n\n  > p,\n  strong {\n    margin-top: 8px;\n    font-size: 9px;\n    color: #999;\n  }\n\n  .copy-button {\n    font-size: 14px;\n    cursor: pointer;\n    text-align: center;\n    user-select: none;\n    min-height: 56px;\n    display: inline-flex;\n    -webkit-box-pack: center;\n    justify-content: center;\n    -webkit-box-align: center;\n    align-items: center;\n    background-color: #f9f9f9;\n    color: #000;\n    -webkit-appearance: none !important;\n    outline: none;\n    margin-top: 16px;\n    width: 256px;\n    font-weight: 600;\n    text-transform: uppercase;\n    border: none;\n\n    > span {\n      margin-right: 8px;\n    }\n  }\n`;\n\nexport const CheckoutWrapper = styled.div`\n  width: 100%;\n  margin: 0 auto 0;\n  max-width: 1110px;\n  display: flex;\n  flex-direction: column;\n  -webkit-box-align: center;\n  align-items: center;\n  padding: 50px 95px;\n  background: #fff;\n  @media (max-width: 768px) {\n    padding: 16px 24px;\n`;","import React, { useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport QRCode from 'react-qr-code';\nimport { SuccessContent, Total } from './style';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { FaCopy, FaCheckCircle } from 'react-icons/fa';\nimport { socketConnection } from \"../../../services/socket\";\nimport { useDate } from \"../../../hooks/useDate\";\nimport { toast } from \"react-toastify\";\n\nfunction CheckoutSuccess(props) {\n\n  const { pix } = props;\n  const [pixString,] = useState(pix.qrcode.qrcode);\n  const [copied, setCopied] = useState(false);\n  const history = useHistory();\n\n  const { dateToClient } = useDate();\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n    socket.on(`company-${companyId}-payment`, (data) => {\n\n      if (data.action === \"CONCLUIDA\") {\n        toast.success(`Sua licença foi renovada até ${dateToClient(data.company.dueDate)}!`);\n        setTimeout(() => {\n          history.push(\"/\");\n        }, 4000);\n      }\n    });\n  }, [history]);\n\n  const handleCopyQR = () => {\n    setTimeout(() => {\n      setCopied(false);\n    }, 1 * 1000);\n    setCopied(true);\n  };\n\n  return (\n    <React.Fragment>\n      <Total>\n        <span>TOTAL</span>\n        <strong>R${pix.valor.original.toLocaleString('pt-br', { minimumFractionDigits: 2 })}</strong>\n      </Total>\n      <SuccessContent>\n        <QRCode value={pixString} />\n        <CopyToClipboard text={pixString} onCopy={handleCopyQR}>\n          <button className=\"copy-button\" type=\"button\">\n            {copied ? (\n              <>\n                <span>Copiado</span>\n                <FaCheckCircle size={18} />\n              </>\n            ) : (\n              <>\n                <span>Copiar código QR</span>\n                <FaCopy size={18} />\n              </>\n            )}\n          </button>\n        </CopyToClipboard>\n        <span>\n          Para finalizar, basta realizar o pagamento escaneando ou colando o\n          código Pix acima :)\n        </span>\n      </SuccessContent>\n    </React.Fragment>\n  );\n}\n\nexport default CheckoutSuccess;\n","import CheckoutSuccess from './CheckoutSuccess';\nexport default CheckoutSuccess;\n","export default {\n  formId: 'checkoutForm',\n  formField: {\n    firstName: {\n      name: 'firstName',\n      label: 'Nome completo*',\n      requiredErrorMsg: 'O nome completo é obrigatório'\n    },\n    lastName: {\n      name: 'lastName',\n      label: 'Last name*',\n      requiredErrorMsg: 'Last name is required'\n    },\n    address1: {\n      name: 'address2',\n      label: 'Endereço*',\n      requiredErrorMsg: 'O Endereço é obrigatório'\n    },\n\n    city: {\n      name: 'city',\n      label: 'Cidade*',\n      requiredErrorMsg: 'Cidade é obrigatória'\n    },\n    state: {\n      name: 'state',\n      label: 'Estado*',\n      requiredErrorMsg: 'Cidade é obrigatória'\n    },\n    zipcode: {\n      name: 'zipcode',\n      label: 'CEP*',\n      requiredErrorMsg: 'CEP é obrigatório',\n      invalidErrorMsg: 'Formato de CEP inválido'\n    },\n    country: {\n      name: 'country',\n      label: 'País*',\n      requiredErrorMsg: 'País é obrigatório'\n    },\n    useAddressForPaymentDetails: {\n      name: 'useAddressForPaymentDetails',\n      label: 'Use this address for payment details'\n    },\n    invoiceId: {\n      name: 'invoiceId',\n      label: 'Use this invoiceId'\n    },\n    nameOnCard: {\n      name: 'nameOnCard',\n      label: 'Name on card*',\n      requiredErrorMsg: 'Name on card is required'\n    },\n    cardNumber: {\n      name: 'cardNumber',\n      label: 'Card number*',\n      requiredErrorMsg: 'Card number is required',\n      invalidErrorMsg: 'Card number is not valid (e.g. 4111111111111)'\n    },\n    expiryDate: {\n      name: 'expiryDate',\n      label: 'Expiry date*',\n      requiredErrorMsg: 'Expiry date is required',\n      invalidErrorMsg: 'Expiry date is not valid'\n    },\n    cvv: {\n      name: 'cvv',\n      label: 'CVV*',\n      requiredErrorMsg: 'CVV is required',\n      invalidErrorMsg: 'CVV is invalid (e.g. 357)'\n    }\n  }\n};\n","import * as Yup from 'yup';\nimport checkoutFormModel from './checkoutFormModel';\nconst {\n  formField: {\n    firstName,\n    address1,\n    city,\n    zipcode,\n    country,\n  }\n} = checkoutFormModel;\n\n\nexport default [\n  Yup.object().shape({\n    [firstName.name]: Yup.string().required(`${firstName.requiredErrorMsg}`),\n    [address1.name]: Yup.string().required(`${address1.requiredErrorMsg}`),\n    [city.name]: Yup.string()\n      .nullable()\n      .required(`${city.requiredErrorMsg}`),\n    [zipcode.name]: Yup.string()\n      .required(`${zipcode.requiredErrorMsg}`),\n\n    [country.name]: Yup.string()\n      .nullable()\n      .required(`${country.requiredErrorMsg}`)\n  }),\n\n];\n","import checkoutFormModel from './checkoutFormModel';\nconst {\n  formField: {\n    firstName,\n    lastName,\n    address1,\n    city,\n    state,\n    zipcode,\n    country,\n    useAddressForPaymentDetails,\n    nameOnCard,\n    cardNumber,\n    invoiceId,\n    cvv\n  }\n} = checkoutFormModel;\n\nexport default {\n  [firstName.name]: '',\n  [lastName.name]: '',\n  [address1.name]: '',\n  [city.name]: '',\n  [state.name]: '',\n  [zipcode.name]: '',\n  [country.name]: '',\n  [useAddressForPaymentDetails.name]: false,\n  [nameOnCard.name]: '',\n  [cardNumber.name]: '',\n  [invoiceId.name]: '',\n  [cvv.name]: ''\n};\n","import { makeStyles } from '@material-ui/core/styles';\nexport default makeStyles(theme => ({\n  stepper: {\n    padding: theme.spacing(3, 0, 5)\n  },\n  buttons: {\n    display: 'flex',\n    justifyContent: 'flex-end'\n  },\n  button: {\n    marginTop: theme.spacing(3),\n    marginLeft: theme.spacing(1)\n  },\n  wrapper: {\n    margin: theme.spacing(1),\n    position: 'relative'\n  },\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%'\n  }\n}));\n","import CheckoutPage from './CheckoutPage';\nexport default CheckoutPage;\n","import React, { useContext, useState } from \"react\";\nimport {\n  Stepper,\n  Step,\n  StepLabel,\n  Button,\n  Typography,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport { Formik, Form } from \"formik\";\n\nimport AddressForm from \"./Forms/AddressForm\";\nimport PaymentForm from \"./Forms/PaymentForm\";\nimport ReviewOrder from \"./ReviewOrder\";\nimport CheckoutSuccess from \"./CheckoutSuccess\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { toast } from \"react-toastify\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\n\nimport validationSchema from \"./FormModel/validationSchema\";\nimport checkoutFormModel from \"./FormModel/checkoutFormModel\";\nimport formInitialValues from \"./FormModel/formInitialValues\";\n\nimport useStyles from \"./styles\";\nimport Invoices from \"../../pages/Financeiro\";\n\n\nexport default function CheckoutPage(props) {\n  const steps = [\"Dados\", \"Personalizar\", \"Revisar\"];\n  const { formId, formField } = checkoutFormModel;\n  \n  \n  \n  const classes = useStyles();\n  const [activeStep, setActiveStep] = useState(1);\n  const [datePayment, setDatePayment] = useState(null);\n  const [invoiceId, setinvoiceId] = useState(props.Invoice.id);\n  const currentValidationSchema = validationSchema[activeStep];\n  const isLastStep = activeStep === steps.length - 1;\n  const { user } = useContext(AuthContext);\n\nfunction _renderStepContent(step, setFieldValue, setActiveStep, values ) {\n\n  switch (step) {\n    case 0:\n      return <AddressForm formField={formField} values={values} setFieldValue={setFieldValue}  />;\n    case 1:\n      return <PaymentForm \n      formField={formField} \n      setFieldValue={setFieldValue} \n      setActiveStep={setActiveStep} \n      activeStep={step} \n      invoiceId={invoiceId}\n      values={values}\n      />;\n    case 2:\n      return <ReviewOrder />;\n    default:\n      return <div>Not Found</div>;\n  }\n}\n\n\n  async function _submitForm(values, actions) {\n    try {\n      const plan = JSON.parse(values.plan);\n      const newValues = {\n        firstName: values.firstName,\n        lastName: values.lastName,\n        address2: values.address2,\n        city: values.city,\n        state: values.state,\n        zipcode: values.zipcode,\n        country: values.country,\n        useAddressForPaymentDetails: values.useAddressForPaymentDetails,\n        nameOnCard: values.nameOnCard,\n        cardNumber: values.cardNumber,\n        cvv: values.cvv,\n        plan: values.plan,\n        price: plan.price,\n        users: plan.users,\n        connections: plan.connections,\n        invoiceId: invoiceId\n      }\n\n      const { data } = await api.post(\"/subscription\", newValues);\n      setDatePayment(data)\n      actions.setSubmitting(false);\n      setActiveStep(activeStep + 1);\n      toast.success(\"Assinatura realizada com sucesso!, aguardando a realização do pagamento\");\n    } catch (err) {\n      toastError(err);\n    }\n  }\n\n  function _handleSubmit(values, actions) {\n    if (isLastStep) {\n      _submitForm(values, actions);\n    } else {\n      setActiveStep(activeStep + 1);\n      actions.setTouched({});\n      actions.setSubmitting(false);\n    }\n  }\n\n  function _handleBack() {\n    setActiveStep(activeStep - 1);\n  }\n\n  return (\n    <React.Fragment>\n      <Typography component=\"h1\" variant=\"h4\" align=\"center\">\n        Falta pouco!\n      </Typography>\n      <Stepper activeStep={activeStep} className={classes.stepper}>\n        {steps.map((label) => (\n          <Step key={label}>\n            <StepLabel>{label}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n      <React.Fragment>\n        {activeStep === steps.length ? (\n          <CheckoutSuccess pix={datePayment} />\n        ) : (\n          <Formik\n            initialValues={{\n              ...user, \n              ...formInitialValues\n            }}\n            validationSchema={currentValidationSchema}\n            onSubmit={_handleSubmit}\n          >\n            {({ isSubmitting, setFieldValue, values }) => (\n              <Form id={formId}>\n                {_renderStepContent(activeStep, setFieldValue, setActiveStep, values)}\n\n                <div className={classes.buttons}>\n                  {activeStep !== 1 && (\n                    <Button onClick={_handleBack} className={classes.button}>\n                      VOLTAR\n                    </Button>\n                  )}\n                  <div className={classes.wrapper}>\n                    {activeStep !== 1 && (\n                      <Button\n                        disabled={isSubmitting}\n                        type=\"submit\"\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.button}\n                      >\n                        {isLastStep ? \"PAGAR\" : \"PRÓXIMO\"}\n                      </Button>\n                    )}\n                    {isSubmitting && (\n                      <CircularProgress\n                        size={24}\n                        className={classes.buttonProgress}\n                      />\n                    )}\n                  </div>\n                </div>\n              </Form>\n            )}\n          </Formik>\n        )}\n      </React.Fragment>\n    </React.Fragment>\n  );\n}\n","import React, { useEffect, useRef } from \"react\";\n\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport CheckoutPage from \"../CheckoutPage/\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\n\nconst ContactModal = ({ open, onClose, Invoice, contactId, initialValues, onSave }) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n\n  const handleClose = () => {\n    onClose();\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog open={open} onClose={handleClose} maxWidth=\"md\" scroll=\"paper\">\n        <DialogContent dividers>\n          <CheckoutPage\n            Invoice={Invoice}\n          />\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ContactModal;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport SubscriptionModal from \"../../components/SubscriptionModal\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport UserModal from \"../../components/UserModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { socketConnection } from \"../../services/socket\";\n\nimport moment from \"moment\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_INVOICES\") {\n    const invoices = action.payload;\n    const newUsers = [];\n\n    invoices.forEach((user) => {\n      const userIndex = state.findIndex((u) => u.id === user.id);\n      if (userIndex !== -1) {\n        state[userIndex] = user;\n      } else {\n        newUsers.push(user);\n      }\n    });\n\n    return [...state, ...newUsers];\n  }\n\n  if (action.type === \"UPDATE_USERS\") {\n    const user = action.payload;\n    const userIndex = state.findIndex((u) => u.id === user.id);\n\n    if (userIndex !== -1) {\n      state[userIndex] = user;\n      return [...state];\n    } else {\n      return [user, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_USER\") {\n    const userId = action.payload;\n\n    const userIndex = state.findIndex((u) => u.id === userId);\n    if (userIndex !== -1) {\n      state.splice(userIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Invoices = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [invoices, dispatch] = useReducer(reducer, []);\n  const [storagePlans, setStoragePlans] = React.useState([]);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n\n\n  const handleOpenContactModal = (invoices) => {\n    setStoragePlans(invoices);\n    setSelectedContactId(null);\n    setContactModalOpen(true);\n  };\n\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchInvoices = async () => {\n        try {\n          const { data } = await api.get(\"/invoices/all\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_INVOICES\", payload: data });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchInvoices();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n  const rowStyle = (record) => {\n    const hoje = moment(moment()).format(\"DD/MM/yyyy\");\n    const vencimento = moment(record.dueDate).format(\"DD/MM/yyyy\");\n    var diff = moment(vencimento, \"DD/MM/yyyy\").diff(moment(hoje, \"DD/MM/yyyy\"));\n    var dias = moment.duration(diff).asDays();    \n    if (dias < 0 && record.status !== \"paid\") {\n      return { backgroundColor: \"#ffbcbc9c\" };\n    }\n  };\n\n  const rowStatus = (record) => {\n    const hoje = moment(moment()).format(\"DD/MM/yyyy\");\n    const vencimento = moment(record.dueDate).format(\"DD/MM/yyyy\");\n    var diff = moment(vencimento, \"DD/MM/yyyy\").diff(moment(hoje, \"DD/MM/yyyy\"));\n    var dias = moment.duration(diff).asDays();    \n    const status = record.status;\n    if (status === \"paid\") {\n      return \"Pago\";\n    }\n    if (dias < 0) {\n      return \"Vencido\";\n    } else {\n      return \"Em Aberto\"\n    }\n\n  }\n\n  return (\n    <MainContainer>\n      <SubscriptionModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        Invoice={storagePlans}\n        contactId={selectedContactId}\n\n      ></SubscriptionModal>\n      <MainHeader>\n        <Title>Faturas</Title>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">Id</TableCell>\n              <TableCell align=\"center\">Detalhes</TableCell>\n              <TableCell align=\"center\">Valor</TableCell>\n              <TableCell align=\"center\">Data Venc.</TableCell>\n              <TableCell align=\"center\">Status</TableCell>\n              <TableCell align=\"center\">Ação</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {invoices.map((invoices) => (\n                <TableRow style={rowStyle(invoices)} key={invoices.id}>\n                  <TableCell align=\"center\">{invoices.id}</TableCell>\n                  <TableCell align=\"center\">{invoices.detail}</TableCell>\n                  <TableCell style={{ fontWeight: 'bold' }} align=\"center\">{invoices.value.toLocaleString('pt-br', { style: 'currency', currency: 'BRL' })}</TableCell>\n                  <TableCell align=\"center\">{moment(invoices.dueDate).format(\"DD/MM/YYYY\")}</TableCell>\n                  <TableCell style={{ fontWeight: 'bold' }} align=\"center\">{rowStatus(invoices)}</TableCell>\n                  <TableCell align=\"center\">\n                    {rowStatus(invoices) !== \"Pago\" ?\n                      <Button\n                        size=\"small\"\n                        variant=\"outlined\"\n                        color=\"secondary\"\n                        onClick={() => handleOpenContactModal(invoices)}\n                      >\n                        PAGAR\n                      </Button> :\n                      <Button\n                        size=\"small\"\n                        variant=\"outlined\" \n                        /* color=\"secondary\"\n                        disabled */\n                      >\n                        PAGO \n                      </Button>}\n\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Invoices;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport UserModal from \"../../components/UserModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_USERS\") {\n    const users = action.payload;\n    const newUsers = [];\n\n    users.forEach((user) => {\n      const userIndex = state.findIndex((u) => u.id === user.id);\n      if (userIndex !== -1) {\n        state[userIndex] = user;\n      } else {\n        newUsers.push(user);\n      }\n    });\n\n    return [...state, ...newUsers];\n  }\n\n  if (action.type === \"UPDATE_USERS\") {\n    const user = action.payload;\n    const userIndex = state.findIndex((u) => u.id === user.id);\n\n    if (userIndex !== -1) {\n      state[userIndex] = user;\n      return [...state];\n    } else {\n      return [user, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_USER\") {\n    const userId = action.payload;\n\n    const userIndex = state.findIndex((u) => u.id === userId);\n    if (userIndex !== -1) {\n      state.splice(userIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Users = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [deletingUser, setDeletingUser] = useState(null);\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [users, dispatch] = useReducer(reducer, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchUsers = async () => {\n        try {\n          const { data } = await api.get(\"/users/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_USERS\", payload: data.users });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchUsers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-user`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_USERS\", payload: data.user });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.userId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(true);\n  };\n\n  const handleCloseUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditUser = (user) => {\n    setSelectedUser(user);\n    setUserModalOpen(true);\n  };\n\n  const handleDeleteUser = async (userId) => {\n    try {\n      await api.delete(`/users/${userId}`);\n      toast.success(i18n.t(\"users.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingUser(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingUser &&\n          `${i18n.t(\"users.confirmationModal.deleteTitle\")} ${\n            deletingUser.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteUser(deletingUser.id)}\n      >\n        {i18n.t(\"users.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <UserModal\n        open={userModalOpen}\n        onClose={handleCloseUserModal}\n        aria-labelledby=\"form-dialog-title\"\n        userId={selectedUser && selectedUser.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"users.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenUserModal}\n          >\n            {i18n.t(\"users.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"users.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.profile\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {users.map((user) => (\n                <TableRow key={user.id}>\n                  <TableCell align=\"center\">{user.name}</TableCell>\n                  <TableCell align=\"center\">{user.email}</TableCell>\n                  <TableCell align=\"center\">{user.profile}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditUser(user)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingUser(user);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Users;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactModal from \"../../components/ContactModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal/\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\nimport NewTicketModal from \"../../components/NewTicketModal\";\nimport { socketConnection } from \"../../services/socket\";\n\nimport {CSVLink} from \"react-csv\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTS\") {\n    const contacts = action.payload;\n    const newContacts = [];\n\n    contacts.forEach((contact) => {\n      const contactIndex = state.findIndex((c) => c.id === contact.id);\n      if (contactIndex !== -1) {\n        state[contactIndex] = contact;\n      } else {\n        newContacts.push(contact);\n      }\n    });\n\n    return [...state, ...newContacts];\n  }\n\n  if (action.type === \"UPDATE_CONTACTS\") {\n    const contact = action.payload;\n    const contactIndex = state.findIndex((c) => c.id === contact.id);\n\n    if (contactIndex !== -1) {\n      state[contactIndex] = contact;\n      return [...state];\n    } else {\n      return [contact, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACT\") {\n    const contactId = action.payload;\n\n    const contactIndex = state.findIndex((c) => c.id === contactId);\n    if (contactIndex !== -1) {\n      state.splice(contactIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Contacts = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contacts, dispatch] = useReducer(reducer, []);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n  const [contactTicket, setContactTicket] = useState({});\n  const [deletingContact, setDeletingContact] = useState(null);\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(\"/contacts/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-contact`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.contact });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.contactId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleOpenContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(true);\n  };\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n\n  // const handleSaveTicket = async contactId => {\n  // \tif (!contactId) return;\n  // \tsetLoading(true);\n  // \ttry {\n  // \t\tconst { data: ticket } = await api.post(\"/tickets\", {\n  // \t\t\tcontactId: contactId,\n  // \t\t\tuserId: user?.id,\n  // \t\t\tstatus: \"open\",\n  // \t\t});\n  // \t\thistory.push(`/tickets/${ticket.id}`);\n  // \t} catch (err) {\n  // \t\ttoastError(err);\n  // \t}\n  // \tsetLoading(false);\n  // };\n\n  const handleCloseOrOpenTicket = (ticket) => {\n    setNewTicketModalOpen(false);\n    if (ticket !== undefined && ticket.uuid !== undefined) {\n      history.push(`/tickets/${ticket.uuid}`);\n    }\n  };\n\n  const hadleEditContact = (contactId) => {\n    setSelectedContactId(contactId);\n    setContactModalOpen(true);\n  };\n\n  const handleDeleteContact = async (contactId) => {\n    try {\n      await api.delete(`/contacts/${contactId}`);\n      toast.success(i18n.t(\"contacts.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingContact(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const handleimportContact = async () => {\n    try {\n      await api.post(\"/contacts/import\");\n      history.go(0);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <NewTicketModal\n        modalOpen={newTicketModalOpen}\n        initialContact={contactTicket}\n        onClose={(ticket) => {\n          handleCloseOrOpenTicket(ticket);\n        }}\n      />\n      <ContactModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactId={selectedContactId}\n      ></ContactModal>\n      <ConfirmationModal\n        title={\n          deletingContact\n            ? `${i18n.t(\"contacts.confirmationModal.deleteTitle\")} ${\n                deletingContact.name\n              }?`\n            : `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\n        }\n        open={confirmOpen}\n        onClose={setConfirmOpen}\n        onConfirm={(e) =>\n          deletingContact\n            ? handleDeleteContact(deletingContact.id)\n            : handleimportContact()\n        }\n      >\n        {deletingContact\n          ? `${i18n.t(\"contacts.confirmationModal.deleteMessage\")}`\n          : `${i18n.t(\"contacts.confirmationModal.importMessage\")}`}\n      </ConfirmationModal>\n      <MainHeader>\n        <Title>{i18n.t(\"contacts.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={(e) => setConfirmOpen(true)}\n          >\n            {i18n.t(\"contacts.buttons.import\")}\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenContactModal}\n          >\n            {i18n.t(\"contacts.buttons.add\")}\n          </Button>\n\n         <CSVLink style={{ textDecoration:'none'}} separator=\";\" filename={'whaticket.csv'} data={contacts.map((contact) => ({ name: contact.name, number: contact.number, email: contact.email }))}>\n          <Button\tvariant=\"contained\" color=\"primary\"> \n          EXPORTAR CONTATOS \n          </Button>\n          </CSVLink>\n\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell padding=\"checkbox\" />\n              <TableCell>{i18n.t(\"contacts.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.whatsapp\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {contacts.map((contact) => (\n                <TableRow key={contact.id}>\n                  <TableCell style={{ paddingRight: 0 }}>\n                    {<Avatar src={contact.profilePicUrl} />}\n                  </TableCell>\n                  <TableCell>{contact.name}</TableCell>\n                  <TableCell align=\"center\">{contact.number}</TableCell>\n                  <TableCell align=\"center\">{contact.email}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => {\n                        setContactTicket(contact);\n                        setNewTicketModalOpen(true);\n                      }}\n                    >\n                      <WhatsAppIcon />\n                    </IconButton>\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => hadleEditContact(contact.id)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n                    <Can\n                      role={user.profile}\n                      perform=\"contacts-page:deleteContact\"\n                      yes={() => (\n                        <IconButton\n                          size=\"small\"\n                          onClick={(e) => {\n                            setConfirmOpen(true);\n                            setDeletingContact(contact);\n                          }}\n                        >\n                          <DeleteOutlineIcon />\n                        </IconButton>\n                      )}\n                    />\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton avatar columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Contacts;\n","import { Dialog } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\n\nimport { BlockPicker } from \"react-color\";\n\nconst ColorPicker = ({ onChange, currentColor, handleClose, open }) => {\n\tconst [selectedColor, setSelectedColor] = useState(currentColor);\n\n\tconst handleChange = color => {\n\t\tsetSelectedColor(color.hex);\n\t\thandleClose();\n\t};\n\n\tconst colors = [\n\t\t\"#B80000\",\n\t\t\"#DB3E00\",\n\t\t\"#FCCB00\",\n\t\t\"#008B02\",\n\t\t\"#006B76\",\n\t\t\"#1273DE\",\n\t\t\"#004DCF\",\n\t\t\"#5300EB\",\n\t\t\"#EB9694\",\n\t\t\"#FAD0C3\",\n\t\t\"#FEF3BD\",\n\t\t\"#C1E1C5\",\n\t\t\"#BEDADC\",\n\t\t\"#C4DEF6\",\n\t\t\"#BED3F3\",\n\t\t\"#D4C4FB\",\n\t\t\"#4D4D4D\",\n\t\t\"#999999\",\n\t\t\"#F44E3B\",\n\t\t\"#FE9200\",\n\t\t\"#FCDC00\",\n\t\t\"#DBDF00\",\n\t\t\"#A4DD00\",\n\t\t\"#68CCCA\",\n\t\t\"#73D8FF\",\n\t\t\"#AEA1FF\",\n\t\t\"#FDA1FF\",\n\t\t\"#333333\",\n\t\t\"#808080\",\n\t\t\"#cccccc\",\n\t\t\"#D33115\",\n\t\t\"#E27300\",\n\t\t\"#FCC400\",\n\t\t\"#B0BC00\",\n\t\t\"#68BC00\",\n\t\t\"#16A5A5\",\n\t\t\"#009CE0\",\n\t\t\"#7B64FF\",\n\t\t\"#FA28FF\",\n\t\t\"#666666\",\n\t\t\"#B3B3B3\",\n\t\t\"#9F0500\",\n\t\t\"#C45100\",\n\t\t\"#FB9E00\",\n\t\t\"#808900\",\n\t\t\"#194D33\",\n\t\t\"#0C797D\",\n\t\t\"#0062B1\",\n\t\t\"#653294\",\n\t\t\"#AB149E\",\n\t];\n\n\treturn (\n\t\t<Dialog\n\t\t\tonClose={handleClose}\n\t\t\taria-labelledby=\"simple-dialog-title\"\n\t\t\topen={open}\n\t\t>\n\t\t\t<BlockPicker\n\t\t\t\twidth={\"100%\"}\n\t\t\t\ttriangle=\"hide\"\n\t\t\t\tcolor={selectedColor}\n\t\t\t\tcolors={colors}\n\t\t\t\tonChange={handleChange}\n\t\t\t\tonChangeComplete={color => onChange(color.hex)}\n\t\t\t/>\n\t\t</Dialog>\n\t);\n};\n\nexport default ColorPicker;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Button, Grid, IconButton, StepContent, TextField } from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AttachFile, DeleteOutline } from \"@material-ui/icons\";\nimport { head } from \"lodash\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    //height: 400,\n    [theme.breakpoints.down(\"sm\")]: {\n      maxHeight: \"20vh\",\n    },\n  },\n  button: {\n    marginRight: theme.spacing(1),\n  },\n  input: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n  addButton: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n}));\n\nexport function QueueOptionStepper({ queueId, options, updateOptions }) {\n  const classes = useStyles();\n  const [activeOption, setActiveOption] = useState(-1);\n  const [attachment, setAttachment] = useState(null);\n  const attachmentFile = useRef(null);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n\n  const handleOption = (index) => async () => {\n    setActiveOption(index);\n    const option = options[index];\n\n    if (option !== undefined && option.id !== undefined) {\n      try {\n        const { data } = await api.request({\n          url: \"/queue-options\",\n          method: \"GET\",\n          params: { queueId, parentId: option.id },\n        });\n        const optionList = data.map((option) => {\n          return {\n            ...option,\n            children: [],\n            edition: false,\n          };\n        });\n        option.children = optionList;\n        updateOptions();\n      } catch (e) {\n        toastError(e);\n      }\n    }\n  };\n\n  const handleSave = async (option) => {\n    try {\n      if (option.id) {\n        await api.request({\n          url: `/queue-options/${option.id}`,\n          method: \"PUT\",\n          data: option,\n        });\n       if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/queue-options/${option.id}/media-upload`, formData);\n        }\t\t\n      } else {\n        const { data } = await api.request({\n          url: `/queue-options`,\n          method: \"POST\",\n          data: option,\n        });\n        option.id = data.id;\n       if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/queue-options/${option.id}/media-upload`, formData);\n        }\n      }\n      option.edition = false;\n      updateOptions();\n      setAttachment(null)\n    } catch (e) {\n      toastError(e);\n    }\n  };\n\n  const handleEdition = (index) => {\n    options[index].edition = !options[index].edition;\n    updateOptions();\n  };\n\n  const handleDeleteOption = async (index) => {\n    const option = options[index];\n    if (option !== undefined && option.id !== undefined) {\n      try {\n        await api.request({\n          url: `/queue-options/${option.id}`,\n          method: \"DELETE\",\n        });\n      } catch (e) {\n        toastError(e);\n      }\n    }\n    options.splice(index, 1);\n    options.forEach(async (option, order) => {\n      option.option = order + 1;\n      await handleSave(option);\n    });\n    updateOptions();\n  };\n\n  const handleOptionChangeTitle = (event, index) => {\n    options[index].title = event.target.value;\n    updateOptions();\n  };\n\n  const handleOptionChangeMessage = (event, index) => {\n    options[index].message = event.target.value;\n    updateOptions();\n  };\n\n  const handleAttachmentFile = (e) => {\n    const file = head(e.target.files);\n    if (file) {\n      setAttachment(file);\n    }\n  };\n\n  const renderTitle = (index) => {\n    const option = options[index];\n    if (option.edition) {\n      return (\n        <>\n          <TextField\n            value={option.title}\n            onChange={(event) => handleOptionChangeTitle(event, index)}\n            size=\"small\"\n            className={classes.input}\n            placeholder=\"Título da opção\"\n          />\n           <div style={{ display: \"none\" }}>\n            <input\n              type=\"file\"\n              ref={attachmentFile}\n              onChange={(e) => handleAttachmentFile(e)}\n            />\n          </div>\n          {option.edition && (\n            <>\n              <IconButton\n                color=\"primary\"\n                variant=\"outlined\"\n                size=\"small\"\n                className={classes.button}\n                onClick={() => handleSave(option)}\n              >\n                <SaveIcon />\n              </IconButton>\n              <IconButton\n                variant=\"outlined\"\n                color=\"secondary\"\n                size=\"small\"\n                className={classes.button}\n                onClick={() => handleDeleteOption(index)}\n              >\n                <DeleteOutlineIcon />\n              </IconButton>\n               {!attachment && !option.mediaPath && (\n                <IconButton\n                  variant=\"outlined\"\n                  color=\"primary\"\n                  size=\"small\"\n                  className={classes.button}\n                    onClick={() => attachmentFile.current.click()}\n                  >\n                  <AttachFile/>\n                </IconButton>\n              )}\n               {(option.mediaPath || attachment) && (\n                    <Grid xs={12} item>\n                      <Button startIcon={<AttachFile />}>\n                        {attachment != null\n                          ? attachment.name\n                          : option.mediaName}\n                      </Button>\n\n                        <IconButton\n                          onClick={() => setConfirmationOpen(true)}\n                          color=\"secondary\"\n                        >\n                          <DeleteOutline />\n                        </IconButton>\n                    </Grid>\n                  )}\n            </>\n          )}\n        </>\n      );\n    }\n    return (\n      <>\n        <Typography>\n          {option.title !== \"\" ? option.title : \"Título não definido\"}\n          <IconButton\n            variant=\"outlined\"\n            size=\"small\"\n            className={classes.button}\n            onClick={() => handleEdition(index)}\n          >\n            <EditIcon />\n          </IconButton>\n        </Typography>\n      </>\n    );\n  };\n\n  const renderMessage = (index) => {\n    const option = options[index];\n    if (option.edition) {\n      return (\n        <>\n          <TextField\n            style={{ width: \"100%\" }}\n            multiline\n            value={option.message}\n            onChange={(event) => handleOptionChangeMessage(event, index)}\n            size=\"small\"\n            className={classes.input}\n            placeholder=\"Digite o texto da opção\"\n          />\n        </>\n      );\n    }\n    return (\n      <>\n        <Typography onClick={() => handleEdition(index)}>\n          {option.message}\n        </Typography>\n      </>\n    );\n  };\n\n  const handleAddOption = (index) => {\n    const optionNumber = options[index].children.length + 1;\n    options[index].children.push({\n      title: \"\",\n      message: \"\",\n      edition: false,\n      option: optionNumber,\n      queueId,\n      parentId: options[index].id,\n      children: [],\n    });\n    updateOptions();\n  };\n\n  const renderStep = (option, index) => {\n    return (\n      <Step key={index}>\n        <StepLabel style={{ cursor: \"pointer\" }} onClick={handleOption(index)}>\n          {renderTitle(index)}\n        </StepLabel>\n        <StepContent>\n          {renderMessage(index)}\n\n          {option.id !== undefined && (\n            <>\n              <Button\n                color=\"primary\"\n                size=\"small\"\n                onClick={() => handleAddOption(index)}\n                startIcon={<AddIcon />}\n                variant=\"outlined\"\n                className={classes.addButton}\n              >\n                Adicionar\n              </Button>\n            </>\n          )}\n          <QueueOptionStepper\n            queueId={queueId}\n            options={option.children}\n            updateOptions={updateOptions}\n          />\n        </StepContent>\n      </Step>\n    );\n  };\n\n  const renderStepper = () => {\n    return (\n      <Stepper\n        style={{ marginBottom: 0, paddingBottom: 0 }}\n        nonLinear\n        activeStep={activeOption}\n        orientation=\"vertical\"\n      >\n        {options.map((option, index) => renderStep(option, index))}\n      </Stepper>\n    );\n  };\n\n  return renderStepper();\n}\n\nexport function QueueOptions({ queueId }) {\n  const classes = useStyles();\n  const [options, setOptions] = useState([]);\n\n  useEffect(() => {\n    if (queueId) {\n      const fetchOptions = async () => {\n        try {\n          const { data } = await api.request({\n            url: \"/queue-options\",\n            method: \"GET\",\n            params: { queueId, parentId: -1 },\n          });\n          const optionList = data.map((option) => {\n            return {\n              ...option,\n              children: [],\n              edition: false,\n            };\n          });\n          setOptions(optionList);\n        } catch (e) {\n          toastError(e);\n        }\n      };\n      fetchOptions();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const renderStepper = () => {\n    if (options.length > 0) {\n      return (\n        <QueueOptionStepper\n          queueId={queueId}\n          updateOptions={updateOptions}\n          options={options}\n        />\n      );\n    }\n  };\n\n  const updateOptions = () => {\n    setOptions([...options]);\n  };\n\n  const addOption = () => {\n    const newOption = {\n      title: \"\",\n      message: \"\",\n      edition: false,\n      option: options.length + 1,\n      queueId,\n      parentId: null,\n      children: [],\n    };\n    setOptions([...options, newOption]);\n  };\n\n  return (\n    <div className={classes.root}>\n      <br />\n      <Typography>\n        Opções\n        <Button\n          color=\"primary\"\n          size=\"small\"\n          onClick={addOption}\n          startIcon={<AddIcon />}\n          style={{ marginLeft: 10 }}\n          variant=\"outlined\"\n        >\n          Adicionar\n        </Button>\n      </Typography>\n      {renderStepper()}\n    </div>\n  );\n}\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\nimport { head } from \"lodash\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport ColorPicker from \"../ColorPicker\";\nimport {\n  FormControl,\n  Grid,\n  IconButton,\n  InputAdornment,\n  InputLabel,\n  MenuItem,\n  Paper,\n  Select,\n  Tab,\n  Tabs,\n} from \"@material-ui/core\";\nimport { AttachFile, Colorize, DeleteOutline } from \"@material-ui/icons\";\nimport { QueueOptions } from \"../QueueOptions\";\nimport SchedulesForm from \"../SchedulesForm\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  colorAdorment: {\n    width: 20,\n    height: 20,\n  },\n}));\n\nconst QueueSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  color: Yup.string().min(3, \"Too Short!\").max(9, \"Too Long!\").required(),\n  greetingMessage: Yup.string(),\n});\n\nconst QueueModal = ({ open, onClose, queueId }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    name: \"\",\n    color: \"\",\n    greetingMessage: \"\",\n    outOfHoursMessage: \"\",\n    orderQueue: \"\",\n    integrationId: \"\",\n    promptId: \"\"\n  };\n\n  const [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\n  const [queue, setQueue] = useState(initialState);\n  const [tab, setTab] = useState(0);\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\n  const greetingRef = useRef();\n  const [integrations, setIntegrations] = useState([]);\n  const [attachment, setAttachment] = useState(null);\n  const attachmentFile = useRef(null);\n  const [queueEditable, setQueueEditable] = useState(true);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n\n  const [schedules, setSchedules] = useState([\n    { weekday: \"Segunda-feira\", weekdayEn: \"monday\", startTime: \"08:00\", endTime: \"18:00\", },\n    { weekday: \"Terça-feira\", weekdayEn: \"tuesday\", startTime: \"08:00\", endTime: \"18:00\", },\n    { weekday: \"Quarta-feira\", weekdayEn: \"wednesday\", startTime: \"08:00\", endTime: \"18:00\", },\n    { weekday: \"Quinta-feira\", weekdayEn: \"thursday\", startTime: \"08:00\", endTime: \"18:00\", },\n    { weekday: \"Sexta-feira\", weekdayEn: \"friday\", startTime: \"08:00\", endTime: \"18:00\", },\n    { weekday: \"Sábado\", weekdayEn: \"saturday\", startTime: \"08:00\", endTime: \"12:00\", },\n    { weekday: \"Domingo\", weekdayEn: \"sunday\", startTime: \"00:00\", endTime: \"00:00\", },\n  ]);\n  const [selectedPrompt, setSelectedPrompt] = useState(null);\n  const [prompts, setPrompts] = useState([]);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/prompt\");\n        setPrompts(data.prompts);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    api.get(`/settings`).then(({ data }) => {\n      if (Array.isArray(data)) {\n        const scheduleType = data.find((d) => d.key === \"scheduleType\");\n        if (scheduleType) {\n          setSchedulesEnabled(scheduleType.value === \"queue\");\n        }\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/queueIntegration\");\n\n        setIntegrations(data.queueIntegrations);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      if (!queueId) return;\n      try {\n        const { data } = await api.get(`/queue/${queueId}`);\n        setQueue((prevState) => {\n          return { ...prevState, ...data };\n        });\n        data.promptId ? setSelectedPrompt(data.promptId) : setSelectedPrompt(null);\n\n        setSchedules(data.schedules);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n\n    return () => {\n      setQueue({\n        name: \"\",\n        color: \"\",\n        greetingMessage: \"\",\n        orderQueue: \"\",\n        integrationId: \"\"\n      });\n    };\n  }, [queueId, open]);\n\n  const handleClose = () => {\n    onClose();\n    setQueue(initialState);\n  };\n\n  const handleAttachmentFile = (e) => {\n    const file = head(e.target.files);\n    if (file) {\n      setAttachment(file);\n    }\n  };\n\n  const deleteMedia = async () => {\n    if (attachment) {\n      setAttachment(null);\n      attachmentFile.current.value = null;\n    }\n\n    if (queue.mediaPath) {\n      await api.delete(`/queue/${queue.id}/media-upload`);\n      setQueue((prev) => ({ ...prev, mediaPath: null, mediaName: null }));\n      toast.success(i18n.t(\"queueModal.toasts.deleted\"));\n    }\n  };\n\n\n  const handleSaveQueue = async (values) => {\n    try {\n      if (queueId) {\n        await api.put(`/queue/${queueId}`, {\n          ...values, schedules, promptId: selectedPrompt ? selectedPrompt : null\n        });\n       if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/queue/${queueId}/media-upload`, formData);\n        }\n      } else {\n        await api.post(\"/queue\", {\n          ...values, schedules, promptId: selectedPrompt ? selectedPrompt : null\n        });\n       if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/queue/${queueId}/media-upload`, formData);\n        }\n      }\n      toast.success(\"Queue saved successfully\");\n      handleClose();\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleSaveSchedules = async (values) => {\n    toast.success(\"Clique em salvar para registar as alterações\");\n    setSchedules(values);\n    setTab(0);\n  };\n\n  const handleChangePrompt = (e) => {\n    setSelectedPrompt(e.target.value);\n  };\n\n  return (\n    <div className={classes.root}>\n     <ConfirmationModal\n        title={i18n.t(\"queueModal.confirmationModal.deleteTitle\")}\n        open={confirmationOpen}\n        onClose={() => setConfirmationOpen(false)}\n        onConfirm={deleteMedia}\n      >\n        {i18n.t(\"queueModal.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <Dialog\n        maxWidth=\"md\"\n        fullWidth={true}\n        open={open}\n        onClose={handleClose}\n        scroll=\"paper\"\n      >\n        <DialogTitle>\n          {queueId\n            ? `${i18n.t(\"queueModal.title.edit\")}`\n            : `${i18n.t(\"queueModal.title.add\")}`}\n            <div style={{ display: \"none\" }}>\n            <input\n              type=\"file\"\n              ref={attachmentFile}\n              onChange={(e) => handleAttachmentFile(e)}\n            />\n          </div>\n        </DialogTitle>\n        <Tabs\n          value={tab}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          onChange={(_, v) => setTab(v)}\n          aria-label=\"disabled tabs example\"\n        >\n          <Tab label=\"Dados da Fila\" />\n          {schedulesEnabled && <Tab label=\"Horários de Atendimento\" />}\n        </Tabs>\n        {tab === 0 && (\n          <Paper>\n            <Formik\n              initialValues={queue}\n              enableReinitialize={true}\n              validationSchema={QueueSchema}\n              onSubmit={(values, actions) => {\n                setTimeout(() => {\n                  handleSaveQueue(values);\n                  actions.setSubmitting(false);\n                }, 400);\n              }}\n            >\n              {({ touched, errors, isSubmitting, values }) => (\n                <Form>\n                  <DialogContent dividers>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"queueModal.form.name\")}\n                      autoFocus\n                      name=\"name\"\n                      error={touched.name && Boolean(errors.name)}\n                      helperText={touched.name && errors.name}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      className={classes.textField}\n                    />\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"queueModal.form.color\")}\n                      name=\"color\"\n                      id=\"color\"\n                      onFocus={() => {\n                        setColorPickerModalOpen(true);\n                        greetingRef.current.focus();\n                      }}\n                      error={touched.color && Boolean(errors.color)}\n                      helperText={touched.color && errors.color}\n                      InputProps={{\n                        startAdornment: (\n                          <InputAdornment position=\"start\">\n                            <div\n                              style={{ backgroundColor: values.color }}\n                              className={classes.colorAdorment}\n                            ></div>\n                          </InputAdornment>\n                        ),\n                        endAdornment: (\n                          <IconButton\n                            size=\"small\"\n                            color=\"default\"\n                            onClick={() => setColorPickerModalOpen(true)}\n                          >\n                            <Colorize />\n                          </IconButton>\n                        ),\n                      }}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      className={classes.textField}\n                    />\n                    <ColorPicker\n                      open={colorPickerModalOpen}\n                      handleClose={() => setColorPickerModalOpen(false)}\n                      onChange={(color) => {\n                        values.color = color;\n                        setQueue(() => {\n                          return { ...values, color };\n                        });\n                      }}\n                    />\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"queueModal.form.orderQueue\")}\n                      name=\"orderQueue\"\n                      type=\"orderQueue\"\n                      error={touched.orderQueue && Boolean(errors.orderQueue)}\n                      helperText={touched.orderQueue && errors.orderQueue}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      className={classes.textField1}\n                    />\n                    <div>\n                      <FormControl\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        className={classes.FormControl}\n                        fullWidth\n                      >\n                        <InputLabel id=\"integrationId-selection-label\">\n                          {i18n.t(\"queueModal.form.integrationId\")}\n                        </InputLabel>\n                        <Field\n                          as={Select}\n                          label={i18n.t(\"queueModal.form.integrationId\")}\n                          name=\"integrationId\"\n                          id=\"integrationId\"\n                          placeholder={i18n.t(\"queueModal.form.integrationId\")}\n                          labelId=\"integrationId-selection-label\"\n                          value={values.integrationId || \"\"}\n                        >\n                          <MenuItem value={\"\"} >{\"Nenhum\"}</MenuItem>\n                          {integrations.map((integration) => (\n                            <MenuItem key={integration.id} value={integration.id}>\n                              {integration.name}\n                            </MenuItem>\n                          ))}\n                        </Field>\n\n                      </FormControl>\n                      <FormControl\n                        margin=\"dense\"\n                        variant=\"outlined\"\n                        fullWidth\n                      >\n                        <InputLabel>\n                          {i18n.t(\"whatsappModal.form.prompt\")}\n                        </InputLabel>\n                        <Select\n                          labelId=\"dialog-select-prompt-label\"\n                          id=\"dialog-select-prompt\"\n                          name=\"promptId\"\n                          value={selectedPrompt || \"\"}\n                          onChange={handleChangePrompt}\n                          label={i18n.t(\"whatsappModal.form.prompt\")}\n                          fullWidth\n                          MenuProps={{\n                            anchorOrigin: {\n                              vertical: \"bottom\",\n                              horizontal: \"left\",\n                            },\n                            transformOrigin: {\n                              vertical: \"top\",\n                              horizontal: \"left\",\n                            },\n                            getContentAnchorEl: null,\n                          }}\n                        >\n                          {prompts.map((prompt) => (\n                            <MenuItem\n                              key={prompt.id}\n                              value={prompt.id}\n                            >\n                              {prompt.name}\n                            </MenuItem>\n                          ))}\n                        </Select>\n                      </FormControl>\n                    </div>\n                    <div style={{ marginTop: 5 }}>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"queueModal.form.greetingMessage\")}\n                        type=\"greetingMessage\"\n                        multiline\n                        inputRef={greetingRef}\n                        rows={5}\n                        fullWidth\n                        name=\"greetingMessage\"\n                        error={\n                          touched.greetingMessage &&\n                          Boolean(errors.greetingMessage)\n                        }\n                        helperText={\n                          touched.greetingMessage && errors.greetingMessage\n                        }\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                      />\n                      {schedulesEnabled && (\n                        <Field\n                          as={TextField}\n                          label={i18n.t(\"queueModal.form.outOfHoursMessage\")}\n                          type=\"outOfHoursMessage\"\n                          multiline\n                          rows={5}\n                          fullWidth\n                          name=\"outOfHoursMessage\"\n                          error={\n                            touched.outOfHoursMessage &&\n                            Boolean(errors.outOfHoursMessage)\n                          }\n                          helperText={\n                            touched.outOfHoursMessage && errors.outOfHoursMessage\n                          }\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                        />\n                      )}\n                    </div>\n                    <QueueOptions queueId={queueId} />\n                     {(queue.mediaPath || attachment) && (\n                    <Grid xs={12} item>\n                      <Button startIcon={<AttachFile />}>\n                        {attachment != null\n                          ? attachment.name\n                          : queue.mediaName}\n                      </Button>\n                      {queueEditable && (\n                        <IconButton\n                          onClick={() => setConfirmationOpen(true)}\n                          color=\"secondary\"\n                        >\n                          <DeleteOutline />\n                        </IconButton>\n                      )}\n                    </Grid>\n                  )}\n                  </DialogContent>\n                  <DialogActions>\n                  {!attachment && !queue.mediaPath && queueEditable && (\n                      <Button\n                        color=\"primary\"\n                        onClick={() => attachmentFile.current.click()}\n                        disabled={isSubmitting}\n                        variant=\"outlined\"\n                      >\n                        {i18n.t(\"queueModal.buttons.attach\")}\n                      </Button>\n                    )}\n                    <Button\n                      onClick={handleClose}\n                      color=\"secondary\"\n                      disabled={isSubmitting}\n                      variant=\"outlined\"\n                    >\n                      {i18n.t(\"queueModal.buttons.cancel\")}\n                    </Button>\n                    <Button\n                      type=\"submit\"\n                      color=\"primary\"\n                      disabled={isSubmitting}\n                      variant=\"contained\"\n                      className={classes.btnWrapper}\n                    >\n                      {queueId\n                        ? `${i18n.t(\"queueModal.buttons.okEdit\")}`\n                        : `${i18n.t(\"queueModal.buttons.okAdd\")}`}\n                      {isSubmitting && (\n                        <CircularProgress\n                          size={24}\n                          className={classes.buttonProgress}\n                        />\n                      )}\n                    </Button>\n                  </DialogActions>\n                </Form>\n              )}\n            </Formik>\n          </Paper>\n        )}\n        {tab === 1 && (\n          <Paper style={{ padding: 20 }}>\n            <SchedulesForm\n              loading={false}\n              onSubmit={handleSaveSchedules}\n              initialValues={schedules}\n              labelSaveButton=\"Adicionar\"\n            />\n          </Paper>\n        )}\n      </Dialog>\n    </div>\n  );\n};\n\nexport default QueueModal;\n","import React, { useEffect, useReducer, useState } from \"react\";\n\nimport {\n  Button,\n  IconButton,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Typography,\n} from \"@material-ui/core\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\nimport QueueModal from \"../../components/QueueModal\";\nimport { toast } from \"react-toastify\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUEUES\") {\n    const queues = action.payload;\n    const newQueues = [];\n\n    queues.forEach((queue) => {\n      const queueIndex = state.findIndex((q) => q.id === queue.id);\n      if (queueIndex !== -1) {\n        state[queueIndex] = queue;\n      } else {\n        newQueues.push(queue);\n      }\n    });\n\n    return [...state, ...newQueues];\n  }\n\n  if (action.type === \"UPDATE_QUEUES\") {\n    const queue = action.payload;\n    const queueIndex = state.findIndex((u) => u.id === queue.id);\n\n    if (queueIndex !== -1) {\n      state[queueIndex] = queue;\n      return [...state];\n    } else {\n      return [queue, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_QUEUE\") {\n    const queueId = action.payload;\n    const queueIndex = state.findIndex((q) => q.id === queueId);\n    if (queueIndex !== -1) {\n      state.splice(queueIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst Queues = () => {\n  const classes = useStyles();\n\n  const [queues, dispatch] = useReducer(reducer, []);\n  const [loading, setLoading] = useState(false);\n\n  const [queueModalOpen, setQueueModalOpen] = useState(false);\n  const [selectedQueue, setSelectedQueue] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      try {\n        const { data } = await api.get(\"/queue\");\n        dispatch({ type: \"LOAD_QUEUES\", payload: data });\n\n        setLoading(false);\n      } catch (err) {\n        toastError(err);\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-queue`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_QUEUES\", payload: data.queue });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_QUEUE\", payload: data.queueId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenQueueModal = () => {\n    setQueueModalOpen(true);\n    setSelectedQueue(null);\n  };\n\n  const handleCloseQueueModal = () => {\n    setQueueModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleEditQueue = (queue) => {\n    setSelectedQueue(queue);\n    setQueueModalOpen(true);\n  };\n\n  const handleCloseConfirmationModal = () => {\n    setConfirmModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleDeleteQueue = async (queueId) => {\n    try {\n      await api.delete(`/queue/${queueId}`);\n      toast.success(i18n.t(\"Queue deleted successfully!\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setSelectedQueue(null);\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          selectedQueue &&\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${\n            selectedQueue.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={handleCloseConfirmationModal}\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\n      >\n        {i18n.t(\"queues.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <QueueModal\n        open={queueModalOpen}\n        onClose={handleCloseQueueModal}\n        queueId={selectedQueue?.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"queues.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenQueueModal}\n          >\n            {i18n.t(\"queues.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.name\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.color\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.orderQueue\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.greeting\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {queues.map((queue) => (\n                <TableRow key={queue.id}>\n                  <TableCell align=\"center\">{queue.name}</TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <span\n                        style={{\n                          backgroundColor: queue.color,\n                          width: 60,\n                          height: 20,\n                          alignSelf: \"center\",\n                        }}\n                      />\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <Typography\n                        style={{ width: 300, align: \"center\" }}\n                        noWrap\n                        variant=\"body2\"\n                      >\n                        {queue.orderQueue}\n                      </Typography>\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <Typography\n                        style={{ width: 300, align: \"center\" }}\n                        noWrap\n                        variant=\"body2\"\n                      >\n                        {queue.greetingMessage}\n                      </Typography>\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditQueue(queue)}\n                    >\n                      <Edit />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => {\n                        setSelectedQueue(queue);\n                        setConfirmModalOpen(true);\n                      }}\n                    >\n                      <DeleteOutline />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Queues;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { Colorize } from \"@material-ui/icons\";\nimport { ColorBox } from 'material-ui-color';\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { IconButton, InputAdornment } from \"@material-ui/core\";\nimport { FormControlLabel, Switch } from '@material-ui/core';\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Checkbox from '@material-ui/core/Checkbox';\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n\tcolorAdorment: {\n\t\twidth: 20,\n\t\theight: 20,\n\t},\n}));\n\nconst TagSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(3, \"Mensagem muito curta\")\n\t\t.required(\"Obrigatório\")\n});\n\nconst TagModal = ({ open, onClose, tagId, reload }) => {\n\tconst classes = useStyles();\n\tconst { user } = useContext(AuthContext);\n\tconst [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tcolor: \"\",\n\t\tkanban: 0\n\t};\n\n\tconst [tag, setTag] = useState(initialState);\n\tconst [ kanban, setKanban] = useState(0);\n\n\tuseEffect(() => {\n\t\ttry {\n\t\t\t(async () => {\n\t\t\t\tif (!tagId) return;\n\n\t\t\t\tconst { data } = await api.get(`/tags/${tagId}`);\n\t\t\t\tsetKanban(data.kanban);\n\t\t\t\tsetTag(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t})()\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t}, [tagId, open]);\n\n\tconst handleClose = () => {\n\t\tsetTag(initialState);\n\t\tsetColorPickerModalOpen(false);\n\t\tonClose();\n\t};\n\n\tconst handleKanbanChange = (e) => {\n\t\tsetKanban( e.target.checked ? 1 : 0);\n\t};\n\n\tconst handleSaveTag = async values => {\n\t\tconst tagData = { ...values, userId: user.id, kanban };\n\t\ttry {\n\t\t\tif (tagId) {\n\t\t\t\tawait api.put(`/tags/${tagId}`, tagData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/tags\", tagData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"tagModal.success\"));\n\t\t\tif (typeof reload == 'function') {\n\t\t\t\treload();\n\t\t\t}\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{(tagId ? `${i18n.t(\"tagModal.title.edit\")}` : `${i18n.t(\"tagModal.title.add\")}`)}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={tag}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={TagSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveTag(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting, values }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setTag(prev => ({ ...prev, name: e.target.value }))}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.color\")}\n\t\t\t\t\t\t\t\t\t\tname=\"color\"\n\t\t\t\t\t\t\t\t\t\tid=\"color\"\n\t\t\t\t\t\t\t\t\t\terror={touched.color && Boolean(errors.color)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.color && errors.color}\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\tstartAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: values.color }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.colorAdorment}\n\t\t\t\t\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setColorPickerModalOpen(!colorPickerModalOpen)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Colorize />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{(user.profile === \"admin\" || user.profile === \"supervisor\") && (\n                                <>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n        \t\t\t\t\t\t\t<FormControlLabel\n          \t\t\t\t\t\t\t\tcontrol={\n            \t\t\t\t\t\t\t\t<Checkbox\n             \t\t\t\t\t\t\t\t\tchecked={kanban === 1}\n             \t\t\t\t\t\t\t\t\tonChange={handleKanbanChange}\n              \t\t\t\t\t\t\t\t\tvalue={kanban}\n              \t\t\t\t\t\t\t\t\tcolor=\"primary\"\n            \t\t\t\t\t\t\t\t/>\n          \t\t\t\t\t\t\t\t}\n          \t\t\t\t\t\t\t\tlabel=\"Kanban\"\n          \t\t\t\t\t\t\t\tlabelPlacement=\"start\"\n        \t\t\t\t\t\t\t/>\n      \t\t\t\t\t\t\t</div>\n      \t\t\t\t\t\t\t<br />\n                                </>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{colorPickerModalOpen && (\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<ColorBox\n\t\t\t\t\t\t\t\t\t\t\tdisableAlpha={true}\n\t\t\t\t\t\t\t\t\t\t\thslGradient={false}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ margin: '20px auto 0' }}\n\t\t\t\t\t\t\t\t\t\t\tvalue={tag.color}\n\t\t\t\t\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetTag(prev => ({ ...prev, color: `#${val.hex}` }));\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"tagModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{tagId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"tagModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"tagModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default TagModal;\n","import React, {\n  useState,\n  useEffect,\n  useReducer,\n  useCallback,\n  useContext,\n} from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport TagModal from \"../../components/TagModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Chip } from \"@material-ui/core\";\nimport { socketConnection } from \"../../services/socket\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_TAGS\") {\n    const tags = action.payload;\n    const newTags = [];\n\n    tags.forEach((tag) => {\n      const tagIndex = state.findIndex((s) => s.id === tag.id);\n      if (tagIndex !== -1) {\n        state[tagIndex] = tag;\n      } else {\n        newTags.push(tag);\n      }\n    });\n\n    return [...state, ...newTags];\n  }\n\n  if (action.type === \"UPDATE_TAGS\") {\n    const tag = action.payload;\n    const tagIndex = state.findIndex((s) => s.id === tag.id);\n\n    if (tagIndex !== -1) {\n      state[tagIndex] = tag;\n      return [...state];\n    } else {\n      return [tag, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_TAG\") {\n    const tagId = action.payload;\n\n    const tagIndex = state.findIndex((s) => s.id === tagId);\n    if (tagIndex !== -1) {\n      state.splice(tagIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Tags = () => {\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedTag, setSelectedTag] = useState(null);\n  const [deletingTag, setDeletingTag] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tags, dispatch] = useReducer(reducer, []);\n  const [tagModalOpen, setTagModalOpen] = useState(false);\n\n  const fetchTags = useCallback(async () => {\n    try {\n      const { data } = await api.get(\"/tags/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_TAGS\", payload: data.tags });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchTags();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber, fetchTags]);\n\n  useEffect(() => {\n    const socket = socketConnection({ companyId: user.companyId });\n\n    socket.on(\"user\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_TAGS\", payload: data.tags });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.tagId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [user]);\n\n  const handleOpenTagModal = () => {\n    setSelectedTag(null);\n    setTagModalOpen(true);\n  };\n\n  const handleCloseTagModal = () => {\n    setSelectedTag(null);\n    setTagModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditTag = (tag) => {\n    setSelectedTag(tag);\n    setTagModalOpen(true);\n  };\n\n  const handleDeleteTag = async (tagId) => {\n    try {\n      await api.delete(`/tags/${tagId}`);\n      toast.success(i18n.t(\"tags.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingTag(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n    await fetchTags();\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={deletingTag && `${i18n.t(\"tags.confirmationModal.deleteTitle\")}`}\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteTag(deletingTag.id)}\n      >\n        {i18n.t(\"tags.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <TagModal\n        open={tagModalOpen}\n        onClose={handleCloseTagModal}\n        reload={fetchTags}\n        aria-labelledby=\"form-dialog-title\"\n        tagId={selectedTag && selectedTag.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"tags.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenTagModal}\n          >\n            {i18n.t(\"tags.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"tags.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"tags.table.tickets\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"tags.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {tags.map((tag) => (\n                <TableRow key={tag.id}>\n                  <TableCell align=\"center\">\n                    <Chip\n                      variant=\"outlined\"\n                      style={{\n                        backgroundColor: tag.color,\n                        textShadow: \"1px 1px 1px #000\",\n                        color: \"white\",\n                      }}\n                      label={tag.name}\n                      size=\"small\"\n                    />\n                  </TableCell>\n                  <TableCell align=\"center\">{tag.ticketsCount}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton size=\"small\" onClick={() => handleEditTag(tag)}>\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingTag(tag);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Tags;\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { Button, CircularProgress, Grid, TextField, Typography } from \"@material-ui/core\";\nimport { Field, Form, Formik } from \"formik\";\nimport toastError from \"../../errors/toastError\";\nimport { toast } from \"react-toastify\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(2),\n    paddingBottom: 100\n  },\n  mainHeader: {\n    marginTop: theme.spacing(1),\n  },\n  elementMargin: {\n    marginTop: theme.spacing(2),\n  },\n  formContainer: {\n    maxWidth: 500,\n  },\n  textRight: {\n    textAlign: \"right\"\n  }\n}));\n\nconst MessagesAPI = () => {\n  const classes = useStyles();\n\n  const [formMessageTextData,] = useState({ token: '',number: '', body: '' })\n  const [formMessageMediaData,] = useState({ token: '', number: '', medias: '' })\n  const [file, setFile] = useState({})\n\n  const getEndpoint = () => {\n    return process.env.REACT_APP_BACKEND_URL + '/api/messages/send'\n  }\n\n  const handleSendTextMessage = async (values) => {\n    const { number, body } = values;\n    const data = { number, body };\n    var options = {\n      method: 'POST',\n      url: `${process.env.REACT_APP_BACKEND_URL}/api/messages/send`,\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${values.token}`\n      },\n      data\n    };\n    \n    axios.request(options).then(function (response) {\n      toast.success('Mensagem enviada com sucesso');\n    }).catch(function (error) {\n      toastError(error);\n    });    \n  }\n\n  const handleSendMediaMessage = async (values) => { \n    try {\n      const firstFile =  file[0];\n      const data = new FormData();\n      data.append('number', values.number);\n      data.append('body', firstFile.name);\n      data.append('medias', firstFile);\n      var options = {\n        method: 'POST',\n        url: `${process.env.REACT_APP_BACKEND_URL}/api/messages/send`,\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          Authorization: `Bearer ${values.token}`\n        },\n        data\n      };\n      \n      axios.request(options).then(function (response) {\n        toast.success('Mensagem enviada com sucesso');\n      }).catch(function (error) {\n        toastError(error);\n      });      \n    } catch (err) {\n      toastError(err);\n    }\n  }\n\n  const renderFormMessageText = () => {\n    return (\n      <Formik\n        initialValues={formMessageTextData}\n        enableReinitialize={true}\n        onSubmit={(values, actions) => {\n          setTimeout(async () => {\n            await handleSendTextMessage(values);\n            actions.setSubmitting(false);\n            actions.resetForm()\n          }, 400);\n        }}\n        className={classes.elementMargin}\n      >\n        {({ isSubmitting }) => (\n          <Form className={classes.formContainer}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.token\")}\n                  name=\"token\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.number\")}\n                  name=\"number\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.body\")}\n                  name=\"body\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12} className={classes.textRight}>\n                <Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{isSubmitting ? (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : 'Enviar'}\n\t\t\t\t\t\t\t\t</Button>\n              </Grid>\n            </Grid>\n          </Form>\n        )}\n      </Formik>\n    )\n  }\n\n  const renderFormMessageMedia = () => {\n    return (\n      <Formik\n        initialValues={formMessageMediaData}\n        enableReinitialize={true}\n        onSubmit={(values, actions) => {\n          setTimeout(async () => {\n           \n            await handleSendMediaMessage(values);\n            actions.setSubmitting(false);\n            actions.resetForm()\n            document.getElementById('medias').files = null\n            document.getElementById('medias').value = null\n          }, 400);\n        }}\n        className={classes.elementMargin}\n      >\n        {({ isSubmitting }) => (\n          <Form className={classes.formContainer}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.mediaMessage.token\")}\n                  name=\"token\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.mediaMessage.number\")}\n                  name=\"number\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <input type=\"file\" name=\"medias\" id=\"medias\" required onChange={(e) => setFile(e.target.files)} />\n              </Grid>\n              <Grid item xs={12} className={classes.textRight}>\n                <Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{isSubmitting ? (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : 'Enviar'}\n\t\t\t\t\t\t\t\t</Button>\n              </Grid>\n            </Grid>\n          </Form>\n        )}\n      </Formik>\n    )\n  }\n\n  return (\n    <Paper\n      className={classes.mainPaper}\n      variant=\"outlined\"\n    >\n      <Typography variant=\"h5\">\n        Documentação para envio de mensagens\n      </Typography>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n        Métodos de Envio\n      </Typography>\n      <Typography component=\"div\">\n        <ol>\n          <li>Mensagens de Texto</li>\n          <li>Mensagens de Media</li>\n        </ol>\n      </Typography>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n        Instruções\n      </Typography>\n      <Typography className={classes.elementMargin} component=\"div\">\n        <b>Observações importantes</b><br />\n        <ul>\n          <li>Antes de enviar mensagens, é necessário o cadastro do token vinculado à conexão que enviará as mensagens. <br/>Para realizar o cadastro acesse o menu \"Conexões\", clique no botão editar da conexão e insira o token no devido campo.</li>\n          <li>\n            O número para envio não deve ter mascara ou caracteres especiais e deve ser composto por:\n              <ul>\n                <li>Código do país</li>\n                <li>DDD</li>\n                <li>Número</li>\n              </ul>\n          </li>\n        </ul>\n      </Typography>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n        1. Mensagens de Texto\n      </Typography>\n      <Grid container>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin} component=\"div\">\n            <p>Seguem abaixo a lista de informações necessárias para envio das mensagens de texto:</p>\n            <b>Endpoint: </b> {getEndpoint()} <br />\n            <b>Método: </b> POST <br />\n            <b>Headers: </b> X_TOKEN (token cadastrado) e Content-Type (application/json) <br />\n            <b>Body: </b> {\"{ \\\"number\\\": \\\"558599999999\\\", \\\"body\\\": \\\"Sua mensagem\\\" }\"}\n          </Typography>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin}>\n            <b>Teste de Envio</b>\n          </Typography>\n          {renderFormMessageText()}\n        </Grid>\n      </Grid>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n        2. Mensagens de Media\n      </Typography>\n      <Grid container>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin} component=\"div\">\n            <p>Seguem abaixo a lista de informações necessárias para envio das mensagens de texto:</p>\n            <b>Endpoint: </b> {getEndpoint()} <br />\n            <b>Método: </b> POST <br />\n            <b>Headers: </b> X_TOKEN (token cadastrado) e Content-Type (multipart/form-data) <br />\n            <b>FormData: </b> <br />\n            <ul>\n              <li>\n                <b>number: </b> 558599999999\n              </li>\n              <li>\n                <b>medias: </b> arquivo\n              </li>\n            </ul>\n          </Typography>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin}>\n            <b>Teste de Envio</b>\n          </Typography>\n          {renderFormMessageMedia()}\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default MessagesAPI;","import React, { useState, useEffect, useCallback } from \"react\";\nimport { makeStyles, Paper, Typography, Modal, IconButton } from \"@material-ui/core\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport useHelps from \"../../hooks/useHelps\";\n\nconst useStyles = makeStyles(theme => ({\n  mainPaperContainer: {\n    overflowY: 'auto',\n    maxHeight: 'calc(100vh - 200px)',\n  },\n  mainPaper: {\n    width: '100%',\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fit, minmax(320px, 1fr))',\n    gap: theme.spacing(3),\n    padding: theme.spacing(2),\n    marginBottom: theme.spacing(3),\n  },\n  helpPaper: {\n    position: 'relative',\n    width: '100%',\n    minHeight: '340px',\n    padding: theme.spacing(2),\n    boxShadow: theme.shadows[3],\n    borderRadius: theme.spacing(1),\n    cursor: 'pointer',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    maxWidth: '340px',\n  },\n  paperHover: {\n    transition: 'transform 0.3s, box-shadow 0.3s',\n    '&:hover': {\n      transform: 'scale(1.03)',\n      boxShadow: `0 0 8px`,\n      color: theme.palette.primary.main,\n    },\n  },\n  videoThumbnail: {\n    width: '100%',\n    height: 'calc(100% - 56px)',\n    objectFit: 'cover',\n    borderRadius: `${theme.spacing(1)}px ${theme.spacing(1)}px 0 0`,\n  },\n  videoTitle: {\n    marginTop: theme.spacing(1),\n    flex: 1,\n  },\n  videoDescription: {\n    maxHeight: '100px',\n    overflow: 'hidden',\n  },\n  videoModal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  videoModalContent: {\n    outline: 'none',\n    width: '90%',\n    maxWidth: 1024,\n    aspectRatio: '16/9',\n    position: 'relative',\n    backgroundColor: 'white',\n    borderRadius: theme.spacing(1),\n    overflow: 'hidden',\n  },\n}));\n\nconst Helps = () => {\n  const classes = useStyles();\n  const [records, setRecords] = useState([]);\n  const { list } = useHelps();\n  const [selectedVideo, setSelectedVideo] = useState(null);\n\n  useEffect(() => {\n    async function fetchData() {\n      const helps = await list();\n      setRecords(helps);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const openVideoModal = (video) => {\n    setSelectedVideo(video);\n  };\n\n  const closeVideoModal = () => {\n    setSelectedVideo(null);\n  };\n\n  const handleModalClose = useCallback((event) => {\n    if (event.key === \"Escape\") {\n      closeVideoModal();\n    }\n  }, []);\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleModalClose);\n    return () => {\n      document.removeEventListener(\"keydown\", handleModalClose);\n    };\n  }, [handleModalClose]);\n\n  const renderVideoModal = () => {\n    return (\n      <Modal\n        open={Boolean(selectedVideo)}\n        onClose={closeVideoModal}\n        className={classes.videoModal}\n      >\n        <div className={classes.videoModalContent}>\n          {selectedVideo && (\n            <iframe\n              style={{ width: \"100%\", height: \"100%\", position: \"absolute\", top: 0, left: 0 }}\n              src={`https://www.youtube.com/embed/${selectedVideo}`}\n              title=\"YouTube video player\"\n              frameBorder=\"0\"\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n              allowFullScreen\n            />\n          )}\n        </div>\n      </Modal>\n    );\n  };\n\n  const renderHelps = () => {\n    return (\n      <>\n        <div className={`${classes.mainPaper} ${classes.mainPaperContainer}`}>\n          {records.length ? records.map((record, key) => (\n            <Paper key={key} className={`${classes.helpPaper} ${classes.paperHover}`} onClick={() => openVideoModal(record.video)}>\n              <img\n                src={`https://img.youtube.com/vi/${record.video}/mqdefault.jpg`}\n                alt=\"Thumbnail\"\n                className={classes.videoThumbnail}\n              />\n              <Typography variant=\"button\" className={classes.videoTitle}>\n                {record.title}\n              </Typography>\n              <Typography variant=\"caption\" className={classes.videoDescription}>\n                {record.description}\n              </Typography>\n            </Paper>\n          )) : null}\n        </div>\n      </>\n    );\n  };\n\n  return (\n    <MainContainer>\n      <MainHeader>\n        <Title>{i18n.t(\"helps.title\")} ({records.length})</Title>\n        <MainHeaderButtonsWrapper></MainHeaderButtonsWrapper>\n      </MainHeader>\n      <div className={classes.mainPaper}>\n        {renderHelps()}\n      </div>\n      {renderVideoModal()}\n    </MainContainer>\n  );\n};\n\nexport default Helps;","import React, { useState, useEffect } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n}));\n\nconst ContactListSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst ContactListModal = ({ open, onClose, contactListId }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    name: \"\",\n  };\n\n  const [contactList, setContactList] = useState(initialState);\n\n  useEffect(() => {\n    const fetchContactList = async () => {\n      if (!contactListId) return;\n      try {\n        const { data } = await api.get(`/contact-lists/${contactListId}`);\n        setContactList((prevState) => {\n          return { ...prevState, ...data };\n        });\n      } catch (err) {\n        toastError(err);\n      }\n    };\n\n    fetchContactList();\n  }, [contactListId, open]);\n\n  const handleClose = () => {\n    onClose();\n    setContactList(initialState);\n  };\n\n  const handleSaveContactList = async (values) => {\n    const contactListData = { ...values };\n    try {\n      if (contactListId) {\n        await api.put(`/contact-lists/${contactListId}`, contactListData);\n      } else {\n        await api.post(\"/contact-lists\", contactListData);\n      }\n      toast.success(i18n.t(\"contactList.dialog\"));\n    } catch (err) {\n      toastError(err);\n    }\n    handleClose();\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"xs\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {contactListId\n            ? `${i18n.t(\"contactLists.dialog.edit\")}`\n            : `${i18n.t(\"contactLists.dialog.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={contactList}\n          enableReinitialize={true}\n          validationSchema={ContactListSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveContactList(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.multFieldLine}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"contactLists.dialog.name\")}\n                    autoFocus\n                    name=\"name\"\n                    error={touched.name && Boolean(errors.name)}\n                    helperText={touched.name && errors.name}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"contactLists.dialog.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {contactListId\n                    ? `${i18n.t(\"contactLists.dialog.okEdit\")}`\n                    : `${i18n.t(\"contactLists.dialog.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ContactListModal;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport PeopleIcon from \"@material-ui/icons/People\";\nimport DownloadIcon from \"@material-ui/icons/GetApp\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactListDialog from \"../../components/ContactListDialog\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\n\nimport planilhaExemplo from \"../../assets/planilha.xlsx\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTLISTS\") {\n    const contactLists = action.payload;\n    const newContactLists = [];\n\n    contactLists.forEach((contactList) => {\n      const contactListIndex = state.findIndex((u) => u.id === contactList.id);\n      if (contactListIndex !== -1) {\n        state[contactListIndex] = contactList;\n      } else {\n        newContactLists.push(contactList);\n      }\n    });\n\n    return [...state, ...newContactLists];\n  }\n\n  if (action.type === \"UPDATE_CONTACTLIST\") {\n    const contactList = action.payload;\n    const contactListIndex = state.findIndex((u) => u.id === contactList.id);\n\n    if (contactListIndex !== -1) {\n      state[contactListIndex] = contactList;\n      return [...state];\n    } else {\n      return [contactList, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACTLIST\") {\n    const contactListId = action.payload;\n\n    const contactListIndex = state.findIndex((u) => u.id === contactListId);\n    if (contactListIndex !== -1) {\n      state.splice(contactListIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst ContactLists = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedContactList, setSelectedContactList] = useState(null);\n  const [deletingContactList, setDeletingContactList] = useState(null);\n  const [contactListModalOpen, setContactListModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contactLists, dispatch] = useReducer(reducer, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContactLists = async () => {\n        try {\n          const { data } = await api.get(\"/contact-lists/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_CONTACTLISTS\", payload: data.records });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContactLists();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-ContactList`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTLIST\", payload: data.record });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACTLIST\", payload: +data.id });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenContactListModal = () => {\n    setSelectedContactList(null);\n    setContactListModalOpen(true);\n  };\n\n  const handleCloseContactListModal = () => {\n    setSelectedContactList(null);\n    setContactListModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditContactList = (contactList) => {\n    setSelectedContactList(contactList);\n    setContactListModalOpen(true);\n  };\n\n  const handleDeleteContactList = async (contactListId) => {\n    try {\n      await api.delete(`/contact-lists/${contactListId}`);\n      toast.success(i18n.t(\"contactLists.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingContactList(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const goToContacts = (id) => {\n    history.push(`/contact-lists/${id}/contacts`);\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingContactList &&\n          `${i18n.t(\"contactLists.confirmationModal.deleteTitle\")} ${\n            deletingContactList.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteContactList(deletingContactList.id)}\n      >\n        {i18n.t(\"contactLists.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <ContactListDialog\n        open={contactListModalOpen}\n        onClose={handleCloseContactListModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactListId={selectedContactList && selectedContactList.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"contactLists.title\")}</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={7} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={5} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleOpenContactListModal}\n                >\n                  {i18n.t(\"contactLists.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactLists.table.name\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactLists.table.contacts\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactLists.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {contactLists.map((contactList) => (\n                <TableRow key={contactList.id}>\n                  <TableCell align=\"center\">{contactList.name}</TableCell>\n                  <TableCell align=\"center\">\n                    {contactList.contactsCount || 0}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <a href={planilhaExemplo} download=\"planilha.xlsx\">\n                      <IconButton size=\"small\" title=\"Baixar Planilha Exemplo\">\n                        <DownloadIcon />\n                      </IconButton>\n                    </a>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => goToContacts(contactList.id)}\n                    >\n                      <PeopleIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditContactList(contactList)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingContactList(contactList);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default ContactLists;\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { useParams } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\nconst ContactSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  number: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n  email: Yup.string().email(\"Invalid email\"),\n});\n\nconst ContactListItemModal = ({\n  open,\n  onClose,\n  contactId,\n  initialValues,\n  onSave,\n}) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  const {\n    user: { companyId },\n  } = useContext(AuthContext);\n  const { contactListId } = useParams();\n\n  const initialState = {\n    name: \"\",\n    number: \"\",\n    email: \"\",\n  };\n\n  const [contact, setContact] = useState(initialState);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    const fetchContact = async () => {\n      if (initialValues) {\n        setContact((prevState) => {\n          return { ...prevState, ...initialValues };\n        });\n      }\n\n      if (!contactId) return;\n\n      try {\n        const { data } = await api.get(`/contact-list-items/${contactId}`);\n        if (isMounted.current) {\n          setContact(data);\n        }\n      } catch (err) {\n        toastError(err);\n      }\n    };\n\n    fetchContact();\n  }, [contactId, open, initialValues]);\n\n  const handleClose = () => {\n    onClose();\n    setContact(initialState);\n  };\n\n  const handleSaveContact = async (values) => {\n    try {\n      if (contactId) {\n        await api.put(`/contact-list-items/${contactId}`, {\n          ...values,\n          companyId,\n          contactListId,\n        });\n        handleClose();\n      } else {\n        const { data } = await api.post(\"/contact-list-items\", {\n          ...values,\n          companyId,\n          contactListId,\n        });\n        if (onSave) {\n          onSave(data);\n        }\n        handleClose();\n      }\n      toast.success(i18n.t(\"contactModal.success\"));\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n        <DialogTitle id=\"form-dialog-title\">\n          {contactId\n            ? `${i18n.t(\"contactModal.title.edit\")}`\n            : `${i18n.t(\"contactModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={contact}\n          enableReinitialize={true}\n          validationSchema={ContactSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveContact(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, errors, touched, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <Typography variant=\"subtitle1\" gutterBottom>\n                  {i18n.t(\"contactModal.form.mainInfo\")}\n                </Typography>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"contactModal.form.name\")}\n                  name=\"name\"\n                  autoFocus\n                  error={touched.name && Boolean(errors.name)}\n                  helperText={touched.name && errors.name}\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  className={classes.textField}\n                />\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"contactModal.form.number\")}\n                  name=\"number\"\n                  error={touched.number && Boolean(errors.number)}\n                  helperText={touched.number && errors.number}\n                  placeholder=\"5513912344321\"\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                />\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"contactModal.form.email\")}\n                    name=\"email\"\n                    error={touched.email && Boolean(errors.email)}\n                    helperText={touched.email && errors.email}\n                    placeholder=\"Email address\"\n                    fullWidth\n                    margin=\"dense\"\n                    variant=\"outlined\"\n                  />\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"contactModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {contactId\n                    ? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ContactListItemModal;\n","import api from \"../../services/api\";\n\nconst useContactLists = () => {\n  const save = async (data) => {\n    const { data: responseData } = await api.request({\n      url: \"/contact-lists\",\n      method: \"POST\",\n      data,\n    });\n    return responseData;\n  };\n\n  const update = async (data) => {\n    const { data: responseData } = await api.request({\n      url: `/contact-lists/${data.id}`,\n      method: \"PUT\",\n      data,\n    });\n    return responseData;\n  };\n\n  const deleteRecord = async (id) => {\n    const { data } = await api.request({\n      url: `/contact-lists/${id}`,\n      method: \"DELETE\",\n    });\n    return data;\n  };\n\n  const findById = async (id) => {\n    const { data } = await api.request({\n      url: `/contact-lists/${id}`,\n      method: \"GET\",\n    });\n    return data;\n  };\n\n  const list = async (params) => {\n    const { data } = await api.request({\n      url: \"/contact-lists/list\",\n      method: \"GET\",\n      params,\n    });\n    return data;\n  };\n\n  return {\n    findById,\n    save,\n    update,\n    deleteRecord,\n    list,\n  };\n};\n\nexport default useContactLists;\n","import React, {\n  useState,\n  useEffect,\n  useReducer,\n  useContext,\n  useRef,\n} from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport BlockIcon from \"@material-ui/icons/Block\";\n\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactListItemModal from \"../../components/ContactListItemModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal/\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\nimport useContactLists from \"../../hooks/useContactLists\";\nimport { Grid } from \"@material-ui/core\";\n\nimport planilhaExemplo from \"../../assets/planilha.xlsx\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTS\") {\n    const contacts = action.payload;\n    const newContacts = [];\n\n    contacts.forEach((contact) => {\n      const contactIndex = state.findIndex((c) => c.id === contact.id);\n      if (contactIndex !== -1) {\n        state[contactIndex] = contact;\n      } else {\n        newContacts.push(contact);\n      }\n    });\n\n    return [...state, ...newContacts];\n  }\n\n  if (action.type === \"UPDATE_CONTACTS\") {\n    const contact = action.payload;\n    const contactIndex = state.findIndex((c) => c.id === contact.id);\n\n    if (contactIndex !== -1) {\n      state[contactIndex] = contact;\n      return [...state];\n    } else {\n      return [contact, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACT\") {\n    const contactId = action.payload;\n\n    const contactIndex = state.findIndex((c) => c.id === contactId);\n    if (contactIndex !== -1) {\n      state.splice(contactIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst ContactListItems = () => {\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n  const { contactListId } = useParams();\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contacts, dispatch] = useReducer(reducer, []);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactListItemModalOpen, setContactListItemModalOpen] =\n    useState(false);\n  const [deletingContact, setDeletingContact] = useState(null);\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n  const [contactList, setContactList] = useState({});\n  const fileUploadRef = useRef(null);\n\n  const { findById: findContactList } = useContactLists();\n\n  useEffect(() => {\n    findContactList(contactListId).then((data) => {\n      setContactList(data);\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [contactListId]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(`contact-list-items`, {\n            params: { searchParam, pageNumber, contactListId },\n          });\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber, contactListId]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-ContactListItem`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.record });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.id });\n      }\n\n      if (data.action === \"reload\") {\n        dispatch({ type: \"LOAD_CONTACTS\", payload: data.records });\n      }\n    });\n\n    socket.on(\n      `company-${companyId}-ContactListItem-${contactListId}`,\n      (data) => {\n        if (data.action === \"reload\") {\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.records });\n        }\n      }\n    );\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [contactListId]);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleOpenContactListItemModal = () => {\n    setSelectedContactId(null);\n    setContactListItemModalOpen(true);\n  };\n\n  const handleCloseContactListItemModal = () => {\n    setSelectedContactId(null);\n    setContactListItemModalOpen(false);\n  };\n\n  const hadleEditContact = (contactId) => {\n    setSelectedContactId(contactId);\n    setContactListItemModalOpen(true);\n  };\n\n  const handleDeleteContact = async (contactId) => {\n    try {\n      await api.delete(`/contact-list-items/${contactId}`);\n      toast.success(i18n.t(\"contacts.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingContact(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const handleImportContacts = async () => {\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", fileUploadRef.current.files[0]);\n      await api.request({\n        url: `contact-lists/${contactListId}/upload`,\n        method: \"POST\",\n        data: formData,\n      });\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const goToContactLists = () => {\n    history.push(\"/contact-lists\");\n  };\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <ContactListItemModal\n        open={contactListItemModalOpen}\n        onClose={handleCloseContactListItemModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactId={selectedContactId}\n      ></ContactListItemModal>\n      <ConfirmationModal\n        title={\n          deletingContact\n            ? `${i18n.t(\"contactListItems.confirmationModal.deleteTitle\")} ${\n                deletingContact.name\n              }?`\n            : `${i18n.t(\"contactListItems.confirmationModal.importTitlte\")}`\n        }\n        open={confirmOpen}\n        onClose={setConfirmOpen}\n        onConfirm={() =>\n          deletingContact\n            ? handleDeleteContact(deletingContact.id)\n            : handleImportContacts()\n        }\n      >\n        {deletingContact ? (\n          `${i18n.t(\"contactListItems.confirmationModal.deleteMessage\")}`\n        ) : (\n          <>\n            {i18n.t(\"contactListItems.confirmationModal.importMessage\")}\n            <a href={planilhaExemplo} download=\"planilha.xlsx\">\n              Clique aqui para baixar planilha exemplo.\n            </a>\n          </>\n        )}\n      </ConfirmationModal>\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={5} item>\n            <Title>{contactList.name}</Title>\n          </Grid>\n          <Grid xs={12} sm={7} item>\n            <Grid spacing={2} container>\n              <Grid xs={12} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"contactListItems.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={4} sm={2} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={goToContactLists}\n                >\n                  {i18n.t(\"contactListItems.buttons.lists\")}\n                </Button>\n              </Grid>\n              <Grid xs={4} sm={2} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={() => {\n                    fileUploadRef.current.value = null;\n                    fileUploadRef.current.click();\n                  }}\n                >\n                  {i18n.t(\"contactListItems.buttons.import\")}\n                </Button>\n              </Grid>\n              <Grid xs={4} sm={2} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleOpenContactListItemModal}\n                >\n                  {i18n.t(\"contactListItems.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <>\n          <input\n            style={{ display: \"none\" }}\n            id=\"upload\"\n            name=\"file\"\n            type=\"file\"\n            accept=\".xls,.xlsx\"\n            onChange={() => {\n              setConfirmOpen(true);\n            }}\n            ref={fileUploadRef}\n          />\n        </>\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\" style={{ width: \"0%\" }}>\n                #\n              </TableCell>\n              <TableCell>{i18n.t(\"contactListItems.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactListItems.table.number\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactListItems.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactListItems.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {contacts.map((contact) => (\n                <TableRow key={contact.id}>\n                  <TableCell align=\"center\" style={{ width: \"0%\" }}>\n                    <IconButton>\n                      {contact.isWhatsappValid ? (\n                        <CheckCircleIcon\n                          titleAccess=\"Whatsapp Válido\"\n                          htmlColor=\"green\"\n                        />\n                      ) : (\n                        <BlockIcon\n                          titleAccess=\"Whatsapp Inválido\"\n                          htmlColor=\"grey\"\n                        />\n                      )}\n                    </IconButton>\n                  </TableCell>\n                  <TableCell>{contact.name}</TableCell>\n                  <TableCell align=\"center\">{contact.number}</TableCell>\n                  <TableCell align=\"center\">{contact.email}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => hadleEditContact(contact.id)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n                    <Can\n                      role={user.profile}\n                      perform=\"contacts-page:deleteContact\"\n                      yes={() => (\n                        <IconButton\n                          size=\"small\"\n                          onClick={() => {\n                            setConfirmOpen(true);\n                            setDeletingContact(contact);\n                          }}\n                        >\n                          <DeleteOutlineIcon />\n                        </IconButton>\n                      )}\n                    />\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default ContactListItems;\n","import React, { useContext, useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { i18n } from \"../../translate/i18n\";\nimport { head } from \"lodash\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport MessageVariablesPicker from \"../MessageVariablesPicker\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\n\nimport {\n    FormControl,\n    Grid,\n    InputLabel,\n    MenuItem,\n    Select,\n} from \"@material-ui/core\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nconst path = require('path');\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n    },\n    multFieldLine: {\n        display: \"flex\",\n        \"& > *:not(:last-child)\": {\n            marginRight: theme.spacing(1),\n        },\n    },\n\n    btnWrapper: {\n        position: \"relative\",\n    },\n\n    buttonProgress: {\n        color: green[500],\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n    },\n    colorAdorment: {\n        width: 20,\n        height: 20,\n    },\n}));\n\nconst QuickeMessageSchema = Yup.object().shape({\n    shortcode: Yup.string().required(\"Obrigatório\"),\n    //   message: Yup.string().required(\"Obrigatório\"),\n});\n\nconst QuickMessageDialog = ({ open, onClose, quickemessageId, reload }) => {\n    const classes = useStyles();\n    const { user } = useContext(AuthContext);\n    const { profile } = user;\n    const messageInputRef = useRef();\n\n    const initialState = {\n        shortcode: \"\",\n        message: \"\",\n        geral: false,\n        status: true,\n    };\n\n    const [confirmationOpen, setConfirmationOpen] = useState(false);\n    const [quickemessage, setQuickemessage] = useState(initialState);\n    const [attachment, setAttachment] = useState(null);\n    const attachmentFile = useRef(null);\n\n    useEffect(() => {\n        try {\n            (async () => {\n                if (!quickemessageId) return;\n\n                const { data } = await api.get(`/quick-messages/${quickemessageId}`);\n\n                setQuickemessage((prevState) => {\n                    return { ...prevState, ...data };\n                });\n            })();\n        } catch (err) {\n            toastError(err);\n        }\n    }, [quickemessageId, open]);\n\n    const handleClose = () => {\n        setQuickemessage(initialState);\n        setAttachment(null);\n        onClose();\n    };\n\n    const handleAttachmentFile = (e) => {\n      \n        const file = head(e.target.files);\n        if (file) {\n            setAttachment(file);\n        }\n    };\n\n    const handleSaveQuickeMessage = async (values) => {\n\n        const quickemessageData = { ...values, isMedia: true, mediaPath: attachment ? String(attachment.name).replace(/ /g, \"_\") : values.mediaPath ? path.basename(values.mediaPath).replace(/ /g, \"_\") : null };\n\n        try {\n            if (quickemessageId) {\n                await api.put(`/quick-messages/${quickemessageId}`, quickemessageData);\n                if (attachment != null) {\n                    const formData = new FormData();\n                    formData.append(\"typeArch\", \"quickMessage\");\n                    formData.append(\"file\", attachment);\n                    await api.post(\n                        `/quick-messages/${quickemessageId}/media-upload`,\n                        formData\n                    );\n                }\n            } else {\n                const { data } = await api.post(\"/quick-messages\", quickemessageData);\n                if (attachment != null) {\n                    const formData = new FormData();\n                    formData.append(\"typeArch\", \"quickMessage\");\n                    formData.append(\"file\", attachment);\n                    await api.post(`/quick-messages/${data.id}/media-upload`, formData);\n                }\n            }\n            toast.success(i18n.t(\"quickMessages.toasts.success\"));\n            if (typeof reload == \"function\") {\n\n                reload();\n            }\n        } catch (err) {\n            toastError(err);\n        }\n        handleClose();\n    };\n\n    const deleteMedia = async () => {\n        if (attachment) {\n            setAttachment(null);\n            attachmentFile.current.value = null;\n        }\n\n        if (quickemessage.mediaPath) {\n            await api.delete(`/quick-messages/${quickemessage.id}/media-upload`);\n            setQuickemessage((prev) => ({\n                ...prev,\n                mediaPath: null,\n            }));\n            toast.success(i18n.t(\"quickMessages.toasts.deleted\"));\n            if (typeof reload == \"function\") {\n\n                reload();\n            }\n        }\n    };\n\n    const handleClickMsgVar = async (msgVar, setValueFunc) => {\n        const el = messageInputRef.current;\n        const firstHalfText = el.value.substring(0, el.selectionStart);\n        const secondHalfText = el.value.substring(el.selectionEnd);\n        const newCursorPos = el.selectionStart + msgVar.length;\n\n        setValueFunc(\"message\", `${firstHalfText}${msgVar}${secondHalfText}`);\n\n        await new Promise(r => setTimeout(r, 100));\n        messageInputRef.current.setSelectionRange(newCursorPos, newCursorPos);\n    };\n\n    return (\n        <div className={classes.root}>\n            <ConfirmationModal\n                title={i18n.t(\"quickMessages.confirmationModal.deleteTitle\")}\n                open={confirmationOpen}\n                onClose={() => setConfirmationOpen(false)}\n                onConfirm={deleteMedia}\n            >\n                {i18n.t(\"quickMessages.confirmationModal.deleteMessage\")}\n            </ConfirmationModal>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                maxWidth=\"xs\"\n                fullWidth\n                scroll=\"paper\"\n            >\n                <DialogTitle id=\"form-dialog-title\">\n                    {quickemessageId\n                        ? `${i18n.t(\"quickMessages.dialog.edit\")}`\n                        : `${i18n.t(\"quickMessages.dialog.add\")}`}\n                </DialogTitle>\n                <div style={{ display: \"none\" }}>\n                    <input\n                        type=\"file\"\n                        ref={attachmentFile}\n                        onChange={(e) => handleAttachmentFile(e)}\n                    />\n                </div>\n                <Formik\n                    initialValues={quickemessage}\n                    enableReinitialize={true}\n                    validationSchema={QuickeMessageSchema}\n                    onSubmit={(values, actions) => {\n                        setTimeout(() => {\n                            handleSaveQuickeMessage(values);\n                            actions.setSubmitting(false);\n                        }, 400);\n                    }}\n                >\n                    {({ touched, errors, isSubmitting, setFieldValue, values }) => (\n                        <Form>\n                            <DialogContent dividers>\n                                <Grid spacing={2} container>\n                                    <Grid xs={12} item>\n                                        <Field\n                                            as={TextField}\n                                            autoFocus\n                                            label={i18n.t(\"quickMessages.dialog.shortcode\")}\n                                            name=\"shortcode\"\n                                            error={touched.shortcode && Boolean(errors.shortcode)}\n                                            helperText={touched.shortcode && errors.shortcode}\n                                            variant=\"outlined\"\n                                            margin=\"dense\"\n                                            fullWidth\n                                        />\n                                    </Grid>\n                                    <Grid xs={12} item>\n                                        <Field\n                                            as={TextField}\n                                            label={i18n.t(\"quickMessages.dialog.message\")}\n                                            name=\"message\"\n                                            inputRef={messageInputRef}\n                                            error={touched.message && Boolean(errors.message)}\n                                            helperText={touched.message && errors.message}\n                                            variant=\"outlined\"\n                                            margin=\"dense\"\n                                            multiline={true}\n                                            rows={7}\n                                            fullWidth\n                                        // disabled={quickemessage.mediaPath || attachment ? true : false}\n                                        />\n                                    </Grid>\n                                    <Grid item>\n                                        <MessageVariablesPicker\n                                            disabled={isSubmitting}\n                                            onClick={value => handleClickMsgVar(value, setFieldValue)}\n                                        />\n                                    </Grid>\n                                    {(quickemessage.mediaPath || attachment) && (\n                                        <Grid xs={12} item>\n                                            <Button startIcon={<AttachFileIcon />}>\n                                                {attachment ? attachment.name : quickemessage.mediaName}\n                                            </Button>\n                                            <IconButton\n                                                onClick={() => setConfirmationOpen(true)}\n                                                color=\"secondary\"\n                                            >\n                                                <DeleteOutlineIcon color=\"secondary\" />\n                                            </IconButton>\n                                        </Grid>\n                                    )}\n                                </Grid>\n                            </DialogContent>\n                            <DialogActions>\n                                {!attachment && !quickemessage.mediaPath && (\n                                    <Button\n                                        color=\"primary\"\n                                        onClick={() => attachmentFile.current.click()}\n                                        disabled={isSubmitting}\n                                        variant=\"outlined\"\n                                    >\n                                        {i18n.t(\"quickMessages.buttons.attach\")}\n                                    </Button>\n                                )}\n                                <Button\n                                    onClick={handleClose}\n                                    color=\"secondary\"\n                                    disabled={isSubmitting}\n                                    variant=\"outlined\"\n                                >\n                                    {i18n.t(\"quickMessages.buttons.cancel\")}\n                                </Button>\n                                <Button\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={isSubmitting}\n                                    variant=\"contained\"\n                                    className={classes.btnWrapper}\n                                >\n                                    {quickemessageId\n                                        ? `${i18n.t(\"quickMessages.buttons.edit\")}`\n                                        : `${i18n.t(\"quickMessages.buttons.add\")}`}\n                                    {isSubmitting && (\n                                        <CircularProgress\n                                            size={24}\n                                            className={classes.buttonProgress}\n                                        />\n                                    )}\n                                </Button>\n                            </DialogActions>\n                        </Form>\n                    )}\n                </Formik>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default QuickMessageDialog;","import React, { useState, useEffect, useReducer, useContext, useCallback } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport QuickMessageDialog from \"../../components/QuickMessageDialog\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\nimport { isArray } from \"lodash\";\nimport { socketConnection } from \"../../services/socket\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUICKMESSAGES\") {\n    //console.log(\"aqui\");\n    //console.log(action);\n    //console.log(action.payload);\n    const quickmessages = action.payload;\n    const newQuickmessages = [];\n    //console.log(newQuickmessages);\n\n    if (isArray(quickmessages)) {\n      quickmessages.forEach((quickemessage) => {\n        const quickemessageIndex = state.findIndex(\n          (u) => u.id === quickemessage.id\n        );\n        if (quickemessageIndex !== -1) {\n          state[quickemessageIndex] = quickemessage;\n        } else {\n          newQuickmessages.push(quickemessage);\n        }\n      });\n    }\n\n    return [...state, ...newQuickmessages];\n  }\n\n  if (action.type === \"UPDATE_QUICKMESSAGES\") {\n    const quickemessage = action.payload;\n    const quickemessageIndex = state.findIndex((u) => u.id === quickemessage.id);\n\n    if (quickemessageIndex !== -1) {\n      state[quickemessageIndex] = quickemessage;\n      return [...state];\n    } else {\n      return [quickemessage, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_QUICKMESSAGE\") {\n    const quickemessageId = action.payload;\n\n    const quickemessageIndex = state.findIndex((u) => u.id === quickemessageId);\n    if (quickemessageIndex !== -1) {\n      state.splice(quickemessageIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Quickemessages = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedQuickemessage, setSelectedQuickemessage] = useState(null);\n  const [deletingQuickemessage, setDeletingQuickemessage] = useState(null);\n  const [quickemessageModalOpen, setQuickMessageDialogOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [quickemessages, dispatch] = useReducer(reducer, []);\n  const { user } = useContext(AuthContext);\n  const { profile } = user;\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchQuickemessages();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = user.companyId;\n    const socket = socketConnection({ companyId, userId: user.id });\n\n    socket.on(`company${companyId}-quickemessage`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_QUICKMESSAGES\", payload: data.record });\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_QUICKMESSAGE\", payload: +data.id });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const fetchQuickemessages = async () => {\n    try {\n      const companyId = user.companyId;\n      //const searchParam = ({ companyId, userId: user.id });\n      const { data } = await api.get(\"/quick-messages\", {\n        params: { searchParam, pageNumber },\n      });\n\n      dispatch({ type: \"LOAD_QUICKMESSAGES\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenQuickMessageDialog = () => {\n    setSelectedQuickemessage(null);\n    setQuickMessageDialogOpen(true);\n  };\n\n  const handleCloseQuickMessageDialog = () => {\n    setSelectedQuickemessage(null);\n    setQuickMessageDialogOpen(false);\n    //window.location.reload();\n    fetchQuickemessages();\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditQuickemessage = (quickemessage) => {\n    //console.log(quickemessage);\n    setSelectedQuickemessage(quickemessage);\n    setQuickMessageDialogOpen(true);\n  };\n\n  const handleDeleteQuickemessage = async (quickemessageId) => {\n    try {\n      await api.delete(`/quick-messages/${quickemessageId}`);\n      toast.success(i18n.t(\"quickemessages.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingQuickemessage(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n    fetchQuickemessages();\n    dispatch({ type: \"RESET\" });\n\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={deletingQuickemessage && `${i18n.t(\"quickMessages.confirmationModal.deleteTitle\")} ${deletingQuickemessage.shortcode}?`}\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteQuickemessage(deletingQuickemessage.id)}\n      >\n        {i18n.t(\"quickMessages.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <QuickMessageDialog\n        resetPagination={() => {\n          setPageNumber(1);\n          fetchQuickemessages();\n        }}\n        open={quickemessageModalOpen}\n        onClose={handleCloseQuickMessageDialog}\n        aria-labelledby=\"form-dialog-title\"\n        quickemessageId={selectedQuickemessage && selectedQuickemessage.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"quickMessages.title\")}</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={6} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"quickMessages.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={6} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  onClick={handleOpenQuickMessageDialog}\n                  color=\"primary\"\n                >\n                  {i18n.t(\"quickMessages.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickMessages.table.shortcode\")}\n              </TableCell>\n\n              <TableCell align=\"center\">\n                {i18n.t(\"quickMessages.table.mediaName\")}\n              </TableCell>        \n              <TableCell align=\"center\">\n                {i18n.t(\"quickMessages.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {quickemessages.map((quickemessage) => (\n                <TableRow key={quickemessage.id}>\n                  <TableCell align=\"center\">{quickemessage.shortcode}</TableCell>\n\n                  <TableCell align=\"center\">\n                    {quickemessage.mediaName ?? i18n.t(\"quickMessages.noAttachment\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditQuickemessage(quickemessage)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingQuickemessage(quickemessage);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={5} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Quickemessages;","import React, { useState, useEffect, useReducer, useContext, useCallback } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport api from \"../../services/api\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport Board from 'react-trello';\nimport { toast } from \"react-toastify\";\nimport { i18n } from \"../../translate/i18n\";\nimport { useHistory } from 'react-router-dom';\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: theme.spacing(1),\n  },\n  button: {\n    background: \"#10a110\",\n    border: \"none\",\n    padding: \"10px\",\n    color: \"white\",\n    fontWeight: \"bold\",\n    borderRadius: \"5px\",\n  },\n  \n}));\n\nconst Kanban = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [tags, setTags] = useState([]);\n  const [reloadData, setReloadData] = useState(false);\n  const [isInitialLoadComplete, setIsInitialLoadComplete] = useState(false);\n\n\n  const fetchTags = async () => {\n    try {\n      const response = await api.get(\"/tags/kanban\");\n      const fetchedTags = response.data.lista || []; \n\n      setTags(fetchedTags);\n\n      // Fetch tickets after fetching tags\n      await fetchTickets(jsonString);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    fetchTags();\n  }, []);\n\n  const [file, setFile] = useState({\n    lanes: []\n  });\n\n\n  const [tickets, setTickets] = useState([]);\n  const { user } = useContext(AuthContext);\n  const { profile, queues } = user;\n  const jsonString = user.queues.map(queue => queue.UserQueue.queueId);\n\n  const fetchTickets = async (jsonString) => {\n    try {\n      \n      const { data } = await api.get(\"/ticket/kanban\", {\n        params: {\n          queueIds: JSON.stringify(jsonString),\n          teste: true\n        }\n      });\n      setTickets(data.tickets);\n    } catch (err) {\n      console.log(err);\n      setTickets([]);\n    }\n  };\n\n\n  const popularCards = (jsonString) => {\n    const filteredTickets = tickets.filter(ticket => ticket.tags.length === 0);\n\n    const lanes = [\n      {\n        id: \"lane0\",\n        title: i18n.t(\"Em aberto\"),\n        label: \"0\",\n        cards: filteredTickets.map(ticket => ({\n          id: ticket.id.toString(),\n          label: \"Ticket nº \" + ticket.id.toString(),\n          description: (\n              <div>\n                <p>\n                  {ticket.contact.number}\n                  <br />\n                  {ticket.lastMessage}\n                </p>\n                <button \n                  className={classes.button} \n                  onClick={() => {\n                    handleCardClick(ticket.uuid)\n                  }}>\n                    Ver Ticket\n                </button>\n              </div>\n            ),\n          title: ticket.contact.name,\n          draggable: true,\n          href: \"/tickets/\" + ticket.uuid,\n        })),\n      },\n      ...tags.map(tag => {\n        const filteredTickets = tickets.filter(ticket => {\n          const tagIds = ticket.tags.map(tag => tag.id);\n          return tagIds.includes(tag.id);\n        });\n\n        return {\n          id: tag.id.toString(),\n          title: tag.name,\n          label: tag.id.toString(),\n          cards: filteredTickets.map(ticket => ({\n            id: ticket.id.toString(),\n            label: \"Ticket nº \" + ticket.id.toString(),\n            description: (\n              <div>\n                <p>\n                  {ticket.contact.number}\n                  <br />\n                  {ticket.lastMessage}\n                </p>\n                <button \n                  className={classes.button} \n                  onClick={() => {\n                    \n                    handleCardClick(ticket.uuid)\n                  }}>\n                    Ver Ticket\n                </button>\n              </div>\n            ),\n            title: ticket.contact.name,\n            draggable: true,\n            href: \"/tickets/\" + ticket.uuid,          \n          })),\n          style: { backgroundColor: tag.color, color: \"white\" }\n        };\n      }),\n    ];\n\n    setFile({ lanes });\n  };\n\n  const handleCardClick = (uuid) => {  \n    //console.log(\"Clicked on card with UUID:\", uuid);\n    history.push('/tickets/' + uuid);\n  };\n\n  useEffect(() => {\n    popularCards(jsonString);\n}, [tags, tickets, reloadData]);\n\n  const handleCardMove = async (cardId, sourceLaneId, targetLaneId) => {\n    try {\n        \n          await api.delete(`/ticket-tags/${targetLaneId}`);\n        toast.success('Ticket Tag Removido!');\n          await api.put(`/ticket-tags/${targetLaneId}/${sourceLaneId}`);\n        toast.success('Ticket Tag Adicionado com Sucesso!');\n\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Board \n\t\tdata={file} \n\t\tonCardMoveAcrossLanes={handleCardMove}\n\t\tstyle={{backgroundColor: 'rgba(252, 252, 252, 0.03)'}}\n    />\n    </div>\n  );\n};\n\n\nexport default Kanban;\n","import React, { useContext } from \"react\";\nimport { Route as RouterRoute, Redirect } from \"react-router-dom\";\n\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport BackdropLoading from \"../components/BackdropLoading\";\n\nconst Route = ({ component: Component, isPrivate = false, ...rest }) => {\n\tconst { isAuth, loading } = useContext(AuthContext);\n\n\tif (!isAuth && isPrivate) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{loading && <BackdropLoading />}\n\t\t\t\t<Redirect to={{ pathname: \"/login\", state: { from: rest.location } }} />\n\t\t\t</>\n\t\t);\n\t}\n\n\tif (isAuth && !isPrivate) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{loading && <BackdropLoading />}\n\t\t\t\t<Redirect to={{ pathname: \"/\", state: { from: rest.location } }} />;\n\t\t\t</>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{loading && <BackdropLoading />}\n\t\t\t<RouterRoute {...rest} component={Component} />\n\t\t</>\n\t);\n};\n\nexport default Route;\n","import React, {\n  useState,\n  useEffect,\n  useReducer,\n  useCallback,\n  useContext,\n} from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ScheduleModal from \"../../components/ScheduleModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport moment from \"moment\";\nimport { capitalize } from \"lodash\";\nimport { socketConnection } from \"../../services/socket\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\n// A custom hook that builds on useLocation to parse\n// the query string for you.\nconst getUrlParam = (param) => {\n  return new URLSearchParams(window.location.search).get(param);\n};\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_SCHEDULES\") {\n    const schedules = action.payload;\n    const newSchedules = [];\n\n    schedules.forEach((schedule) => {\n      const scheduleIndex = state.findIndex((s) => s.id === schedule.id);\n      if (scheduleIndex !== -1) {\n        state[scheduleIndex] = schedule;\n      } else {\n        newSchedules.push(schedule);\n      }\n    });\n\n    return [...state, ...newSchedules];\n  }\n\n  if (action.type === \"UPDATE_SCHEDULES\") {\n    const schedule = action.payload;\n    const scheduleIndex = state.findIndex((s) => s.id === schedule.id);\n\n    if (scheduleIndex !== -1) {\n      state[scheduleIndex] = schedule;\n      return [...state];\n    } else {\n      return [schedule, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_SCHEDULE\") {\n    const scheduleId = action.payload;\n\n    const scheduleIndex = state.findIndex((s) => s.id === scheduleId);\n    if (scheduleIndex !== -1) {\n      state.splice(scheduleIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Schedules = () => {\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedSchedule, setSelectedSchedule] = useState(null);\n  const [deletingSchedule, setDeletingSchedule] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [schedules, dispatch] = useReducer(reducer, []);\n  const [scheduleModalOpen, setScheduleModalOpen] = useState(false);\n  const [contactId, setContactId] = useState(+getUrlParam(\"contactId\"));\n\n  const fetchSchedules = useCallback(async () => {\n    try {\n      const { data } = await api.get(\"/schedules/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_SCHEDULES\", payload: data.schedules });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  }, [searchParam, pageNumber]);\n\n  const handleOpenScheduleModalFromContactId = useCallback(() => {\n    if (contactId) {\n      handleOpenScheduleModal();\n    }\n  }, [contactId]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchSchedules();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [\n    searchParam,\n    pageNumber,\n    contactId,\n    fetchSchedules,\n    handleOpenScheduleModalFromContactId,\n  ]);\n\n  useEffect(() => {\n    handleOpenScheduleModalFromContactId();\n    const socket = socketConnection({ companyId: user.companyId });\n\n    socket.on(\"user\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_SCHEDULES\", payload: data.schedules });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.scheduleId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [handleOpenScheduleModalFromContactId, user]);\n\n  const cleanContact = () => {\n    setContactId(\"\");\n  };\n\n  const handleOpenScheduleModal = () => {\n    setSelectedSchedule(null);\n    setScheduleModalOpen(true);\n  };\n\n  const handleCloseScheduleModal = () => {\n    setSelectedSchedule(null);\n    setScheduleModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditSchedule = (schedule) => {\n    setSelectedSchedule(schedule);\n    setScheduleModalOpen(true);\n  };\n\n  const handleDeleteSchedule = async (scheduleId) => {\n    try {\n      await api.delete(`/schedules/${scheduleId}`);\n      toast.success(i18n.t(\"schedules.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingSchedule(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n    await fetchSchedules();\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const truncate = (str, len) => {\n    if (str.length > len) {\n      return str.substring(0, len) + \"...\";\n    }\n    return str;\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingSchedule &&\n          `${i18n.t(\"schedules.confirmationModal.deleteTitle\")}`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteSchedule(deletingSchedule.id)}\n      >\n        {i18n.t(\"schedules.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <ScheduleModal\n        open={scheduleModalOpen}\n        onClose={handleCloseScheduleModal}\n        reload={fetchSchedules}\n        aria-labelledby=\"form-dialog-title\"\n        scheduleId={selectedSchedule && selectedSchedule.id}\n        contactId={contactId}\n        cleanContact={cleanContact}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"schedules.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenScheduleModal}\n          >\n            {i18n.t(\"schedules.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"schedules.table.contact\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"schedules.table.body\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"schedules.table.sendAt\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"schedules.table.status\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"schedules.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {schedules.map((schedule) => (\n                <TableRow key={schedule.id}>\n                  <TableCell align=\"center\">{schedule.contact.name}</TableCell>\n                  <TableCell align=\"center\" title={schedule.body}>\n                    {truncate(schedule.body, 25)}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {moment(schedule.sendAt).format(\"DD/MM/YYYY HH:mm:ss\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {capitalize(schedule.status)}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditSchedule(schedule)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingSchedule(schedule);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Schedules;\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\nimport { head } from \"lodash\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport moment from \"moment\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport {\n  Box,\n  FormControl,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Select,\n  Tab,\n  Tabs,\n} from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    backgroundColor: \"#fff\"\n  },\n\n  tabmsg: {\n    backgroundColor: theme.palette.campaigntab,\n  },\n\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\nconst CampaignSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst CampaignModal = ({\n  open,\n  onClose,\n  campaignId,\n  initialValues,\n  onSave,\n  resetPagination,\n}) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n  const { user } = useContext(AuthContext);\n  const { companyId } = user;\n  const [file, setFile] = useState(null);\n\n  const initialState = {\n    name: \"\",\n    message1: \"\",\n    message2: \"\",\n    message3: \"\",\n    message4: \"\",\n    message5: \"\",\n    confirmationMessage1: \"\",\n    confirmationMessage2: \"\",\n    confirmationMessage3: \"\",\n    confirmationMessage4: \"\",\n    confirmationMessage5: \"\",\n    status: \"INATIVA\", // INATIVA, PROGRAMADA, EM_ANDAMENTO, CANCELADA, FINALIZADA,\n    confirmation: false,\n    scheduledAt: \"\",\n    whatsappId: \"\",\n    contactListId: \"\",\n    tagListId: \"Nenhuma\",\n    companyId,\n  };\n\n  const [campaign, setCampaign] = useState(initialState);\n  const [whatsapps, setWhatsapps] = useState([]);\n  const [contactLists, setContactLists] = useState([]);\n  const [messageTab, setMessageTab] = useState(0);\n  const [attachment, setAttachment] = useState(null);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const [campaignEditable, setCampaignEditable] = useState(true);\n  const attachmentFile = useRef(null);\n  const [tagLists, setTagLists] = useState([]);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/files/\", {\n          params: { companyId }\n        });\n\n        setFile(data.files);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    if (isMounted.current) {\n      if (initialValues) {\n        setCampaign((prevState) => {\n          return { ...prevState, ...initialValues };\n        });\n      }\n\n      api\n        .get(`/contact-lists/list`, { params: { companyId } })\n        .then(({ data }) => setContactLists(data));\n\n      api\n        .get(`/whatsapp`, { params: { companyId, session: 0 } })\n        .then(({ data }) => setWhatsapps(data));\n\n      api.get(`/tags`, { params: { companyId } })\n        .then(({ data }) => {\n          const fetchedTags = data.tags;\n          // Perform any necessary data transformation here\n          const formattedTagLists = fetchedTags.map((tag) => ({\n            id: tag.id,\n            name: tag.name,\n          }));\n          setTagLists(formattedTagLists);\n        })\n        .catch((error) => {\n          console.error(\"Error retrieving tags:\", error);\n        });\n        \n      if (!campaignId) return;\n\n      api.get(`/campaigns/${campaignId}`).then(({ data }) => {\n        setCampaign((prev) => {\n          let prevCampaignData = Object.assign({}, prev);\n\n          Object.entries(data).forEach(([key, value]) => {\n            if (key === \"scheduledAt\" && value !== \"\" && value !== null) {\n              prevCampaignData[key] = moment(value).format(\"YYYY-MM-DDTHH:mm\");\n            } else {\n              prevCampaignData[key] = value === null ? \"\" : value;\n            }\n          });\n\n          return prevCampaignData;\n        });\n      });\n    }\n  }, [campaignId, open, initialValues, companyId]);\n\n  useEffect(() => {\n    const now = moment();\n    const scheduledAt = moment(campaign.scheduledAt);\n    const moreThenAnHour =\n      !Number.isNaN(scheduledAt.diff(now)) && scheduledAt.diff(now, \"hour\") > 1;\n    const isEditable =\n      campaign.status === \"INATIVA\" ||\n      (campaign.status === \"PROGRAMADA\" && moreThenAnHour);\n\n    setCampaignEditable(isEditable);\n  }, [campaign.status, campaign.scheduledAt]);\n\n  const handleClose = () => {\n    onClose();\n    setCampaign(initialState);\n  };\n\n  const handleAttachmentFile = (e) => {\n    const file = head(e.target.files);\n    if (file) {\n      setAttachment(file);\n    }\n  };\n\n  const handleSaveCampaign = async (values) => {\n    try {\n      const dataValues = {};\n      Object.entries(values).forEach(([key, value]) => {\n        if (key === \"scheduledAt\" && value !== \"\" && value !== null) {\n          dataValues[key] = moment(value).format(\"YYYY-MM-DD HH:mm:ss\");\n        } else {\n          dataValues[key] = value === \"\" ? null : value;\n        }\n      });\n\n      if (campaignId) {\n        await api.put(`/campaigns/${campaignId}`, dataValues);\n\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/campaigns/${campaignId}/media-upload`, formData);\n        }\n        handleClose();\n      } else {\n        const { data } = await api.post(\"/campaigns\", dataValues);\n\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/campaigns/${data.id}/media-upload`, formData);\n        }\n        if (onSave) {\n          onSave(data);\n        }\n        handleClose();\n      }\n      toast.success(i18n.t(\"campaigns.toasts.success\"));\n    } catch (err) {\n      console.log(err);\n      toastError(err);\n    }\n  };\n\n  const deleteMedia = async () => {\n    if (attachment) {\n      setAttachment(null);\n      attachmentFile.current.value = null;\n    }\n\n    if (campaign.mediaPath) {\n      await api.delete(`/campaigns/${campaign.id}/media-upload`);\n      setCampaign((prev) => ({ ...prev, mediaPath: null, mediaName: null }));\n      toast.success(i18n.t(\"campaigns.toasts.deleted\"));\n    }\n  };\n\n  const renderMessageField = (identifier) => {\n    return (\n      <Field\n        as={TextField}\n        id={identifier}\n        name={identifier}\n        fullWidth\n        rows={5}\n        label={i18n.t(`campaigns.dialog.form.${identifier}`)}\n        placeholder={i18n.t(\"campaigns.dialog.form.messagePlaceholder\")}\n        multiline={true}\n        variant=\"outlined\"\n        helperText=\"Utilize variáveis como {nome}, {numero}, {email} ou defina variáveis personalziadas.\"\n        disabled={!campaignEditable && campaign.status !== \"CANCELADA\"}\n      />\n    );\n  };\n\n  const renderConfirmationMessageField = (identifier) => {\n    return (\n      <Field\n        as={TextField}\n        id={identifier}\n        name={identifier}\n        fullWidth\n        rows={5}\n        label={i18n.t(`campaigns.dialog.form.${identifier}`)}\n        placeholder={i18n.t(\"campaigns.dialog.form.messagePlaceholder\")}\n        multiline={true}\n        variant=\"outlined\"\n        disabled={!campaignEditable && campaign.status !== \"CANCELADA\"}\n      />\n    );\n  };\n\n  const cancelCampaign = async () => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/cancel`);\n      toast.success(i18n.t(\"campaigns.toasts.cancel\"));\n      setCampaign((prev) => ({ ...prev, status: \"CANCELADA\" }));\n      resetPagination();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  const restartCampaign = async () => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/restart`);\n      toast.success(i18n.t(\"campaigns.toasts.restart\"));\n      setCampaign((prev) => ({ ...prev, status: \"EM_ANDAMENTO\" }));\n      resetPagination();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <ConfirmationModal\n        title={i18n.t(\"campaigns.confirmationModal.deleteTitle\")}\n        open={confirmationOpen}\n        onClose={() => setConfirmationOpen(false)}\n        onConfirm={deleteMedia}\n      >\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        fullWidth\n        maxWidth=\"md\"\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {campaignEditable ? (\n            <>\n              {campaignId\n                ? `${i18n.t(\"campaigns.dialog.update\")}`\n                : `${i18n.t(\"campaigns.dialog.new\")}`}\n            </>\n          ) : (\n            <>{`${i18n.t(\"campaigns.dialog.readonly\")}`}</>\n          )}\n        </DialogTitle>\n        <div style={{ display: \"none\" }}>\n          <input\n            type=\"file\"\n            ref={attachmentFile}\n            onChange={(e) => handleAttachmentFile(e)}\n          />\n        </div>\n        <Formik\n          initialValues={campaign}\n          enableReinitialize={true}\n          validationSchema={CampaignSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveCampaign(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, errors, touched, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <Grid spacing={2} container>\n                  <Grid xs={12} md={9} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"campaigns.dialog.form.name\")}\n                      name=\"name\"\n                      error={touched.name && Boolean(errors.name)}\n                      helperText={touched.name && errors.name}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.textField}\n                      disabled={!campaignEditable}\n                    />\n                  </Grid>\n                  <Grid xs={12} md={3} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"confirmation-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.confirmation\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.confirmation\")}\n                        placeholder={i18n.t(\n                          \"campaigns.dialog.form.confirmation\"\n                        )}\n                        labelId=\"confirmation-selection-label\"\n                        id=\"confirmation\"\n                        name=\"confirmation\"\n                        error={\n                          touched.confirmation && Boolean(errors.confirmation)\n                        }\n                        disabled={!campaignEditable}\n                      >\n                        <MenuItem value={false}>Desabilitada</MenuItem>\n                        <MenuItem value={true}>Habilitada</MenuItem>\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"contactList-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.contactList\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.contactList\")}\n                        placeholder={i18n.t(\n                          \"campaigns.dialog.form.contactList\"\n                        )}\n                        labelId=\"contactList-selection-label\"\n                        id=\"contactListId\"\n                        name=\"contactListId\"\n                        error={\n                          touched.contactListId && Boolean(errors.contactListId)\n                        }\n                        disabled={!campaignEditable}\n                      >\n                        <MenuItem value=\"\">Nenhuma</MenuItem>\n                        {contactLists &&\n                          contactLists.map((contactList) => (\n                            <MenuItem\n                              key={contactList.id}\n                              value={contactList.id}\n                            >\n                              {contactList.name}\n                            </MenuItem>\n                          ))}\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"tagList-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.tagList\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.tagList\")}\n                        placeholder={i18n.t(\"campaigns.dialog.form.tagList\")}\n                        labelId=\"tagList-selection-label\"\n                        id=\"tagListId\"\n                        name=\"tagListId\"\n                        error={touched.tagListId && Boolean(errors.tagListId)}\n                        disabled={!campaignEditable}\n                      >\n                        <MenuItem value=\"\">Nenhuma</MenuItem>\n                        {Array.isArray(tagLists) &&\n                          tagLists.map((tagList) => (\n                            <MenuItem key={tagList.id} value={tagList.id}>\n                              {tagList.name}\n                            </MenuItem>\n                          ))}\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"whatsapp-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.whatsapp\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.whatsapp\")}\n                        placeholder={i18n.t(\"campaigns.dialog.form.whatsapp\")}\n                        labelId=\"whatsapp-selection-label\"\n                        id=\"whatsappId\"\n                        name=\"whatsappId\"\n                        error={touched.whatsappId && Boolean(errors.whatsappId)}\n                        disabled={!campaignEditable}\n                      >\n                        <MenuItem value=\"\">Nenhuma</MenuItem>\n                        {whatsapps &&\n                          whatsapps.map((whatsapp) => (\n                            <MenuItem key={whatsapp.id} value={whatsapp.id}>\n                              {whatsapp.name}\n                            </MenuItem>\n                          ))}\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"campaigns.dialog.form.scheduledAt\")}\n                      name=\"scheduledAt\"\n                      error={touched.scheduledAt && Boolean(errors.scheduledAt)}\n                      helperText={touched.scheduledAt && errors.scheduledAt}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      type=\"datetime-local\"\n                      InputLabelProps={{\n                        shrink: true,\n                      }}\n                      fullWidth\n                      className={classes.textField}\n                      disabled={!campaignEditable}\n                    />\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                  <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      className={classes.FormControl}\n                      fullWidth\n                    >\n                      <InputLabel id=\"fileListId-selection-label\">{i18n.t(\"campaigns.dialog.form.fileList\")}</InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.fileList\")}\n                        name=\"fileListId\"\n                        id=\"fileListId\"\n                        placeholder={i18n.t(\"campaigns.dialog.form.fileList\")}\n                        labelId=\"fileListId-selection-label\"\n                        value={values.fileListId || \"\"}\n                      >\n                        <MenuItem value={\"\"} >{\"Nenhum\"}</MenuItem>\n                        {file.map(f => (\n                          <MenuItem key={f.id} value={f.id}>\n                            {f.name}\n                          </MenuItem>\n                        ))}\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} item>\n                    <Tabs\n                      value={messageTab}\n                      indicatorColor=\"primary\"\n                      textColor=\"primary\"\n                      className={classes.tabmsg}\n                      onChange={(e, v) => setMessageTab(v)}\n                      variant=\"fullWidth\"\n                      centered\n                      style={{\n                        borderRadius: 2,\n                      }}\n                    >\n                      <Tab label=\"Msg. 1\" index={0} />\n                      <Tab label=\"Msg. 2\" index={1} />\n                      <Tab label=\"Msg. 3\" index={2} />\n                      <Tab label=\"Msg. 4\" index={3} />\n                      <Tab label=\"Msg. 5\" index={4} />\n                    </Tabs>\n                    <Box style={{ paddingTop: 20, border: \"none\" }}>\n                      {messageTab === 0 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message1\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage1\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message1\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 1 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message2\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage2\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message2\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 2 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message3\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage3\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message3\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 3 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message4\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage4\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message4\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 4 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message5\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage5\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message5\")}</>\n                          )}\n                        </>\n                      )}\n                    </Box>\n                  </Grid>\n                  {(campaign.mediaPath || attachment) && (\n                    <Grid xs={12} item>\n                      <Button startIcon={<AttachFileIcon />}>\n                        {attachment != null\n                          ? attachment.name\n                          : campaign.mediaName}\n                      </Button>\n                      {campaignEditable && (\n                        <IconButton\n                          onClick={() => setConfirmationOpen(true)}\n                          color=\"secondary\"\n                        >\n                          <DeleteOutlineIcon />\n                        </IconButton>\n                      )}\n                    </Grid>\n                  )}\n                </Grid>\n              </DialogContent>\n              <DialogActions>\n                {campaign.status === \"CANCELADA\" && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => restartCampaign()}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"campaigns.dialog.buttons.restart\")}\n                  </Button>\n                )}\n                {campaign.status === \"EM_ANDAMENTO\" && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => cancelCampaign()}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"campaigns.dialog.buttons.cancel\")}\n                  </Button>\n                )}\n                {!attachment && !campaign.mediaPath && campaignEditable && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => attachmentFile.current.click()}\n                    disabled={isSubmitting}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"campaigns.dialog.buttons.attach\")}\n                  </Button>\n                )}\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"campaigns.dialog.buttons.close\")}\n                </Button>\n                {(campaignEditable || campaign.status === \"CANCELADA\") && (\n                  <Button\n                    type=\"submit\"\n                    color=\"primary\"\n                    disabled={isSubmitting}\n                    variant=\"contained\"\n                    className={classes.btnWrapper}\n                  >\n                    {campaignId\n                      ? `${i18n.t(\"campaigns.dialog.buttons.edit\")}`\n                      : `${i18n.t(\"campaigns.dialog.buttons.add\")}`}\n                    {isSubmitting && (\n                      <CircularProgress\n                        size={24}\n                        className={classes.buttonProgress}\n                      />\n                    )}\n                  </Button>\n                )}\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default CampaignModal;\n","/* eslint-disable no-unused-vars */\n\nimport React, { useState, useEffect, useReducer } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DescriptionIcon from \"@material-ui/icons/Description\";\nimport TimerOffIcon from \"@material-ui/icons/TimerOff\";\nimport PlayCircleOutlineIcon from \"@material-ui/icons/PlayCircleOutline\";\nimport PauseCircleOutlineIcon from \"@material-ui/icons/PauseCircleOutline\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport CampaignModal from \"../../components/CampaignModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\nimport { isArray } from \"lodash\";\nimport { useDate } from \"../../hooks/useDate\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CAMPAIGNS\") {\n    const campaigns = action.payload;\n    const newCampaigns = [];\n\n    if (isArray(campaigns)) {\n      campaigns.forEach((campaign) => {\n        const campaignIndex = state.findIndex((u) => u.id === campaign.id);\n        if (campaignIndex !== -1) {\n          state[campaignIndex] = campaign;\n        } else {\n          newCampaigns.push(campaign);\n        }\n      });\n    }\n\n    return [...state, ...newCampaigns];\n  }\n\n  if (action.type === \"UPDATE_CAMPAIGNS\") {\n    const campaign = action.payload;\n    const campaignIndex = state.findIndex((u) => u.id === campaign.id);\n\n    if (campaignIndex !== -1) {\n      state[campaignIndex] = campaign;\n      return [...state];\n    } else {\n      return [campaign, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CAMPAIGN\") {\n    const campaignId = action.payload;\n\n    const campaignIndex = state.findIndex((u) => u.id === campaignId);\n    if (campaignIndex !== -1) {\n      state.splice(campaignIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Campaigns = () => {\n  const classes = useStyles();\n\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedCampaign, setSelectedCampaign] = useState(null);\n  const [deletingCampaign, setDeletingCampaign] = useState(null);\n  const [campaignModalOpen, setCampaignModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [campaigns, dispatch] = useReducer(reducer, []);\n\n  const { datetimeToClient } = useDate();\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchCampaigns();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-campaign`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CAMPAIGNS\", payload: data.record });\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CAMPAIGN\", payload: +data.id });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const fetchCampaigns = async () => {\n    try {\n      const { data } = await api.get(\"/campaigns/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_CAMPAIGNS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenCampaignModal = () => {\n    setSelectedCampaign(null);\n    setCampaignModalOpen(true);\n  };\n\n  const handleCloseCampaignModal = () => {\n    setSelectedCampaign(null);\n    setCampaignModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditCampaign = (campaign) => {\n    setSelectedCampaign(campaign);\n    setCampaignModalOpen(true);\n  };\n\n  const handleDeleteCampaign = async (campaignId) => {\n    try {\n      await api.delete(`/campaigns/${campaignId}`);\n      toast.success(i18n.t(\"campaigns.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingCampaign(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const formatStatus = (val) => {\n    switch (val) {\n      case \"INATIVA\":\n        return \"Inativa\";\n      case \"PROGRAMADA\":\n        return \"Programada\";\n      case \"EM_ANDAMENTO\":\n        return \"Em Andamento\";\n      case \"CANCELADA\":\n        return \"Cancelada\";\n      case \"FINALIZADA\":\n        return \"Finalizada\";\n      default:\n        return val;\n    }\n  };\n\n  const cancelCampaign = async (campaign) => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/cancel`);\n      toast.success(i18n.t(\"campaigns.toasts.cancel\"));\n      setPageNumber(1);\n      fetchCampaigns();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  const restartCampaign = async (campaign) => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/restart`);\n      toast.success(i18n.t(\"campaigns.toasts.restart\"));\n      setPageNumber(1);\n      fetchCampaigns();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingCampaign &&\n          `${i18n.t(\"campaigns.confirmationModal.deleteTitle\")} ${\n            deletingCampaign.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteCampaign(deletingCampaign.id)}\n      >\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <CampaignModal\n        resetPagination={() => {\n          setPageNumber(1);\n          fetchCampaigns();\n        }}\n        open={campaignModalOpen}\n        onClose={handleCloseCampaignModal}\n        aria-labelledby=\"form-dialog-title\"\n        campaignId={selectedCampaign && selectedCampaign.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"campaigns.title\")}</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={6} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"campaigns.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={6} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  onClick={handleOpenCampaignModal}\n                  color=\"primary\"\n                >\n                  {i18n.t(\"campaigns.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.name\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.status\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.contactList\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.whatsapp\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.scheduledAt\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.completedAt\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.confirmation\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {campaigns.map((campaign) => (\n                <TableRow key={campaign.id}>\n                  <TableCell align=\"center\">{campaign.name}</TableCell>\n                  <TableCell align=\"center\">\n                    {formatStatus(campaign.status)}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.contactListId\n                      ? campaign.contactList.name\n                      : \"Não definida\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.whatsappId\n                      ? campaign.whatsapp.name\n                      : \"Não definido\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.scheduledAt\n                      ? datetimeToClient(campaign.scheduledAt)\n                      : \"Sem agendamento\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.completedAt\n                      ? datetimeToClient(campaign.completedAt)\n                      : \"Não concluída\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.confirmation ? \"Habilitada\" : \"Desabilitada\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.status === \"EM_ANDAMENTO\" && (\n                      <IconButton\n                        onClick={() => cancelCampaign(campaign)}\n                        title=\"Parar Campanha\"\n                        size=\"small\"\n                      >\n                        <PauseCircleOutlineIcon />\n                      </IconButton>\n                    )}\n                    {campaign.status === \"CANCELADA\" && (\n                      <IconButton\n                        onClick={() => restartCampaign(campaign)}\n                        title=\"Parar Campanha\"\n                        size=\"small\"\n                      >\n                        <PlayCircleOutlineIcon />\n                      </IconButton>\n                    )}\n                    <IconButton\n                      onClick={() =>\n                        history.push(`/campaign/${campaign.id}/report`)\n                      }\n                      size=\"small\"\n                    >\n                      <DescriptionIcon />\n                    </IconButton>\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditCampaign(campaign)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingCampaign(campaign);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={8} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Campaigns;\n","import React, { useEffect, useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { toast } from \"react-toastify\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport api from \"../../services/api\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport {\n  Box,\n  Button,\n  FormControl,\n  Grid,\n  IconButton,\n  InputLabel,\n  MenuItem,\n  Select,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  textRight: {\n    textAlign: \"right\",\n  },\n  tabPanelsContainer: {\n    padding: theme.spacing(2),\n  },\n}));\n\nconst initialSettings = {\n  messageInterval: 20,\n  longerIntervalAfter: 20,\n  greaterInterval: 60,\n  variables: [],\n};\n\nconst CampaignsConfig = () => {\n  const classes = useStyles();\n\n  const [settings, setSettings] = useState(initialSettings);\n  const [showVariablesForm, setShowVariablesForm] = useState(false);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const [selectedKey, setSelectedKey] = useState(null);\n  const [variable, setVariable] = useState({ key: \"\", value: \"\" });\n\n  useEffect(() => {\n    api.get(\"/campaign-settings\").then(({ data }) => {\n      const settingsList = [];\n      if (Array.isArray(data) && data.length > 0) {\n        data.forEach((item) => {\n          settingsList.push([item.key, JSON.parse(item.value)]);\n        });\n        setSettings(Object.fromEntries(settingsList));\n      }\n    });\n  }, []);\n\n  const handleOnChangeVariable = (e) => {\n    if (e.target.value !== null) {\n      const changedProp = {};\n      changedProp[e.target.name] = e.target.value;\n      setVariable((prev) => ({ ...prev, ...changedProp }));\n    }\n  };\n\n  const handleOnChangeSettings = (e) => {\n    const changedProp = {};\n    changedProp[e.target.name] = e.target.value;\n    setSettings((prev) => ({ ...prev, ...changedProp }));\n  };\n\n  const addVariable = () => {\n    setSettings((prev) => {\n      const variablesExists = settings.variables.filter(\n        (v) => v.key === variable.key\n      );\n      const variables = prev.variables;\n      if (variablesExists.length === 0) {\n        variables.push(Object.assign({}, variable));\n        setVariable({ key: \"\", value: \"\" });\n      }\n      return { ...prev, variables };\n    });\n  };\n\n  const removeVariable = () => {\n    const newList = settings.variables.filter((v) => v.key !== selectedKey);\n    setSettings((prev) => ({ ...prev, variables: newList }));\n    setSelectedKey(null);\n  };\n\n  const saveSettings = async () => {\n    await api.post(\"/campaign-settings\", { settings });\n    toast.success(\"Configurações salvas\");\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={i18n.t(\"campaigns.confirmationModal.deleteTitle\")}\n        open={confirmationOpen}\n        onClose={() => setConfirmationOpen(false)}\n        onConfirm={removeVariable}\n      >\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} item>\n            <Title>{i18n.t(\"campaignsConfig.title\")}</Title>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Box className={classes.tabPanelsContainer}>\n          <Grid spacing={2} container>\n            <Grid xs={12} item>\n              <Typography component={\"h3\"}>Intervalos</Typography>\n            </Grid>\n            <Grid xs={12} md={4} item>\n              <FormControl\n                variant=\"outlined\"\n                className={classes.formControl}\n                fullWidth\n              >\n                <InputLabel id=\"messageInterval-label\">\n                  Intervalo Randômico de Disparo\n                </InputLabel>\n                <Select\n                  name=\"messageInterval\"\n                  id=\"messageInterval\"\n                  labelId=\"messageInterval-label\"\n                  label=\"Intervalo Randômico de Disparo\"\n                  value={settings.messageInterval}\n                  onChange={(e) => handleOnChangeSettings(e)}\n                >\n                  <MenuItem value={0}>Sem Intervalo</MenuItem>\n                  <MenuItem value={5}>5 segundos</MenuItem>\n                  <MenuItem value={10}>10 segundos</MenuItem>\n                  <MenuItem value={15}>15 segundos</MenuItem>\n                  <MenuItem value={20}>20 segundos</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid xs={12} md={4} item>\n              <FormControl\n                variant=\"outlined\"\n                className={classes.formControl}\n                fullWidth\n              >\n                <InputLabel id=\"longerIntervalAfter-label\">\n                  Intervalo Maior Após\n                </InputLabel>\n                <Select\n                  name=\"longerIntervalAfter\"\n                  id=\"longerIntervalAfter\"\n                  labelId=\"longerIntervalAfter-label\"\n                  label=\"Intervalo Maior Após\"\n                  value={settings.longerIntervalAfter}\n                  onChange={(e) => handleOnChangeSettings(e)}\n                >\n                  <MenuItem value={0}>Não definido</MenuItem>\n                  <MenuItem value={1}>1 segundo</MenuItem>\n                  <MenuItem value={5}>5 segundos</MenuItem>\n                  <MenuItem value={10}>10 segundos</MenuItem>\n                  <MenuItem value={15}>15 segundos</MenuItem>\n                  <MenuItem value={20}>20 segundos</MenuItem>\n                  <MenuItem value={30}>30 segundos</MenuItem>\n                  <MenuItem value={40}>40 segundos</MenuItem>\n                  <MenuItem value={60}>60 segundos</MenuItem>\n                  <MenuItem value={80}>80 segundos</MenuItem>\n                  <MenuItem value={100}>100 segundos</MenuItem>\n                  <MenuItem value={120}>120 segundos</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid xs={12} md={4} item>\n              <FormControl\n                variant=\"outlined\"\n                className={classes.formControl}\n                fullWidth\n              >\n                <InputLabel id=\"greaterInterval-label\">\n                  Intervalo de Disparo Maior\n                </InputLabel>\n                <Select\n                  name=\"greaterInterval\"\n                  id=\"greaterInterval\"\n                  labelId=\"greaterInterval-label\"\n                  label=\"Intervalo de Disparo Maior\"\n                  value={settings.greaterInterval}\n                  onChange={(e) => handleOnChangeSettings(e)}\n                >\n                  <MenuItem value={0}>Sem Intervalo</MenuItem>\n                  <MenuItem value={1}>1 segundo</MenuItem>\n                  <MenuItem value={5}>5 segundos</MenuItem>\n                  <MenuItem value={10}>10 segundos</MenuItem>\n                  <MenuItem value={15}>15 segundos</MenuItem>\n                  <MenuItem value={20}>20 segundos</MenuItem>\n                  <MenuItem value={30}>30 segundos</MenuItem>\n                  <MenuItem value={40}>40 segundos</MenuItem>\n                  <MenuItem value={60}>60 segundos</MenuItem>\n                  <MenuItem value={80}>80 segundos</MenuItem>\n                  <MenuItem value={100}>100 segundos</MenuItem>\n                  <MenuItem value={120}>120 segundos</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid xs={12} className={classes.textRight} item>\n              <Button\n                onClick={() => setShowVariablesForm(!showVariablesForm)}\n                color=\"primary\"\n                style={{ marginRight: 10 }}\n              >\n                Adicionar Variável\n              </Button>\n              <Button\n                onClick={saveSettings}\n                color=\"primary\"\n                variant=\"contained\"\n              >\n                Salvar Configurações\n              </Button>\n            </Grid>\n            {showVariablesForm && (\n              <>\n                <Grid xs={12} md={6} item>\n                  <TextField\n                    label=\"Atalho\"\n                    variant=\"outlined\"\n                    value={variable.key}\n                    name=\"key\"\n                    onChange={handleOnChangeVariable}\n                    fullWidth\n                  />\n                </Grid>\n                <Grid xs={12} md={6} item>\n                  <TextField\n                    label=\"Conteúdo\"\n                    variant=\"outlined\"\n                    value={variable.value}\n                    name=\"value\"\n                    onChange={handleOnChangeVariable}\n                    fullWidth\n                  />\n                </Grid>\n                <Grid xs={12} className={classes.textRight} item>\n                  <Button\n                    onClick={() => setShowVariablesForm(!showVariablesForm)}\n                    color=\"primary\"\n                    style={{ marginRight: 10 }}\n                  >\n                    Fechar\n                  </Button>\n                  <Button\n                    onClick={addVariable}\n                    color=\"primary\"\n                    variant=\"contained\"\n                  >\n                    Adicionar\n                  </Button>\n                </Grid>\n              </>\n            )}\n            {settings.variables.length > 0 && (\n              <Grid xs={12} className={classes.textRight} item>\n                <Table size=\"small\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell style={{ width: \"1%\" }}></TableCell>\n                      <TableCell>Atalho</TableCell>\n                      <TableCell>Conteúdo</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {Array.isArray(settings.variables) &&\n                      settings.variables.map((v, k) => (\n                        <TableRow key={k}>\n                          <TableCell>\n                            <IconButton\n                              size=\"small\"\n                              onClick={() => {\n                                setSelectedKey(v.key);\n                                setConfirmationOpen(true);\n                              }}\n                            >\n                              <DeleteOutlineIcon />\n                            </IconButton>\n                          </TableCell>\n                          <TableCell>{\"{\" + v.key + \"}\"}</TableCell>\n                          <TableCell>{v.value}</TableCell>\n                        </TableRow>\n                      ))}\n                  </TableBody>\n                </Table>\n              </Grid>\n            )}\n          </Grid>\n        </Box>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default CampaignsConfig;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport { Grid, LinearProgress, Typography } from \"@material-ui/core\";\nimport api from \"../../services/api\";\nimport { has, get, isNull } from \"lodash\";\nimport CardCounter from \"../../components/Dashboard/CardCounter\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport ScheduleIcon from \"@material-ui/icons/Schedule\";\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport DoneAllIcon from \"@material-ui/icons/DoneAll\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport ListAltIcon from \"@material-ui/icons/ListAlt\";\nimport { useDate } from \"../../hooks/useDate\";\n\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(2),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  textRight: {\n    textAlign: \"right\",\n  },\n  tabPanelsContainer: {\n    padding: theme.spacing(2),\n  },\n}));\n\nconst CampaignReport = () => {\n  const classes = useStyles();\n\n  const { campaignId } = useParams();\n\n  const [campaign, setCampaign] = useState({});\n  const [validContacts, setValidContacts] = useState(0);\n  const [delivered, setDelivered] = useState(0);\n  const [confirmationRequested, setConfirmationRequested] = useState(0);\n  const [confirmed, setConfirmed] = useState(0);\n  const [percent, setPercent] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const mounted = useRef(true);\n\n  const { datetimeToClient } = useDate();\n\n  useEffect(() => {\n    if (mounted.current) {\n      findCampaign();\n    }\n\n    return () => {\n      mounted.current = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (mounted.current && has(campaign, \"shipping\")) {\n      if (has(campaign, \"contactList\")) {\n        const contactList = get(campaign, \"contactList\");\n        const valids = contactList.contacts.filter((c) => c.isWhatsappValid);\n        setValidContacts(valids.length);\n      }\n\n      if (has(campaign, \"shipping\")) {\n        const contacts = get(campaign, \"shipping\");\n        const delivered = contacts.filter((c) => !isNull(c.deliveredAt));\n        const confirmationRequested = contacts.filter(\n          (c) => !isNull(c.confirmationRequestedAt)\n        );\n        const confirmed = contacts.filter(\n          (c) => !isNull(c.deliveredAt) && !isNull(c.confirmationRequestedAt)\n        );\n        setDelivered(delivered.length);\n        setConfirmationRequested(confirmationRequested.length);\n        setConfirmed(confirmed.length);\n        setDelivered(delivered.length);\n      }\n    }\n  }, [campaign]);\n\n  useEffect(() => {\n    setPercent((delivered / validContacts) * 100);\n  }, [delivered, validContacts]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-campaign`, (data) => {\n     \n      if (data.record.id === +campaignId) {\n        setCampaign(data.record);\n\n        if (data.record.status === \"FINALIZADA\") {\n          setTimeout(() => {\n            findCampaign();\n          }, 5000);\n        }\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [campaignId]);\n\n  const findCampaign = async () => {\n    setLoading(true);\n    const { data } = await api.get(`/campaigns/${campaignId}`);\n    setCampaign(data);\n    setLoading(false);\n  };\n\n  const formatStatus = (val) => {\n    switch (val) {\n      case \"INATIVA\":\n        return \"Inativa\";\n      case \"PROGRAMADA\":\n        return \"Programada\";\n      case \"EM_ANDAMENTO\":\n        return \"Em Andamento\";\n      case \"CANCELADA\":\n        return \"Cancelada\";\n      case \"FINALIZADA\":\n        return \"Finalizada\";\n      default:\n        return val;\n    }\n  };\n\n  return (\n    <MainContainer>\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} item>\n            <Title>Relatório da {campaign.name || \"Campanha\"}</Title>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Typography variant=\"h6\" component=\"h2\">\n          Status: {formatStatus(campaign.status)} {delivered} de {validContacts}\n        </Typography>\n        <Grid spacing={2} container>\n          <Grid xs={12} item>\n            <LinearProgress\n              variant=\"determinate\"\n              style={{ height: 15, borderRadius: 3, margin: \"20px 0\" }}\n              value={percent}\n            />\n          </Grid>\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<GroupIcon fontSize=\"inherit\" />}\n              title=\"Contatos Válidos\"\n              value={validContacts}\n              loading={loading}\n            />\n          </Grid>\n          {campaign.confirmation && (\n            <>\n              <Grid xs={12} md={4} item>\n                <CardCounter\n                  icon={<DoneIcon fontSize=\"inherit\" />}\n                  title=\"Confirmações Solicitadas\"\n                  value={confirmationRequested}\n                  loading={loading}\n                />\n              </Grid>\n              <Grid xs={12} md={4} item>\n                <CardCounter\n                  icon={<DoneAllIcon fontSize=\"inherit\" />}\n                  title=\"Confirmações\"\n                  value={confirmed}\n                  loading={loading}\n                />\n              </Grid>\n            </>\n          )}\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<CheckCircleIcon fontSize=\"inherit\" />}\n              title=\"Entregues\"\n              value={delivered}\n              loading={loading}\n            />\n          </Grid>\n          {campaign.whatsappId && (\n            <Grid xs={12} md={4} item>\n              <CardCounter\n                icon={<WhatsAppIcon fontSize=\"inherit\" />}\n                title=\"Conexão\"\n                value={campaign.whatsapp.name}\n                loading={loading}\n              />\n            </Grid>\n          )}\n          {campaign.contactListId && (\n            <Grid xs={12} md={4} item>\n              <CardCounter\n                icon={<ListAltIcon fontSize=\"inherit\" />}\n                title=\"Lista de Contatos\"\n                value={campaign.contactList.name}\n                loading={loading}\n              />\n            </Grid>\n          )}\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<ScheduleIcon fontSize=\"inherit\" />}\n              title=\"Agendamento\"\n              value={datetimeToClient(campaign.scheduledAt)}\n              loading={loading}\n            />\n          </Grid>\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<EventAvailableIcon fontSize=\"inherit\" />}\n              title=\"Conclusão\"\n              value={datetimeToClient(campaign.completedAt)}\n              loading={loading}\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default CampaignReport;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { head } from \"lodash\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport {\n  FormControl,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Select,\n} from \"@material-ui/core\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  colorAdorment: {\n    width: 20,\n    height: 20,\n  },\n}));\n\nconst AnnouncementSchema = Yup.object().shape({\n  title: Yup.string().required(\"Obrigatório\"),\n  text: Yup.string().required(\"Obrigatório\"),\n});\n\nconst AnnouncementModal = ({ open, onClose, announcementId, reload }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    title: \"\",\n    text: \"\",\n    priority: 3,\n    status: true,\n  };\n\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const [announcement, setAnnouncement] = useState(initialState);\n  const [attachment, setAttachment] = useState(null);\n  const attachmentFile = useRef(null);\n\n  useEffect(() => {\n    try {\n      (async () => {\n        if (!announcementId) return;\n\n        const { data } = await api.get(`/announcements/${announcementId}`);\n        setAnnouncement((prevState) => {\n          return { ...prevState, ...data };\n        });\n      })();\n    } catch (err) {\n      toastError(err);\n    }\n  }, [announcementId, open]);\n\n  const handleClose = () => {\n    setAnnouncement(initialState);\n    setAttachment(null);\n    onClose();\n  };\n\n  const handleAttachmentFile = (e) => {\n    const file = head(e.target.files);\n    if (file) {\n      setAttachment(file);\n    }\n  };\n\n  const handleSaveAnnouncement = async (values) => {\n    const announcementData = { ...values };\n    try {\n      if (announcementId) {\n        await api.put(`/announcements/${announcementId}`, announcementData);\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(\n            `/announcements/${announcementId}/media-upload`,\n            formData\n          );\n        }\n      } else {\n        const { data } = await api.post(\"/announcements\", announcementData);\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/announcements/${data.id}/media-upload`, formData);\n        }\n      }\n      toast.success(i18n.t(\"announcements.toasts.success\"));\n      if (typeof reload == \"function\") {\n        reload();\n      }\n    } catch (err) {\n      toastError(err);\n    }\n    handleClose();\n  };\n\n  const deleteMedia = async () => {\n    if (attachment) {\n      setAttachment(null);\n      attachmentFile.current.value = null;\n    }\n\n    if (announcement.mediaPath) {\n      await api.delete(`/announcements/${announcement.id}/media-upload`);\n      setAnnouncement((prev) => ({\n        ...prev,\n        mediaPath: null,\n      }));\n      toast.success(i18n.t(\"announcements.toasts.deleted\"));\n      if (typeof reload == \"function\") {\n        reload();\n      }\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <ConfirmationModal\n        title={i18n.t(\"announcements.confirmationModal.deleteTitle\")}\n        open={confirmationOpen}\n        onClose={() => setConfirmationOpen(false)}\n        onConfirm={deleteMedia}\n      >\n        {i18n.t(\"announcements.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"xs\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {announcementId\n            ? `${i18n.t(\"announcements.dialog.edit\")}`\n            : `${i18n.t(\"announcements.dialog.add\")}`}\n        </DialogTitle>\n        <div style={{ display: \"none\" }}>\n          <input\n            type=\"file\"\n            accept=\".png,.jpg,.jpeg\"\n            ref={attachmentFile}\n            onChange={(e) => handleAttachmentFile(e)}\n          />\n        </div>\n        <Formik\n          initialValues={announcement}\n          enableReinitialize={true}\n          validationSchema={AnnouncementSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveAnnouncement(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting, values }) => (\n            <Form>\n              <DialogContent dividers>\n                <Grid spacing={2} container>\n                  <Grid xs={12} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"announcements.dialog.form.title\")}\n                      name=\"title\"\n                      error={touched.title && Boolean(errors.title)}\n                      helperText={touched.title && errors.title}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                    />\n                  </Grid>\n                  <Grid xs={12} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"announcements.dialog.form.text\")}\n                      name=\"text\"\n                      error={touched.text && Boolean(errors.text)}\n                      helperText={touched.text && errors.text}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      multiline={true}\n                      rows={7}\n                      fullWidth\n                    />\n                  </Grid>\n                  <Grid xs={12} item>\n                    <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\n                      <InputLabel id=\"status-selection-label\">\n                        {i18n.t(\"announcements.dialog.form.status\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"announcements.dialog.form.status\")}\n                        placeholder={i18n.t(\"announcements.dialog.form.status\")}\n                        labelId=\"status-selection-label\"\n                        id=\"status\"\n                        name=\"status\"\n                        error={touched.status && Boolean(errors.status)}\n                      >\n                        <MenuItem value={true}>Ativo</MenuItem>\n                        <MenuItem value={false}>Inativo</MenuItem>\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} item>\n                    <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\n                      <InputLabel id=\"priority-selection-label\">\n                        {i18n.t(\"announcements.dialog.form.priority\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"announcements.dialog.form.priority\")}\n                        placeholder={i18n.t(\n                          \"announcements.dialog.form.priority\"\n                        )}\n                        labelId=\"priority-selection-label\"\n                        id=\"priority\"\n                        name=\"priority\"\n                        error={touched.priority && Boolean(errors.priority)}\n                      >\n                        <MenuItem value={1}>Alta</MenuItem>\n                        <MenuItem value={2}>Média</MenuItem>\n                        <MenuItem value={3}>Baixa</MenuItem>\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  {(announcement.mediaPath || attachment) && (\n                    <Grid xs={12} item>\n                      <Button startIcon={<AttachFileIcon />}>\n                        {attachment ? attachment.name : announcement.mediaName}\n                      </Button>\n                      <IconButton\n                        onClick={() => setConfirmationOpen(true)}\n                        color=\"secondary\"\n                      >\n                        <DeleteOutlineIcon />\n                      </IconButton>\n                    </Grid>\n                  )}\n                </Grid>\n              </DialogContent>\n              <DialogActions>\n                {!attachment && !announcement.mediaPath && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => attachmentFile.current.click()}\n                    disabled={isSubmitting}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"announcements.dialog.buttons.attach\")}\n                  </Button>\n                )}\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"announcements.dialog.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {announcementId\n                    ? `${i18n.t(\"announcements.dialog.buttons.add\")}`\n                    : `${i18n.t(\"announcements.dialog.buttons.edit\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default AnnouncementModal;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport AnnouncementModal from \"../../components/AnnouncementModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\nimport { isArray } from \"lodash\";\nimport { socketConnection } from \"../../services/socket\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_ANNOUNCEMENTS\") {\n    const announcements = action.payload;\n    const newAnnouncements = [];\n\n    if (isArray(announcements)) {\n      announcements.forEach((announcement) => {\n        const announcementIndex = state.findIndex(\n          (u) => u.id === announcement.id\n        );\n        if (announcementIndex !== -1) {\n          state[announcementIndex] = announcement;\n        } else {\n          newAnnouncements.push(announcement);\n        }\n      });\n    }\n\n    return [...state, ...newAnnouncements];\n  }\n\n  if (action.type === \"UPDATE_ANNOUNCEMENTS\") {\n    const announcement = action.payload;\n    const announcementIndex = state.findIndex((u) => u.id === announcement.id);\n\n    if (announcementIndex !== -1) {\n      state[announcementIndex] = announcement;\n      return [...state];\n    } else {\n      return [announcement, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_ANNOUNCEMENT\") {\n    const announcementId = action.payload;\n\n    const announcementIndex = state.findIndex((u) => u.id === announcementId);\n    if (announcementIndex !== -1) {\n      state.splice(announcementIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    // padding: theme.spacing(1),\n    padding: theme.padding,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Announcements = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedAnnouncement, setSelectedAnnouncement] = useState(null);\n  const [deletingAnnouncement, setDeletingAnnouncement] = useState(null);\n  const [announcementModalOpen, setAnnouncementModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [announcements, dispatch] = useReducer(reducer, []);\n\n  // trava para nao acessar pagina que não pode  \n  useEffect(() => {\n    async function fetchData() {\n      if (!user.super) {\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchAnnouncements();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = user.companyId;\n    const socket = socketConnection({ companyId, userId: user.id });\n\n    socket.on(`company-announcement`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_ANNOUNCEMENTS\", payload: data.record });\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_ANNOUNCEMENT\", payload: +data.id });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const fetchAnnouncements = async () => {\n    try {\n      const { data } = await api.get(\"/announcements/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_ANNOUNCEMENTS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenAnnouncementModal = () => {\n    setSelectedAnnouncement(null);\n    setAnnouncementModalOpen(true);\n  };\n\n  const handleCloseAnnouncementModal = () => {\n    setSelectedAnnouncement(null);\n    setAnnouncementModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditAnnouncement = (announcement) => {\n    setSelectedAnnouncement(announcement);\n    setAnnouncementModalOpen(true);\n  };\n\n  const handleDeleteAnnouncement = async (announcement) => {\n    try {\n      if (announcement.mediaName)\n      await api.delete(`/announcements/${announcement.id}/media-upload`);\n\n      await api.delete(`/announcements/${announcement.id}`);\n      \n      toast.success(i18n.t(\"announcements.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingAnnouncement(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const translatePriority = (val) => {\n    if (val === 1) {\n      return \"Alta\";\n    }\n    if (val === 2) {\n      return \"Média\";\n    }\n    if (val === 3) {\n      return \"Baixa\";\n    }\n  };\n\n  return (\n    <MainContainer >\n      <ConfirmationModal\n        title={\n          deletingAnnouncement &&\n          `${i18n.t(\"announcements.confirmationModal.deleteTitle\")} ${deletingAnnouncement.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteAnnouncement(deletingAnnouncement)}\n      >\n        {i18n.t(\"announcements.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <AnnouncementModal\n        resetPagination={() => {\n          setPageNumber(1);\n          fetchAnnouncements();\n        }}\n        open={announcementModalOpen}\n        onClose={handleCloseAnnouncementModal}\n        aria-labelledby=\"form-dialog-title\"\n        announcementId={selectedAnnouncement && selectedAnnouncement.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"announcements.title\")} ({announcements.length})</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={6} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"announcements.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={6} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  onClick={handleOpenAnnouncementModal}\n                  color=\"primary\"\n                >\n                  {i18n.t(\"announcements.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.title\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.priority\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.mediaName\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.status\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {announcements.map((announcement) => (\n                <TableRow key={announcement.id}>\n                  <TableCell align=\"center\">{announcement.title}</TableCell>\n                  <TableCell align=\"center\">\n                    {translatePriority(announcement.priority)}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {announcement.mediaName ?? i18n.t(\"quickMessages.noAttachment\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {announcement.status ? i18n.t(\"announcements.active\") : i18n.t(\"announcements.inactive\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditAnnouncement(announcement)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingAnnouncement(announcement);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={5} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer >\n  )\n};\n\nexport default Announcements;","import React, { useContext, useState } from \"react\";\nimport {\n  Chip,\n  IconButton,\n  List,\n  ListItem,\n  ListItemSecondaryAction,\n  ListItemText,\n  makeStyles,\n} from \"@material-ui/core\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useDate } from \"../../hooks/useDate\";\n\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    height: \"calc(100% - 58px)\",\n    overflow: \"hidden\",\n    borderRadius: 0,\n    backgroundColor: theme.palette.boxlist, //DARK MODE PLW DESIGN//\n  },\n  chatList: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  listItem: {\n    cursor: \"pointer\",\n  },\n}));\n\nexport default function ChatList({\n  chats,\n  handleSelectChat,\n  handleDeleteChat,\n  handleEditChat,\n  pageInfo,\n  loading,\n}) {\n  const classes = useStyles();\n  const history = useHistory();\n  const { user } = useContext(AuthContext);\n  const { datetimeToClient } = useDate();\n\n  const [confirmationModal, setConfirmModalOpen] = useState(false);\n  const [selectedChat, setSelectedChat] = useState({});\n\n  const { id } = useParams();\n\n  const goToMessages = async (chat) => {\n    if (unreadMessages(chat) > 0) {\n      try {\n        await api.post(`/chats/${chat.id}/read`, { userId: user.id });\n      } catch (err) {}\n    }\n\n    if (id !== chat.uuid) {\n      history.push(`/chats/${chat.uuid}`);\n      handleSelectChat(chat);\n    }\n  };\n\n  const handleDelete = () => {\n    handleDeleteChat(selectedChat);\n  };\n\n  const unreadMessages = (chat) => {\n    const currentUser = chat.users.find((u) => u.userId === user.id);\n    return currentUser.unreads;\n  };\n\n  const getPrimaryText = (chat) => {\n    const mainText = chat.title;\n    const unreads = unreadMessages(chat);\n    return (\n      <>\n        {mainText}\n        {unreads > 0 && (\n          <Chip\n            size=\"small\"\n            style={{ marginLeft: 5 }}\n            label={unreads}\n            color=\"secondary\"\n          />\n        )}\n      </>\n    );\n  };\n\n  const getSecondaryText = (chat) => {\n    return chat.lastMessage !== \"\"\n      ? `${datetimeToClient(chat.updatedAt)}: ${chat.lastMessage}`\n      : \"\";\n  };\n\n  const getItemStyle = (chat) => {\n    return {\n      borderLeft: chat.uuid === id ? \"6px solid #002d6e\" : null,\n      backgroundColor: chat.uuid === id ? \"theme.palette.chatlist\" : null,\n    };\n  };\n\n  return (\n    <>\n      <ConfirmationModal\n        title={\"Excluir Conversa\"}\n        open={confirmationModal}\n        onClose={setConfirmModalOpen}\n        onConfirm={handleDelete}\n      >\n        Esta ação não pode ser revertida, confirmar?\n      </ConfirmationModal>\n      <div className={classes.mainContainer}>\n        <div className={classes.chatList}>\n          <List>\n            {Array.isArray(chats) &&\n              chats.length > 0 &&\n              chats.map((chat, key) => (\n                <ListItem\n                  onClick={() => goToMessages(chat)}\n                  key={key}\n                  className={classes.listItem}\n                  style={getItemStyle(chat)}\n                  button\n                >\n                  <ListItemText\n                    primary={getPrimaryText(chat)}\n                    secondary={getSecondaryText(chat)}\n                  />\n                  {chat.ownerId === user.id && (\n                    <ListItemSecondaryAction>\n                      <IconButton\n                        onClick={() => {\n                          goToMessages(chat).then(() => {\n                            handleEditChat(chat);\n                          });\n                        }}\n                        edge=\"end\"\n                        aria-label=\"delete\"\n                        size=\"small\"\n                        style={{ marginRight: 5 }}\n                      >\n                        <EditIcon />\n                      </IconButton>\n                      <IconButton\n                        onClick={() => {\n                          setSelectedChat(chat);\n                          setConfirmModalOpen(true);\n                        }}\n                        edge=\"end\"\n                        aria-label=\"delete\"\n                        size=\"small\"\n                      >\n                        <DeleteIcon />\n                      </IconButton>\n                    </ListItemSecondaryAction>\n                  )}\n                </ListItem>\n              ))}\n          </List>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport {\n  Box,\n  FormControl,\n  IconButton,\n  Input,\n  InputAdornment,\n  makeStyles,\n  Paper,\n  Typography,\n} from \"@material-ui/core\";\nimport SendIcon from \"@material-ui/icons/Send\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useDate } from \"../../hooks/useDate\";\nimport api from \"../../services/api\";\nimport { green } from \"@material-ui/core/colors\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    overflow: \"hidden\",\n    borderRadius: 0,\n    height: \"100%\",\n    borderLeft: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n  messageList: {\n    position: \"relative\",\n    overflowY: \"auto\",\n    height: \"100%\",\n    ...theme.scrollbarStyles,\n    backgroundColor: theme.palette.chatlist, //DARK MODE PLW DESIGN//\n  },\n  inputArea: {\n    position: \"relative\",\n    height: \"auto\",\n  },\n  input: {\n    padding: \"20px\",\n  },\n  buttonSend: {\n    margin: theme.spacing(1),\n  },\n  boxLeft: {\n    padding: \"10px 10px 5px\",\n    margin: \"10px\",\n    position: \"relative\",\n    backgroundColor: \"blue\",\n    maxWidth: 300,\n    borderRadius: 10,\n    borderBottomLeftRadius: 0,\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n  boxRight: {\n    padding: \"10px 10px 5px\",\n    margin: \"10px 10px 10px auto\",\n    position: \"relative\",\n    backgroundColor: \"green\", //DARK MODE PLW DESIGN//\n    textAlign: \"right\",\n    maxWidth: 300,\n    borderRadius: 10,\n    borderBottomRightRadius: 0,\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n}));\n\nexport default function ChatMessages({\n  chat,\n  messages,\n  handleSendMessage,\n  handleLoadMore,\n  scrollToBottomRef,\n  pageInfo,\n  loading,\n}) {\n  const classes = useStyles();\n  const { user } = useContext(AuthContext);\n  const { datetimeToClient } = useDate();\n  const baseRef = useRef();\n\n  const [contentMessage, setContentMessage] = useState(\"\");\n\n  const scrollToBottom = () => {\n    if (baseRef.current) {\n      baseRef.current.scrollIntoView({});\n    }\n  };\n\n  const unreadMessages = (chat) => {\n    if (chat !== undefined) {\n      const currentUser = chat.users.find((u) => u.userId === user.id);\n      return currentUser.unreads > 0;\n    }\n    return 0;\n  };\n\n  useEffect(() => {\n    if (unreadMessages(chat) > 0) {\n      try {\n        api.post(`/chats/${chat.id}/read`, { userId: user.id });\n      } catch (err) {}\n    }\n    scrollToBottomRef.current = scrollToBottom;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleScroll = (e) => {\n    const { scrollTop } = e.currentTarget;\n    if (!pageInfo.hasMore || loading) return;\n    if (scrollTop < 600) {\n      handleLoadMore();\n    }\n  };\n\n  return (\n    <Paper className={classes.mainContainer}>\n      <div onScroll={handleScroll} className={classes.messageList}>\n        {Array.isArray(messages) &&\n          messages.map((item, key) => {\n            if (item.senderId === user.id) {\n              return (\n                <Box key={key} className={classes.boxRight}>\n                  <Typography variant=\"subtitle2\">\n                    {item.sender.name}\n                  </Typography>\n                  {item.message}\n                  <Typography variant=\"caption\" display=\"block\">\n                    {datetimeToClient(item.createdAt)}\n                  </Typography>\n                </Box>\n              );\n            } else {\n              return (\n                <Box key={key} className={classes.boxLeft}>\n                  <Typography variant=\"subtitle2\">\n                    {item.sender.name}\n                  </Typography>\n                  {item.message}\n                  <Typography variant=\"caption\" display=\"block\">\n                    {datetimeToClient(item.createdAt)}\n                  </Typography>\n                </Box>\n              );\n            }\n          })}\n        <div ref={baseRef}></div>\n      </div>\n      <div className={classes.inputArea}>\n        <FormControl variant=\"outlined\" fullWidth>\n          <Input\n            multiline\n            value={contentMessage}\n            onKeyUp={(e) => {\n              if (e.key === \"Enter\" && contentMessage.trim() !== \"\") {\n                handleSendMessage(contentMessage);\n                setContentMessage(\"\");\n              }\n            }}\n            onChange={(e) => setContentMessage(e.target.value)}\n            className={classes.input}\n            endAdornment={\n              <InputAdornment position=\"end\">\n                <IconButton\n                  onClick={() => {\n                    if (contentMessage.trim() !== \"\") {\n                      handleSendMessage(contentMessage);\n                      setContentMessage(\"\");\n                    }\n                  }}\n                  className={classes.buttonSend}\n                >\n                  <SendIcon />\n                </IconButton>\n              </InputAdornment>\n            }\n          />\n        </FormControl>\n      </div>\n    </Paper>\n  );\n}\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Grid,\n  makeStyles,\n  Paper,\n  Tab,\n  Tabs,\n  TextField,\n} from \"@material-ui/core\";\nimport ChatList from \"./ChatList\";\nimport ChatMessages from \"./ChatMessages\";\nimport { UsersFilter } from \"../../components/UsersFilter\";\nimport api from \"../../services/api\";\nimport { socketConnection } from \"../../services/socket\";\n\nimport { has, isObject } from \"lodash\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    padding: theme.spacing(2),\n    height: `calc(100% - 48px)`,\n    overflowY: \"hidden\",\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n  gridContainer: {\n    flex: 1,\n    height: \"100%\",\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n    backgroundColor: theme.palette.dark,\n  },\n  gridItem: {\n    height: \"100%\",\n  },\n  gridItemTab: {\n    height: \"92%\",\n    width: \"100%\",\n  },\n  btnContainer: {\n    textAlign: \"right\",\n    padding: 10,\n  },\n}));\n\nexport function ChatModal({\n  open,\n  chat,\n  type,\n  handleClose,\n  handleLoadNewChat,\n}) {\n  const [users, setUsers] = useState([]);\n  const [title, setTitle] = useState(\"\");\n\n  useEffect(() => {\n    setTitle(\"\");\n    setUsers([]);\n    if (type === \"edit\") {\n      const userList = chat.users.map((u) => ({\n        id: u.user.id,\n        name: u.user.name,\n      }));\n      setUsers(userList);\n      setTitle(chat.title);\n    }\n  }, [chat, open, type]);\n\n  const handleSave = async () => {\n    try {\n      if (!title) {\n        alert(\"Por favor, preencha o título da conversa.\");\n        return;\n      }\n\n      if (!users || users.length === 0) {\n        alert(\"Por favor, selecione pelo menos um usuário.\");\n        return;\n      }\n\n      if (type === \"edit\") {\n        await api.put(`/chats/${chat.id}`, {\n          users,\n          title,\n        });\n      } else {\n        const { data } = await api.post(\"/chats\", {\n          users,\n          title,\n        });\n        handleLoadNewChat(data);\n      }\n      handleClose();\n    } catch (err) {}\n  };  \n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">Conversa</DialogTitle>\n      <DialogContent>\n        <Grid spacing={2} container>\n          <Grid xs={12} style={{ padding: 18 }} item>\n            <TextField\n              label=\"Título\"\n              placeholder=\"Título\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n            />\n          </Grid>\n          <Grid xs={12} item>\n            <UsersFilter\n              onFiltered={(users) => setUsers(users)}\n              initialUsers={users}\n            />\n          </Grid>\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          Fechar\n        </Button>\n        <Button onClick={handleSave} color=\"primary\" variant=\"contained\">\n          Salvar\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nfunction Chat(props) {\n  const classes = useStyles();\n  const { user } = useContext(AuthContext);\n  const history = useHistory();\n\n  const [showDialog, setShowDialog] = useState(false);\n  const [dialogType, setDialogType] = useState(\"new\");\n  const [currentChat, setCurrentChat] = useState({});\n  const [chats, setChats] = useState([]);\n  const [chatsPageInfo, setChatsPageInfo] = useState({ hasMore: false });\n  const [messages, setMessages] = useState([]);\n  const [messagesPageInfo, setMessagesPageInfo] = useState({ hasMore: false });\n  const [messagesPage, setMessagesPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [tab, setTab] = useState(0);\n  const isMounted = useRef(true);\n  const scrollToBottomRef = useRef();\n  const { id } = useParams();\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isMounted.current) {\n      findChats().then((data) => {\n        const { records } = data;\n        if (records.length > 0) {\n          setChats(records);\n          setChatsPageInfo(data);\n\n          if (id && records.length) {\n            const chat = records.find((r) => r.uuid === id);\n            selectChat(chat);\n          }\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (isObject(currentChat) && has(currentChat, \"id\")) {\n      findMessages(currentChat.id).then(() => {\n        if (typeof scrollToBottomRef.current === \"function\") {\n          setTimeout(() => {\n            scrollToBottomRef.current();\n          }, 300);\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentChat]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-chat-user-${user.id}`, (data) => {\n      if (data.action === \"create\") {\n        setChats((prev) => [data.record, ...prev]);\n      }\n      if (data.action === \"update\") {\n        const changedChats = chats.map((chat) => {\n          if (chat.id === data.record.id) {\n            setCurrentChat(data.record);\n            return {\n              ...data.record,\n            };\n          }\n          return chat;\n        });\n        setChats(changedChats);\n      }\n    });\n\n    socket.on(`company-${companyId}-chat`, (data) => {\n      if (data.action === \"delete\") {\n        const filteredChats = chats.filter((c) => c.id !== +data.id);\n        setChats(filteredChats);\n        setMessages([]);\n        setMessagesPage(1);\n        setMessagesPageInfo({ hasMore: false });\n        setCurrentChat({});\n        history.push(\"/chats\");\n      }\n    });\n\n    if (isObject(currentChat) && has(currentChat, \"id\")) {\n      socket.on(`company-${companyId}-chat-${currentChat.id}`, (data) => {\n        if (data.action === \"new-message\") {\n          setMessages((prev) => [...prev, data.newMessage]);\n          const changedChats = chats.map((chat) => {\n            if (chat.id === data.newMessage.chatId) {\n              return {\n                ...data.chat,\n              };\n            }\n            return chat;\n          });\n          setChats(changedChats);\n          scrollToBottomRef.current();\n        }\n\n        if (data.action === \"update\") {\n          const changedChats = chats.map((chat) => {\n            if (chat.id === data.chat.id) {\n              return {\n                ...data.chat,\n              };\n            }\n            return chat;\n          });\n          setChats(changedChats);\n          scrollToBottomRef.current();\n        }\n      });\n    }\n\n    return () => {\n      socket.disconnect();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentChat]);\n\n  const selectChat = (chat) => {\n    try {\n      setMessages([]);\n      setMessagesPage(1);\n      setCurrentChat(chat);\n      setTab(1);\n    } catch (err) {}\n  };\n\n  const sendMessage = async (contentMessage) => {\n    setLoading(true);\n    try {\n      await api.post(`/chats/${currentChat.id}/messages`, {\n        message: contentMessage,\n      });\n    } catch (err) {}\n    setLoading(false);\n  };\n\n  const deleteChat = async (chat) => {\n    try {\n      await api.delete(`/chats/${chat.id}`);\n    } catch (err) {}\n  };\n\n  const findMessages = async (chatId) => {\n    setLoading(true);\n    try {\n      const { data } = await api.get(\n        `/chats/${chatId}/messages?pageNumber=${messagesPage}`\n      );\n      setMessagesPage((prev) => prev + 1);\n      setMessagesPageInfo(data);\n      setMessages((prev) => [...data.records, ...prev]);\n    } catch (err) {}\n    setLoading(false);\n  };\n\n  const loadMoreMessages = async () => {\n    if (!loading) {\n      findMessages(currentChat.id);\n    }\n  };\n\n  const findChats = async () => {\n    try {\n      const { data } = await api.get(\"/chats\");\n      return data;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const renderGrid = () => {\n    return (\n      <Grid className={classes.gridContainer} container>\n        <Grid className={classes.gridItem} md={3} item>\n          \n            <div className={classes.btnContainer}>\n              <Button\n                onClick={() => {\n                  setDialogType(\"new\");\n                  setShowDialog(true);\n                }}\n                color=\"primary\"\n                variant=\"contained\"\n              >\n                Nova\n              </Button>\n            </div>\n          \n          <ChatList\n            chats={chats}\n            pageInfo={chatsPageInfo}\n            loading={loading}\n            handleSelectChat={(chat) => selectChat(chat)}\n            handleDeleteChat={(chat) => deleteChat(chat)}\n            handleEditChat={() => {\n              setDialogType(\"edit\");\n              setShowDialog(true);\n            }}\n          />\n        </Grid>\n        <Grid className={classes.gridItem} md={9} item>\n          {isObject(currentChat) && has(currentChat, \"id\") && (\n            <ChatMessages\n              chat={currentChat}\n              scrollToBottomRef={scrollToBottomRef}\n              pageInfo={messagesPageInfo}\n              messages={messages}\n              loading={loading}\n              handleSendMessage={sendMessage}\n              handleLoadMore={loadMoreMessages}\n            />\n          )}\n        </Grid>\n      </Grid>\n    );\n  };\n\n  const renderTab = () => {\n    return (\n      <Grid className={classes.gridContainer} container>\n        <Grid md={12} item>\n          <Tabs\n            value={tab}\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            onChange={(e, v) => setTab(v)}\n            aria-label=\"disabled tabs example\"\n          >\n            <Tab label=\"Chats\" />\n            <Tab label=\"Mensagens\" />\n          </Tabs>\n        </Grid>\n        {tab === 0 && (\n          <Grid className={classes.gridItemTab} md={12} item>\n            <div className={classes.btnContainer}>\n              <Button\n                onClick={() => setShowDialog(true)}\n                color=\"primary\"\n                variant=\"contained\"\n              >\n                Novo\n              </Button>\n            </div>\n            <ChatList\n              chats={chats}\n              pageInfo={chatsPageInfo}\n              loading={loading}\n              handleSelectChat={(chat) => selectChat(chat)}\n              handleDeleteChat={(chat) => deleteChat(chat)}\n            />\n          </Grid>\n        )}\n        {tab === 1 && (\n          <Grid className={classes.gridItemTab} md={12} item>\n            {isObject(currentChat) && has(currentChat, \"id\") && (\n              <ChatMessages\n                scrollToBottomRef={scrollToBottomRef}\n                pageInfo={messagesPageInfo}\n                messages={messages}\n                loading={loading}\n                handleSendMessage={sendMessage}\n                handleLoadMore={loadMoreMessages}\n              />\n            )}\n          </Grid>\n        )}\n      </Grid>\n    );\n  };\n\n  return (\n    <>\n      <ChatModal\n        type={dialogType}\n        open={showDialog}\n        chat={currentChat}\n        handleLoadNewChat={(data) => {\n          setMessages([]);\n          setMessagesPage(1);\n          setCurrentChat(data);\n          setTab(1);\n          history.push(`/chats/${data.uuid}`);\n        }}\n        handleClose={() => setShowDialog(false)}\n      />\n      <Paper className={classes.mainContainer}>\n        {isWidthUp(\"md\", props.width) ? renderGrid() : renderTab()}\n      </Paper>\n    </>\n  );\n}\n\nexport default withWidth()(Chat);\n","import React, { useState, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\n\nimport SubscriptionModal from \"../../components/SubscriptionModal\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainContainer from \"../../components/MainContainer\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst _formatDate = (date) => {\n  const now = new Date();\n  const past = new Date(date);\n  const diff = Math.abs(now.getTime() - past.getTime());\n  const days = Math.ceil(diff / (1000 * 60 * 60 * 24));\n\n  return days;\n}\n\nconst Contacts = () => {\n  const classes = useStyles();\n  const { user } = useContext(AuthContext);\n\n  const [loading,] = useState(false);\n  const [, setPageNumber] = useState(1);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const [hasMore,] = useState(false);\n\n\n  const handleOpenContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(true);\n  };\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <SubscriptionModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactId={selectedContactId}\n      ></SubscriptionModal>\n\n      <MainHeader>\n        <Title>Assinatura</Title>\n      </MainHeader>\n      <Grid item xs={12} sm={4}>\n        <Paper\n          className={classes.mainPaper}\n          variant=\"outlined\"\n          onScroll={handleScroll}\n        >\n\n          <div>\n            <TextField\n              id=\"outlined-full-width\"\n              label=\"Período de teste\"\n              defaultValue={`Seu período de teste termina em ${_formatDate(user?.company?.trialExpiration)} dias!`}\n              fullWidth\n              margin=\"normal\"\n              InputLabelProps={{\n                shrink: true,\n              }}\n              InputProps={{\n                readOnly: true,\n              }}\n              variant=\"outlined\"\n            />\n\n          </div>\n\n          <div>\n            <TextField\n              id=\"outlined-full-width\"\n              label=\"Email de cobrança\"\n              defaultValue={user?.company?.email}\n              fullWidth\n              margin=\"normal\"\n              InputLabelProps={{\n                shrink: true,\n              }}\n              InputProps={{\n                readOnly: true,\n              }}\n              variant=\"outlined\"\n            />\n\n          </div>\n\n          <div>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleOpenContactModal}\n              fullWidth\n            >\n              Assine Agora!\n            </Button>\n          </div>\n\n        </Paper>\n      </Grid>\n    </MainContainer>\n  );\n};\n\nexport default Contacts;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport {\n    Formik,\n    Form,\n    Field,\n    FieldArray\n} from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n    Box,\n    Button,\n    CircularProgress,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Divider,\n    Grid,\n    makeStyles,\n    TextField\n} from \"@material-ui/core\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\n\nimport { green } from \"@material-ui/core/colors\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        gap: 4\n    },\n    multFieldLine: {\n        display: \"flex\",\n        \"& > *:not(:last-child)\": {\n            marginRight: theme.spacing(1),\n        },\n    },\n    textField: {\n        marginRight: theme.spacing(1),\n        flex: 1,\n    },\n\n    extraAttr: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n\n    btnWrapper: {\n        position: \"relative\",\n    },\n\n    buttonProgress: {\n        color: green[500],\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 2000,\n    },\n    colorAdorment: {\n        width: 20,\n        height: 20,\n    },\n}));\n\nconst FileListSchema = Yup.object().shape({\n    name: Yup.string()\n        .min(3, \"nome muito curto\")\n        .required(\"Obrigatório\"),\n    message: Yup.string()\n        .required(\"Obrigatório\")\n});\n\nconst FilesModal = ({ open, onClose, fileListId, reload }) => {\n    const classes = useStyles();\n    const { user } = useContext(AuthContext);\n    const [ files, setFiles ] = useState([]);\n    const [selectedFileNames, setSelectedFileNames] = useState([]);\n\n\n    const initialState = {\n        name: \"\",\n        message: \"\",\n        options: [{ name: \"\", path:\"\", mediaType:\"\" }],\n    };\n\n    const [fileList, setFileList] = useState(initialState);\n\n    useEffect(() => {\n        try {\n            (async () => {\n                if (!fileListId) return;\n\n                const { data } = await api.get(`/files/${fileListId}`);\n                setFileList(data);\n            })()\n        } catch (err) {\n            toastError(err);\n        }\n    }, [fileListId, open]);\n\n    const handleClose = () => {\n        setFileList(initialState);\n        setFiles([]);\n        onClose();\n    };\n\n    const handleSaveFileList = async (values) => {\n\n        const uploadFiles = async (options, filesOptions, id) => {\n                const formData = new FormData();\n                formData.append(\"fileId\", id);\n                formData.append(\"typeArch\", \"fileList\")\n                filesOptions.forEach((fileOption, index) => {\n                    if (fileOption.file) {\n                        formData.append(\"files\", fileOption.file);\n                        formData.append(\"mediaType\", fileOption.file.type)\n                        formData.append(\"name\", options[index].name);\n                        formData.append(\"id\", options[index].id);\n                    }\n                });\n      \n              try {\n                const { data } = await api.post(`/files/uploadList/${id}`, formData);\n                setFiles([]);\n                return data;\n              } catch (err) {\n                toastError(err);\n              }\n            return null;\n        }\n\n        const fileData = { ...values, userId: user.id };\n        \n        try {\n            if (fileListId) {\n                const { data } = await api.put(`/files/${fileListId}`, fileData)\n                if (data.options.length > 0)\n\n                    uploadFiles(data.options, values.options, fileListId)\n            } else {\n                const { data } = await api.post(\"/files\", fileData);\n                if (data.options.length > 0)\n                    uploadFiles(data.options, values.options, data.id)\n            }\n            toast.success(i18n.t(\"fileModal.success\"));\n            if (typeof reload == 'function') {\n                reload();\n            }            \n        } catch (err) {\n            toastError(err);\n        }\n        handleClose();\n    };\n\n    return (\n        <div className={classes.root}>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                maxWidth=\"md\"\n                fullWidth\n                scroll=\"paper\">\n                <DialogTitle id=\"form-dialog-title\">\n                    {(fileListId ? `${i18n.t(\"fileModal.title.edit\")}` : `${i18n.t(\"fileModal.title.add\")}`)}\n                </DialogTitle>\n                <Formik\n                    initialValues={fileList}\n                    enableReinitialize={true}\n                    validationSchema={FileListSchema}\n                    onSubmit={(values, actions) => {\n                        setTimeout(() => {\n                            handleSaveFileList(values);\n                            actions.setSubmitting(false);\n                        }, 400);\n                    }}\n                >\n                    {({ touched, errors, isSubmitting, values }) => (\n                        <Form>\n                            <DialogContent dividers>\n                                <div className={classes.multFieldLine}>\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"fileModal.form.name\")}\n                                        name=\"name\"\n                                        error={touched.name && Boolean(errors.name)}\n                                        helperText={touched.name && errors.name}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                </div>\n                                <br />\n                                <div className={classes.multFieldLine}>\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"fileModal.form.message\")}\n                                        type=\"message\"\n                                        multiline\n                                        minRows={5}\n                                        fullWidth\n                                        name=\"message\"\n                                        error={\n                                            touched.message && Boolean(errors.message)\n                                        }\n                                        helperText={\n                                            touched.message && errors.message\n                                        }\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                    />\n                                </div>\n                                <Typography\n                                    style={{ marginBottom: 8, marginTop: 12 }}\n                                    variant=\"subtitle1\"\n                                >\n                                    {i18n.t(\"fileModal.form.fileOptions\")}\n                                </Typography>\n\n                                <FieldArray name=\"options\">\n                                    {({ push, remove }) => (\n                                        <>\n                                            {values.options &&\n                                                values.options.length > 0 &&\n                                                values.options.map((info, index) => (    \n                                                    <div\n                                                        className={classes.extraAttr}\n                                                        key={`${index}-info`}\n                                                    >\n                                                        <Grid container  spacing={0}>\n                                                            <Grid xs={6} md={10} item> \n                                                                <Field\n                                                                    as={TextField}\n                                                                    label={i18n.t(\"fileModal.form.extraName\")}\n                                                                    name={`options[${index}].name`}\n                                                                    variant=\"outlined\"\n                                                                    margin=\"dense\"\n                                                                    multiline\n                                                                    fullWidth\n                                                                    minRows={2}\n                                                                    className={classes.textField}\n                                                                />\n                                                            </Grid>     \n                                                            <Grid xs={2} md={2} item style={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end' }}>\n                                                                <input\n                                                                    type=\"file\"\n                                                                    onChange={(e) => {\n                                                                        const selectedFile = e.target.files[0];\n                                                                        const updatedOptions = [...values.options];                                                                \n                                                                        updatedOptions[index].file = selectedFile;\n                                                                       \n                                                                        setFiles('options', updatedOptions);\n\n                                                                        // Atualize a lista selectedFileNames para o campo específico\n                                                                        const updatedFileNames = [...selectedFileNames];\n                                                                        updatedFileNames[index] = selectedFile ? selectedFile.name : '';\n                                                                        setSelectedFileNames(updatedFileNames);\n                                                                    }}\n                                                                    style={{ display: 'none' }}\n                                                                    name={`options[${index}].file`}\n                                                                    id={`file-upload-${index}`}\n                                                                />\n                                                                <label htmlFor={`file-upload-${index}`}>\n                                                                    <IconButton component=\"span\">\n                                                                        <AttachFileIcon />\n                                                                    </IconButton>\n                                                                </label>\n                                                                <IconButton\n                                                                    size=\"small\"\n                                                                    onClick={() => remove(index)}\n                                                                >\n                                                                    <DeleteOutlineIcon />\n                                                                </IconButton>    \n                                                            </Grid>\n                                                            <Grid xs={12} md={12} item>\n                                                                {info.path? info.path : selectedFileNames[index]}                               \n                                                            </Grid> \n                                                        </Grid>                                                    \n                                                </div>                     \n                                                                                           \n                                                ))}\n                                            <div className={classes.extraAttr}>\n                                                <Button\n                                                    style={{ flex: 1, marginTop: 8 }}\n                                                    variant=\"outlined\"\n                                                    color=\"primary\"\n                                                    onClick={() => {push({ name: \"\", path: \"\"});\n                                                    setSelectedFileNames([...selectedFileNames, \"\"]);\n                                                }}\n                                                >\n                                                    {`+ ${i18n.t(\"fileModal.buttons.fileOptions\")}`}\n                                                </Button>\n                                            </div>\n                                        </>\n                                    )}\n                                </FieldArray>\n                            </DialogContent>\n                            <DialogActions>\n                                <Button\n                                    onClick={handleClose}\n                                    color=\"secondary\"\n                                    disabled={isSubmitting}\n                                    variant=\"outlined\"\n                                >\n                                    {i18n.t(\"fileModal.buttons.cancel\")}\n                                </Button>\n                                <Button\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={isSubmitting}\n                                    variant=\"contained\"\n                                    className={classes.btnWrapper}\n                                >\n                                    {fileListId\n                                        ? `${i18n.t(\"fileModal.buttons.okEdit\")}`\n                                        : `${i18n.t(\"fileModal.buttons.okAdd\")}`}\n                                    {isSubmitting && (\n                                        <CircularProgress\n                                            size={24}\n                                            className={classes.buttonProgress}\n                                        />\n                                    )}\n                                </Button>\n                            </DialogActions>\n                        </Form>\n                    )}\n                </Formik>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default FilesModal;","import React, {\n    useState,\n    useEffect,\n    useReducer,\n    useCallback,\n    useContext,\n} from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport FileModal from \"../../components/FileModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { socketConnection } from \"../../services/socket\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst reducer = (state, action) => {\n    if (action.type === \"LOAD_FILES\") {\n        const files = action.payload;\n        const newFiles = [];\n\n        files.forEach((fileList) => {\n            const fileListIndex = state.findIndex((s) => s.id === fileList.id);\n            if (fileListIndex !== -1) {\n                state[fileListIndex] = fileList;\n            } else {\n                newFiles.push(fileList);\n            }\n        });\n\n        return [...state, ...newFiles];\n    }\n\n    if (action.type === \"UPDATE_FILES\") {\n        const fileList = action.payload;\n        const fileListIndex = state.findIndex((s) => s.id === fileList.id);\n\n        if (fileListIndex !== -1) {\n            state[fileListIndex] = fileList;\n            return [...state];\n        } else {\n            return [fileList, ...state];\n        }\n    }\n\n    if (action.type === \"DELETE_TAG\") {\n        const fileListId = action.payload;\n\n        const fileListIndex = state.findIndex((s) => s.id === fileListId);\n        if (fileListIndex !== -1) {\n            state.splice(fileListIndex, 1);\n        }\n        return [...state];\n    }\n\n    if (action.type === \"RESET\") {\n        return [];\n    }\n};\n\nconst useStyles = makeStyles((theme) => ({\n    mainPaper: {\n        flex: 1,\n        padding: theme.spacing(1),\n        overflowY: \"scroll\",\n        ...theme.scrollbarStyles,\n    },\n}));\n\nconst FileLists = () => {\n    const classes = useStyles();\n\n    const { user } = useContext(AuthContext);\n\n    const [loading, setLoading] = useState(false);\n    const [pageNumber, setPageNumber] = useState(1);\n    const [hasMore, setHasMore] = useState(false);\n    const [selectedFileList, setSelectedFileList] = useState(null);\n    const [deletingFileList, setDeletingFileList] = useState(null);\n    const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n    const [searchParam, setSearchParam] = useState(\"\");\n    const [files, dispatch] = useReducer(reducer, []);\n    const [fileListModalOpen, setFileListModalOpen] = useState(false);\n\n    const fetchFileLists = useCallback(async () => {\n        try {\n            const { data } = await api.get(\"/files/\", {\n                params: { searchParam, pageNumber },\n            });\n            dispatch({ type: \"LOAD_FILES\", payload: data.files });\n            setHasMore(data.hasMore);\n            setLoading(false);\n        } catch (err) {\n            toastError(err);\n        }\n    }, [searchParam, pageNumber]);\n\n    useEffect(() => {\n        dispatch({ type: \"RESET\" });\n        setPageNumber(1);\n    }, [searchParam]);\n\n    useEffect(() => {\n        setLoading(true);\n        const delayDebounceFn = setTimeout(() => {\n            fetchFileLists();\n        }, 500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [searchParam, pageNumber, fetchFileLists]);\n\n    useEffect(() => {\n        const socket = socketConnection({ companyId: user.companyId });\n\n        socket.on(`company-${user.companyId}-file`, (data) => {\n            if (data.action === \"update\" || data.action === \"create\") {\n                dispatch({ type: \"UPDATE_FILES\", payload: data.files });\n            }\n\n            if (data.action === \"delete\") {\n                dispatch({ type: \"DELETE_USER\", payload: +data.fileId });\n            }\n        });\n\n        return () => {\n            socket.disconnect();\n        };\n    }, [user]);\n\n    const handleOpenFileListModal = () => {\n        setSelectedFileList(null);\n        setFileListModalOpen(true);\n    };\n\n    const handleCloseFileListModal = () => {\n        setSelectedFileList(null);\n        setFileListModalOpen(false);\n    };\n\n    const handleSearch = (event) => {\n        setSearchParam(event.target.value.toLowerCase());\n    };\n\n    const handleEditFileList = (fileList) => {\n        setSelectedFileList(fileList);\n        setFileListModalOpen(true);\n    };\n\n    const handleDeleteFileList = async (fileListId) => {\n        try {\n            await api.delete(`/files/${fileListId}`);\n            toast.success(i18n.t(\"files.toasts.deleted\"));\n        } catch (err) {\n            toastError(err);\n        }\n        setDeletingFileList(null);\n        setSearchParam(\"\");\n        setPageNumber(1);\n\n        dispatch({ type: \"RESET\" });\n        setPageNumber(1);\n        await fetchFileLists();\n    };\n\n    const loadMore = () => {\n        setPageNumber((prevState) => prevState + 1);\n    };\n\n    const handleScroll = (e) => {\n        if (!hasMore || loading) return;\n        const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n        if (scrollHeight - (scrollTop + 100) < clientHeight) {\n            loadMore();\n        }\n    };\n\n    return (\n        <MainContainer>\n            <ConfirmationModal\n                title={deletingFileList && `${i18n.t(\"files.confirmationModal.deleteTitle\")}`}\n                open={confirmModalOpen}\n                onClose={setConfirmModalOpen}\n                onConfirm={() => handleDeleteFileList(deletingFileList.id)}\n            >\n                {i18n.t(\"files.confirmationModal.deleteMessage\")}\n            </ConfirmationModal>\n            <FileModal\n                open={fileListModalOpen}\n                onClose={handleCloseFileListModal}\n                reload={fetchFileLists}\n                aria-labelledby=\"form-dialog-title\"\n                fileListId={selectedFileList && selectedFileList.id}\n            />\n            <MainHeader>\n                <Title>{i18n.t(\"files.title\")} ({files.length})</Title>\n                <MainHeaderButtonsWrapper>\n                    <TextField\n                        placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n                        type=\"search\"\n                        value={searchParam}\n                        onChange={handleSearch}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    <SearchIcon style={{ color: \"gray\" }} />\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={handleOpenFileListModal}\n                    >\n                        {i18n.t(\"files.buttons.add\")}\n                    </Button>\n                </MainHeaderButtonsWrapper>\n            </MainHeader>\n            <Paper\n                className={classes.mainPaper}\n                variant=\"outlined\"\n                onScroll={handleScroll}\n            >\n                <Table size=\"small\">\n                    <TableHead>\n                        <TableRow>\n                            <TableCell align=\"center\">{i18n.t(\"files.table.name\")}</TableCell>\n                            <TableCell align=\"center\">\n                                {i18n.t(\"files.table.actions\")}\n                            </TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        <>\n                            {files.map((fileList) => (\n                                <TableRow key={fileList.id}>\n                                    <TableCell align=\"center\">\n                                        {fileList.name}\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                        <IconButton size=\"small\" onClick={() => handleEditFileList(fileList)}>\n                                            <EditIcon />\n                                        </IconButton>\n\n                                        <IconButton\n                                            size=\"small\"\n                                            onClick={(e) => {\n                                                setConfirmModalOpen(true);\n                                                setDeletingFileList(fileList);\n                                            }}\n                                        >\n                                            <DeleteOutlineIcon />\n                                        </IconButton>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                            {loading && <TableRowSkeleton columns={4} />}\n                        </>\n                    </TableBody>\n                </Table>\n            </Paper>\n        </MainContainer>\n    );\n};\n\nexport default FileLists;\n","import React, { useEffect, useState } from \"react\";\nimport { Field } from \"formik\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst useStyles = makeStyles(theme => ({\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n    },\n}));\n\nconst QueueSelectSingle = () => {\n    const classes = useStyles();\n    const [queues, setQueues] = useState([]);\n\n    useEffect(() => {\n        (async () => {\n            try {\n                const { data } = await api.get(\"/queue\");\n                setQueues(data);\n            } catch (err) {\n                toastError(`QUEUESELETSINGLE >>> ${err}`);\n            }\n        })();\n    }, []);\n\n    return (\n        <div style={{ marginTop: 6 }}>\n            <FormControl\n                variant=\"outlined\"\n                className={classes.FormControl}\n                margin=\"dense\"\n                fullWidth\n            >\n                <div>\n                    <Typography>\n                        {i18n.t(\"queueSelect.inputLabel\")}\n                    </Typography>\n                    <Field\n                        as={Select}\n                        label={i18n.t(\"queueSelect.inputLabel\")}\n                        name=\"queueId\"\n                        labelId=\"queue-selection-label\"\n                        id=\"queue-selection\"\n                        fullWidth\n                    >\n                        {queues.map(queue => (\n                            <MenuItem key={queue.id} value={queue.id}>\n                                {queue.name}\n                            </MenuItem>\n                        ))}\n                    </Field>\n                </div>\n            </FormControl>\n        </div>\n    );\n};\n\nexport default QueueSelectSingle;\n","import React, { useState, useEffect } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { i18n } from \"../../translate/i18n\";\nimport { MenuItem, FormControl, InputLabel, Select } from \"@material-ui/core\";\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport { InputAdornment, IconButton } from \"@material-ui/core\";\nimport QueueSelectSingle from \"../../components/QueueSelectSingle\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n    },\n    multFieldLine: {\n        display: \"flex\",\n        \"& > *:not(:last-child)\": {\n            marginRight: theme.spacing(1),\n        },\n    },\n\n    btnWrapper: {\n        position: \"relative\",\n    },\n\n    buttonProgress: {\n        color: green[500],\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n    },\n    colorAdorment: {\n        width: 20,\n        height: 20,\n    },\n}));\n\nconst PromptSchema = Yup.object().shape({\n    name: Yup.string().min(5, \"Muito curto!\").max(100, \"Muito longo!\").required(\"Obrigatório\"),\n    prompt: Yup.string().min(50, \"Muito curto!\").required(\"Descreva o treinamento para Inteligência Artificial\"),\n    voice: Yup.string().required(\"Informe o modo para Voz\"),\n    max_tokens: Yup.number().required(\"Informe o número máximo de tokens\"),\n    temperature: Yup.number().required(\"Informe a temperatura\"),\n    apikey: Yup.string().required(\"Informe a API Key\"),\n    queueId: Yup.number().required(\"Informe a fila\"),\n    max_messages: Yup.number().required(\"Informe o número máximo de mensagens\")\n});\n\nconst PromptModal = ({ open, onClose, promptId }) => {\n    const classes = useStyles();\n    const [selectedVoice, setSelectedVoice] = useState(\"texto\");\n    const [showApiKey, setShowApiKey] = useState(false);\n\n    const handleToggleApiKey = () => {\n        setShowApiKey(!showApiKey);\n    };\n\n    const initialState = {\n        name: \"\",\n        prompt: \"\",\n        voice: \"texto\",\n        voiceKey: \"\",\n        voiceRegion: \"\",\n        maxTokens: 100,\n        temperature: 1,\n        apiKey: \"\",\n        queueId: null,\n        maxMessages: 10\n    };\n\n    const [prompt, setPrompt] = useState(initialState);\n\n    useEffect(() => {\n        const fetchPrompt = async () => {\n            if (!promptId) {\n                setPrompt(initialState);\n                return;\n            }\n            try {\n                const { data } = await api.get(`/prompt/${promptId}`);\n                setPrompt(prevState => {\n                    return { ...prevState, ...data };\n                });\n                setSelectedVoice(data.voice);\n            } catch (err) {\n                toastError(err);\n            }\n        };\n\n        fetchPrompt();\n    }, [promptId, open]);\n\n    const handleClose = () => {\n        setPrompt(initialState);\n        setSelectedVoice(\"texto\");\n        onClose();\n    };\n\n    const handleChangeVoice = (e) => {\n        setSelectedVoice(e.target.value);\n    };\n\n    const handleSavePrompt = async values => {\n        const promptData = { ...values, voice: selectedVoice };\n        if (!values.queueId) {\n            toastError(\"Informe o setor\");\n            return;\n        }\n        try {\n            if (promptId) {\n                await api.put(`/prompt/${promptId}`, promptData);\n            } else {\n                await api.post(\"/prompt\", promptData);\n            }\n            toast.success(i18n.t(\"promptModal.success\"));\n        } catch (err) {\n            toastError(err);\n        }\n        handleClose();\n    };\n\n    return (\n        <div className={classes.root}>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                maxWidth=\"md\"\n                scroll=\"paper\"\n                fullWidth\n            >\n                <DialogTitle id=\"form-dialog-title\">\n                    {promptId\n                        ? `${i18n.t(\"promptModal.title.edit\")}`\n                        : `${i18n.t(\"promptModal.title.add\")}`}\n                </DialogTitle>\n                <Formik\n                    initialValues={prompt}\n                    enableReinitialize={true}\n                    onSubmit={(values, actions) => {\n                        setTimeout(() => {\n                            handleSavePrompt(values);\n                            actions.setSubmitting(false);\n                        }, 400);\n                    }}\n                >\n                    {({ touched, errors, isSubmitting, values }) => (\n                        <Form style={{ width: \"100%\" }}>\n                            <DialogContent dividers>\n                                <Field\n                                    as={TextField}\n                                    label={i18n.t(\"promptModal.form.name\")}\n                                    name=\"name\"\n                                    error={touched.name && Boolean(errors.name)}\n                                    helperText={touched.name && errors.name}\n                                    variant=\"outlined\"\n                                    margin=\"dense\"\n                                    fullWidth\n                                />\n                                <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.apikey\")}\n                                        name=\"apiKey\"\n                                        type={showApiKey ? 'text' : 'password'}\n                                        error={touched.apiKey && Boolean(errors.apiKey)}\n                                        helperText={touched.apiKey && errors.apiKey}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                        InputProps={{\n                                            endAdornment: (\n                                                <InputAdornment position=\"end\">\n                                                    <IconButton onClick={handleToggleApiKey}>\n                                                        {showApiKey ? <VisibilityOff /> : <Visibility />}\n                                                    </IconButton>\n                                                </InputAdornment>\n                                            ),\n                                        }}\n                                    />\n                                </FormControl>\n                                <Field\n                                    as={TextField}\n                                    label={i18n.t(\"promptModal.form.prompt\")}\n                                    name=\"prompt\"\n                                    error={touched.prompt && Boolean(errors.prompt)}\n                                    helperText={touched.prompt && errors.prompt}\n                                    variant=\"outlined\"\n                                    margin=\"dense\"\n                                    fullWidth\n                                    rows={10}\n                                    multiline={true}\n                                />\n                                <QueueSelectSingle />\n                                <div className={classes.multFieldLine}>\n                                    <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n                                    <InputLabel>{i18n.t(\"promptModal.form.voice\")}</InputLabel>\n                                        <Select\n                                            id=\"type-select\"\n                                            labelWidth={60}\n                                            name=\"voice\"\n                                            value={selectedVoice}\n                                            onChange={handleChangeVoice}\n                                            multiple={false}\n                                        >\n                                            <MenuItem key={\"texto\"} value={\"texto\"}>\n                                                Texto\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-FranciscaNeural\"} value={\"pt-BR-FranciscaNeural\"}>\n                                                Francisa\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-AntonioNeural\"} value={\"pt-BR-AntonioNeural\"}>\n                                                Antônio\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-BrendaNeural\"} value={\"pt-BR-BrendaNeural\"}>\n                                                Brenda\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-DonatoNeural\"} value={\"pt-BR-DonatoNeural\"}>\n                                                Donato\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-ElzaNeural\"} value={\"pt-BR-ElzaNeural\"}>\n                                                Elza\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-FabioNeural\"} value={\"pt-BR-FabioNeural\"}>\n                                                Fábio\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-GiovannaNeural\"} value={\"pt-BR-GiovannaNeural\"}>\n                                                Giovanna\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-HumbertoNeural\"} value={\"pt-BR-HumbertoNeural\"}>\n                                                Humberto\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-JulioNeural\"} value={\"pt-BR-JulioNeural\"}>\n                                                Julio\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-LeilaNeural\"} value={\"pt-BR-LeilaNeural\"}>\n                                                Leila\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-LeticiaNeural\"} value={\"pt-BR-LeticiaNeural\"}>\n                                                Letícia\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-ManuelaNeural\"} value={\"pt-BR-ManuelaNeural\"}>\n                                                Manuela\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-NicolauNeural\"} value={\"pt-BR-NicolauNeural\"}>\n                                                Nicolau\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-ValerioNeural\"} value={\"pt-BR-ValerioNeural\"}>\n                                                Valério\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-YaraNeural\"} value={\"pt-BR-YaraNeural\"}>\n                                                Yara\n                                            </MenuItem>\n                                        </Select>\n                                    </FormControl>\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.voiceKey\")}\n                                        name=\"voiceKey\"\n                                        error={touched.voiceKey && Boolean(errors.voiceKey)}\n                                        helperText={touched.voiceKey && errors.voiceKey}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.voiceRegion\")}\n                                        name=\"voiceRegion\"\n                                        error={touched.voiceRegion && Boolean(errors.voiceRegion)}\n                                        helperText={touched.voiceRegion && errors.voiceRegion}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                </div>\n                                \n                                <div className={classes.multFieldLine}>\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.temperature\")}\n                                        name=\"temperature\"\n                                        error={touched.temperature && Boolean(errors.temperature)}\n                                        helperText={touched.temperature && errors.temperature}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.max_tokens\")}\n                                        name=\"maxTokens\"\n                                        error={touched.maxTokens && Boolean(errors.maxTokens)}\n                                        helperText={touched.maxTokens && errors.maxTokens}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.max_messages\")}\n                                        name=\"maxMessages\"\n                                        error={touched.maxMessages && Boolean(errors.maxMessages)}\n                                        helperText={touched.maxMessages && errors.maxMessages}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                </div>\n                            </DialogContent>\n                            <DialogActions>\n                                <Button\n                                    onClick={handleClose}\n                                    color=\"secondary\"\n                                    disabled={isSubmitting}\n                                    variant=\"outlined\"\n                                >\n                                    {i18n.t(\"promptModal.buttons.cancel\")}\n                                </Button>\n                                <Button\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={isSubmitting}\n                                    variant=\"contained\"\n                                    className={classes.btnWrapper}\n                                >\n                                    {promptId\n                                        ? `${i18n.t(\"promptModal.buttons.okEdit\")}`\n                                        : `${i18n.t(\"promptModal.buttons.okAdd\")}`}\n                                    {isSubmitting && (\n                                        <CircularProgress\n                                            size={24}\n                                            className={classes.buttonProgress}\n                                        />\n                                    )}\n                                </Button>\n                            </DialogActions>\n                        </Form>\n                    )}\n                </Formik>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default PromptModal;","import React, { useEffect, useReducer, useState } from \"react\";\n\nimport openSocket from \"socket.io-client\";\n\nimport {\n  Button,\n  IconButton,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow\n} from \"@material-ui/core\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\nimport PromptModal from \"../../components/PromptModal\";\nimport { toast } from \"react-toastify\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_PROMPTS\") {\n    const prompts = action.payload;\n    const newPrompts = [];\n\n    prompts.forEach((prompt) => {\n      const promptIndex = state.findIndex((p) => p.id === prompt.id);\n      if (promptIndex !== -1) {\n        state[promptIndex] = prompt;\n      } else {\n        newPrompts.push(prompt);\n      }\n    });\n\n    return [...state, ...newPrompts];\n  }\n\n  if (action.type === \"UPDATE_PROMPTS\") {\n    const prompt = action.payload;\n    const promptIndex = state.findIndex((p) => p.id === prompt.id);\n\n    if (promptIndex !== -1) {\n      state[promptIndex] = prompt;\n      return [...state];\n    } else {\n      return [prompt, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_PROMPT\") {\n    const promptId = action.payload;\n    const promptIndex = state.findIndex((p) => p.id === promptId);\n    if (promptIndex !== -1) {\n      state.splice(promptIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst Prompts = () => {\n  const classes = useStyles();\n\n  const [prompts, dispatch] = useReducer(reducer, []);\n  const [loading, setLoading] = useState(false);\n\n  const [promptModalOpen, setPromptModalOpen] = useState(false);\n  const [selectedPrompt, setSelectedPrompt] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      try {\n        const { data } = await api.get(\"/prompt\");\n        dispatch({ type: \"LOAD_PROMPTS\", payload: data.prompts });\n\n        setLoading(false);\n      } catch (err) {\n        toastError(err);\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    const socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n    socket.on(\"prompt\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_PROMPTS\", payload: data.prompt });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_PROMPT\", payload: data.promptId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenPromptModal = () => {\n    setPromptModalOpen(true);\n    setSelectedPrompt(null);\n  };\n\n  const handleClosePromptModal = () => {\n    setPromptModalOpen(false);\n    setSelectedPrompt(null);\n  };\n\n  const handleEditPrompt = (prompt) => {\n    setSelectedPrompt(prompt);\n    setPromptModalOpen(true);\n  };\n\n  const handleCloseConfirmationModal = () => {\n    setConfirmModalOpen(false);\n    setSelectedPrompt(null);\n  };\n\n  const handleDeletePrompt = async (promptId) => {\n    try {\n      const { data } = await api.delete(`/prompt/${promptId}`);\n      toast.info(i18n.t(data.message));\n    } catch (err) {\n      toastError(err);\n    }\n    setSelectedPrompt(null);\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          selectedPrompt &&\n          `${i18n.t(\"prompts.confirmationModal.deleteTitle\")} ${selectedPrompt.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={handleCloseConfirmationModal}\n        onConfirm={() => handleDeletePrompt(selectedPrompt.id)}\n      >\n        {i18n.t(\"prompts.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <PromptModal\n        open={promptModalOpen}\n        onClose={handleClosePromptModal}\n        promptId={selectedPrompt?.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"prompts.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenPromptModal}\n          >\n            {i18n.t(\"prompts.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"left\">\n                {i18n.t(\"prompts.table.name\")}\n              </TableCell>\n              <TableCell align=\"left\">\n                {i18n.t(\"prompts.table.queue\")}\n              </TableCell>\n              <TableCell align=\"left\">\n                {i18n.t(\"prompts.table.max_tokens\")}\n              </TableCell> \n              <TableCell align=\"center\">\n                {i18n.t(\"prompts.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {prompts.map((prompt) => (\n                <TableRow key={prompt.id}>\n                  <TableCell align=\"left\">{prompt.name}</TableCell>\n                  <TableCell align=\"left\">{prompt.queue.name}</TableCell>\n                  <TableCell align=\"left\">{prompt.maxTokens}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditPrompt(prompt)}\n                    >\n                      <Edit />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => {\n                        setSelectedPrompt(prompt);\n                        setConfirmModalOpen(true);\n                      }}\n                    >\n                      <DeleteOutline />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Prompts;\n","import React, { useState, useEffect } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  CircularProgress,\n  Select,\n  InputLabel,\n  MenuItem,\n  FormControl,\n  TextField,\n  Grid,\n  Paper,\n} from \"@material-ui/core\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    gap: 4\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  btnLeft: {\n    display: \"flex\",\n    marginRight: \"auto\",\n    marginLeft: 12,\n  },\n  colorAdorment: {\n    width: 20,\n    height: 20,\n  },\n}));\n\nconst DialogflowSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  // projectName: Yup.string()\n  //   .min(3, \"Too Short!\")\n  //   .max(100, \"Too Long!\")\n  //   .required(),\n  // jsonContent: Yup.string().min(3, \"Too Short!\").required(),\n  // language: Yup.string().min(2, \"Too Short!\").max(50, \"Too Long!\").required(),\n});\n\n\n\nconst QueueIntegration = ({ open, onClose, integrationId }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    type: \"typebot\",\n    name: \"\",\n    projectName: \"\",\n    jsonContent: \"\",\n    language: \"\",\n    urlN8N: \"\",\n    typebotDelayMessage: 1000,\n    typebotExpires: 1,\n    typebotKeywordFinish: \"\",\n    typebotKeywordRestart: \"\",\n    typebotRestartMessage: \"\",\n    typebotSlug: \"\",\n    typebotUnknownMessage: \"\",\n\n  };\n\n  const [integration, setIntegration] = useState(initialState);\n\n  useEffect(() => {\n    (async () => {\n      if (!integrationId) return;\n      try {\n        const { data } = await api.get(`/queueIntegration/${integrationId}`);\n        setIntegration((prevState) => {\n          return { ...prevState, ...data };\n        });\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n\n    return () => {\n      setIntegration({\n        type: \"dialogflow\",\n        name: \"\",\n        projectName: \"\",\n        jsonContent: \"\",\n        language: \"\",\n        urlN8N: \"\",\n        typebotDelayMessage: 1000\n      });\n    };\n\n  }, [integrationId, open]);\n\n  const handleClose = () => {\n    onClose();\n    setIntegration(initialState);\n  };\n\n  const handleTestSession = async (event, values) => {\n    try {\n      const { projectName, jsonContent, language } = values;\n\n      await api.post(`/queueIntegration/testSession`, {\n        projectName,\n        jsonContent,\n        language,\n      });\n\n      toast.success(i18n.t(\"queueIntegrationModal.messages.testSuccess\"));\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleSaveDialogflow = async (values) => {\n    try {\n      if (values.type === 'n8n' || values.type === 'webhook' || values.type === 'typebot') values.projectName = values.name\n      if (integrationId) {\n        await api.put(`/queueIntegration/${integrationId}`, values);\n        toast.success(i18n.t(\"queueIntegrationModal.messages.editSuccess\"));\n      } else {\n        await api.post(\"/queueIntegration\", values);\n        toast.success(i18n.t(\"queueIntegrationModal.messages.addSuccess\"));\n      }\n      handleClose();\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"md\" scroll=\"paper\">\n        <DialogTitle>\n          {integrationId\n            ? `${i18n.t(\"queueIntegrationModal.title.edit\")}`\n            : `${i18n.t(\"queueIntegrationModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={integration}\n          enableReinitialize={true}\n          validationSchema={DialogflowSchema}\n          onSubmit={(values, actions, event) => {\n            setTimeout(() => {\n              handleSaveDialogflow(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting, values }) => (\n            <Form>\n              <Paper square className={classes.mainPaper} elevation={1}>\n                <DialogContent dividers>\n                  <Grid container spacing={1}>\n                    <Grid item xs={12} md={6} xl={6}>\n                      <FormControl\n                        variant=\"outlined\"\n                        className={classes.formControl}\n                        margin=\"dense\"\n                        fullWidth\n                      >\n                        <InputLabel id=\"type-selection-input-label\">\n                          {i18n.t(\"queueIntegrationModal.form.type\")}\n                        </InputLabel>\n\n                        <Field\n                          as={Select}\n                          label={i18n.t(\"queueIntegrationModal.form.type\")}\n                          name=\"type\"\n                          labelId=\"profile-selection-label\"\n                          error={touched.type && Boolean(errors.type)}\n                          helpertext={touched.type && errors.type}\n                          id=\"type\"\n                          required\n                        >\n                          <MenuItem value=\"dialogflow\">DialogFlow</MenuItem>\n                          <MenuItem value=\"n8n\">N8N</MenuItem>\n                          <MenuItem value=\"webhook\">WebHooks</MenuItem>\n                          <MenuItem value=\"typebot\">Typebot</MenuItem>\n                        </Field>\n                      </FormControl>\n                    </Grid>\n                    {values.type === \"dialogflow\" && (\n                      <>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.name\")}\n                            autoFocus\n                            name=\"name\"\n                            fullWidth\n                            error={touched.name && Boolean(errors.name)}\n                            helpertext={touched.name && errors.name}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <FormControl\n                            variant=\"outlined\"\n                            className={classes.formControl}\n                            margin=\"dense\"\n                            fullWidth\n                          >\n                            <InputLabel id=\"language-selection-input-label\">\n                              {i18n.t(\"queueIntegrationModal.form.language\")}\n                            </InputLabel>\n\n                            <Field\n                              as={Select}\n                              label={i18n.t(\"queueIntegrationModal.form.language\")}\n                              name=\"language\"\n                              labelId=\"profile-selection-label\"\n                              fullWidth\n                              error={touched.language && Boolean(errors.language)}\n                              helpertext={touched.language && errors.language}\n                              id=\"language-selection\"\n                              required\n                            >\n                              <MenuItem value=\"pt-BR\">Portugues</MenuItem>\n                              <MenuItem value=\"en\">Inglês</MenuItem>\n                              <MenuItem value=\"es\">Español</MenuItem>\n                            </Field>\n                          </FormControl>\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.projectName\")}\n                            name=\"projectName\"\n                            error={touched.projectName && Boolean(errors.projectName)}\n                            helpertext={touched.projectName && errors.projectName}\n                            fullWidth\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={12} xl={12} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.jsonContent\")}\n                            type=\"jsonContent\"\n                            multiline\n                            //inputRef={greetingRef}\n                            maxRows={5}\n                            minRows={5}\n                            fullWidth\n                            name=\"jsonContent\"\n                            error={touched.jsonContent && Boolean(errors.jsonContent)}\n                            helpertext={touched.jsonContent && errors.jsonContent}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                          />\n                        </Grid>\n                      </>\n                    )}\n\n                    {(values.type === \"n8n\" || values.type === \"webhook\") && (\n                      <>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.name\")}\n                            autoFocus\n                            required\n                            name=\"name\"\n                            error={touched.name && Boolean(errors.name)}\n                            helpertext={touched.name && errors.name}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={12} xl={12} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.urlN8N\")}\n                            name=\"urlN8N\"\n                            error={touched.urlN8N && Boolean(errors.urlN8N)}\n                            helpertext={touched.urlN8N && errors.urlN8N}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            required\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                      </>\n                    )}\n                    {(values.type === \"typebot\") && (\n                      <>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.name\")}\n                            autoFocus\n                            name=\"name\"\n                            error={touched.name && Boolean(errors.name)}\n                            helpertext={touched.name && errors.name}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            required\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={12} xl={12} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.urlN8N\")}\n                            name=\"urlN8N\"\n                            error={touched.urlN8N && Boolean(errors.urlN8N)}\n                            helpertext={touched.urlN8N && errors.urlN8N}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            required\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotSlug\")}\n                            name=\"typebotSlug\"\n                            error={touched.typebotSlug && Boolean(errors.typebotSlug)}\n                            helpertext={touched.typebotSlug && errors.typebotSlug}\n                            required\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotExpires\")}\n                            name=\"typebotExpires\"\n                            error={touched.typebotExpires && Boolean(errors.typebotExpires)}\n                            helpertext={touched.typebotExpires && errors.typebotExpires}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotDelayMessage\")}\n                            name=\"typebotDelayMessage\"\n                            error={touched.typebotDelayMessage && Boolean(errors.typebotDelayMessage)}\n                            helpertext={touched.typebotDelayMessage && errors.typebotDelayMessage}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotKeywordFinish\")}\n                            name=\"typebotKeywordFinish\"\n                            error={touched.typebotKeywordFinish && Boolean(errors.typebotKeywordFinish)}\n                            helpertext={touched.typebotKeywordFinish && errors.typebotKeywordFinish}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotKeywordRestart\")}\n                            name=\"typebotKeywordRestart\"\n                            error={touched.typebotKeywordRestart && Boolean(errors.typebotKeywordRestart)}\n                            helpertext={touched.typebotKeywordRestart && errors.typebotKeywordRestart}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotUnknownMessage\")}\n                            name=\"typebotUnknownMessage\"\n                            error={touched.typebotUnknownMessage && Boolean(errors.typebotUnknownMessage)}\n                            helpertext={touched.typebotUnknownMessage && errors.typebotUnknownMessage}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={12} xl={12} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotRestartMessage\")}\n                            name=\"typebotRestartMessage\"\n                            error={touched.typebotRestartMessage && Boolean(errors.typebotRestartMessage)}\n                            helpertext={touched.typebotRestartMessage && errors.typebotRestartMessage}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        \n                      </>\n                    )}\n                  </Grid>\n                </DialogContent>\n              </Paper>\n\n              <DialogActions>\n                {values.type === \"dialogflow\" && (\n                  <Button\n                    //type=\"submit\"\n                    onClick={(e) => handleTestSession(e, values)}\n                    color=\"inherit\"\n                    disabled={isSubmitting}\n                    name=\"testSession\"\n                    variant=\"outlined\"\n                    className={classes.btnLeft}\n                  >\n                    {i18n.t(\"queueIntegrationModal.buttons.test\")}\n                  </Button>\n                )}\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"queueIntegrationModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {integrationId\n                    ? `${i18n.t(\"queueIntegrationModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"queueIntegrationModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div >\n  );\n};\n\nexport default QueueIntegration;","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { socketConnection } from \"../../services/socket\";\nimport n8n from \"../../assets/n8n.png\";\nimport dialogflow from \"../../assets/dialogflow.png\";\nimport webhooks from \"../../assets/webhook.png\";\nimport typebot from \"../../assets/typebot.jpg\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport {\n  Avatar,\n  Button,\n  IconButton,\n  InputAdornment,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  TextField,\n  Tooltip\n} from \"@material-ui/core\";\n\nimport {\n  DeleteOutline,\n  Edit\n} from \"@material-ui/icons\";\n\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport IntegrationModal from \"../../components/QueueIntegrationModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_INTEGRATIONS\") {\n    const queueIntegration = action.payload;\n    const newIntegrations = [];\n\n    queueIntegration.forEach((integration) => {\n      const integrationIndex = state.findIndex((u) => u.id === integration.id);\n      if (integrationIndex !== -1) {\n        state[integrationIndex] = integration;\n      } else {\n        newIntegrations.push(integration);\n      }\n    });\n\n    return [...state, ...newIntegrations];\n  }\n\n  if (action.type === \"UPDATE_INTEGRATIONS\") {\n    const queueIntegration = action.payload;\n    const integrationIndex = state.findIndex((u) => u.id === queueIntegration.id);\n\n    if (integrationIndex !== -1) {\n      state[integrationIndex] = queueIntegration;\n      return [...state];\n    } else {\n      return [queueIntegration, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_INTEGRATION\") {\n    const integrationId = action.payload;\n\n    const integrationIndex = state.findIndex((u) => u.id === integrationId);\n    if (integrationIndex !== -1) {\n      state.splice(integrationIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(2),\n    margin: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  avatar: {\n    width: \"140px\",\n    height: \"40px\",\n    borderRadius: 4\n  },\n}));\n\nconst QueueIntegration = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedIntegration, setSelectedIntegration] = useState(null);\n  const [deletingUser, setDeletingUser] = useState(null);\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [queueIntegration, dispatch] = useReducer(reducer, []);\n  const { user } = useContext(AuthContext);\n  const { getPlanCompany } = usePlans();\n  const companyId = user.companyId;\n  const history = useHistory();\n\n  useEffect(() => {\n    async function fetchData() {\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useIntegrations) {\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchIntegrations = async () => {\n        try {\n          const { data } = await api.get(\"/queueIntegration/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_INTEGRATIONS\", payload: data.queueIntegrations });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchIntegrations();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-queueIntegration`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_INTEGRATIONS\", payload: data.queueIntegration });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_INTEGRATION\", payload: +data.integrationId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenUserModal = () => {\n    setSelectedIntegration(null);\n    setUserModalOpen(true);\n  };\n\n  const handleCloseIntegrationModal = () => {\n    setSelectedIntegration(null);\n    setUserModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditIntegration = (queueIntegration) => {\n    setSelectedIntegration(queueIntegration);\n    setUserModalOpen(true);\n  };\n\n  const handleDeleteIntegration = async (integrationId) => {\n    try {\n      await api.delete(`/queueIntegration/${integrationId}`);\n      toast.success(i18n.t(\"queueIntegration.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingUser(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingUser &&\n          `${i18n.t(\"queueIntegration.confirmationModal.deleteTitle\")} ${deletingUser.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteIntegration(deletingUser.id)}\n      >\n        {i18n.t(\"queueIntegration.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <IntegrationModal\n        open={userModalOpen}\n        onClose={handleCloseIntegrationModal}\n        aria-labelledby=\"form-dialog-title\"\n        integrationId={selectedIntegration && selectedIntegration.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"queueIntegration.title\")} ({queueIntegration.length})</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"queueIntegration.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon color=\"secondary\" />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenUserModal}\n          >\n            {i18n.t(\"queueIntegration.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell padding=\"checkbox\"></TableCell>\n              <TableCell align=\"center\">{i18n.t(\"queueIntegration.table.id\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"queueIntegration.table.name\")}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {queueIntegration.map((integration) => (\n                <TableRow key={integration.id}>\n                  <TableCell >\n                    {integration.type === \"dialogflow\" && (<Avatar \n                      src={dialogflow} className={classes.avatar} />)}\n                    {integration.type === \"n8n\" && (<Avatar\n                      src={n8n} className={classes.avatar} />)}\n                    {integration.type === \"webhook\" && (<Avatar\n                      src={webhooks} className={classes.avatar} />)}\n                    {integration.type === \"typebot\" && (<Avatar\n                      src={typebot} className={classes.avatar} />)}\n                  </TableCell>\n\n                  <TableCell align=\"center\">{integration.id}</TableCell>\n                  <TableCell align=\"center\">{integration.name}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditIntegration(integration)}\n                    >\n                      <Edit color=\"secondary\" />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingUser(integration);\n                      }}\n                    >\n                      <DeleteOutline color=\"secondary\" />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={7} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default QueueIntegration;","import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter, Switch } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\n\nimport LoggedInLayout from \"../layout\";\nimport Dashboard from \"../pages/Dashboard/\";\nimport TicketResponsiveContainer from \"../pages/TicketResponsiveContainer\";\nimport Signup from \"../pages/Signup/\";\nimport Login from \"../pages/Login/\";\nimport Connections from \"../pages/Connections/\";\nimport SettingsCustom from \"../pages/SettingsCustom/\";\nimport Financeiro from \"../pages/Financeiro/\";\nimport Users from \"../pages/Users\";\nimport Contacts from \"../pages/Contacts/\";\nimport Queues from \"../pages/Queues/\";\nimport Tags from \"../pages/Tags/\";\nimport MessagesAPI from \"../pages/MessagesAPI/\";\nimport Helps from \"../pages/Helps/\";\nimport ContactLists from \"../pages/ContactLists/\";\nimport ContactListItems from \"../pages/ContactListItems/\";\n// import Companies from \"../pages/Companies/\";\nimport QuickMessages from \"../pages/QuickMessages/\";\nimport Kanban from \"../pages/Kanban\";\nimport { AuthProvider } from \"../context/Auth/AuthContext\";\nimport { TicketsContextProvider } from \"../context/Tickets/TicketsContext\";\nimport { WhatsAppsProvider } from \"../context/WhatsApp/WhatsAppsContext\";\nimport Route from \"./Route\";\nimport Schedules from \"../pages/Schedules\";\nimport Campaigns from \"../pages/Campaigns\";\nimport CampaignsConfig from \"../pages/CampaignsConfig\";\nimport CampaignReport from \"../pages/CampaignReport\";\nimport Annoucements from \"../pages/Annoucements\";\nimport Chat from \"../pages/Chat\";\nimport ToDoList from \"../pages/ToDoList/\";\nimport Subscription from \"../pages/Subscription/\";\nimport Files from \"../pages/Files/\";\nimport Prompts from \"../pages/Prompts\";\nimport QueueIntegration from \"../pages/QueueIntegration\";\n\nconst Routes = () => {\n  const [showCampaigns, setShowCampaigns] = useState(false);\n\n  useEffect(() => {\n    const cshow = localStorage.getItem(\"cshow\");\n    if (cshow !== undefined) {\n      setShowCampaigns(true);\n    }\n  }, []);\n\n  return (\n    <BrowserRouter>\n      <AuthProvider>\n        <TicketsContextProvider>\n          <Switch>\n            <Route exact path=\"/login\" component={Login} />\n            <Route exact path=\"/signup\" component={Signup} />\n            {/* <Route exact path=\"/create-company\" component={Companies} /> */}\n            <WhatsAppsProvider>\n              <LoggedInLayout>\n                <Route exact path=\"/\" component={Dashboard} isPrivate />\n                <Route\n                  exact\n                  path=\"/tickets/:ticketId?\"\n                  component={TicketResponsiveContainer}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/connections\"\n                  component={Connections}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/quick-messages\"\n                  component={QuickMessages}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/todolist\"\n                  component={ToDoList}\n                  isPrivate\n                  />\n                <Route\n                  exact\n                  path=\"/schedules\"\n                  component={Schedules}\n                  isPrivate\n                />\n                <Route exact path=\"/tags\" component={Tags} isPrivate />\n                <Route exact path=\"/contacts\" component={Contacts} isPrivate />\n                <Route exact path=\"/helps\" component={Helps} isPrivate />\n                <Route exact path=\"/users\" component={Users} isPrivate />\n                <Route exact path=\"/files\" component={Files} isPrivate />\n                <Route exact path=\"/prompts\" component={Prompts} isPrivate />\n                <Route exact path=\"/queue-integration\" component={QueueIntegration} isPrivate />\n\n                <Route\n                  exact\n                  path=\"/messages-api\"\n                  component={MessagesAPI}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/settings\"\n                  component={SettingsCustom}\n                  isPrivate\n                />\n\t\t\t\t        <Route \n                  exact\n                  path=\"/kanban\"\n                  component={Kanban}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/financeiro\"\n                  component={Financeiro}\n                  isPrivate\n                />\n                <Route exact path=\"/queues\" component={Queues} isPrivate />\n                <Route\n                  exact\n                  path=\"/announcements\"\n                  component={Annoucements}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/subscription\"\n                  component={Subscription}\n                  isPrivate\n                />\n                <Route exact path=\"/chats/:id?\" component={Chat} isPrivate />\n                {showCampaigns && (\n                  <>\n                    <Route\n                      exact\n                      path=\"/contact-lists\"\n                      component={ContactLists}\n                      isPrivate\n                    />\n                    <Route\n                      exact\n                      path=\"/contact-lists/:contactListId/contacts\"\n                      component={ContactListItems}\n                      isPrivate\n                    />\n                    <Route\n                      exact\n                      path=\"/campaigns\"\n                      component={Campaigns}\n                      isPrivate\n                    />\n                    <Route\n                      exact\n                      path=\"/campaign/:campaignId/report\"\n                      component={CampaignReport}\n                      isPrivate\n                    />\n                    <Route\n                      exact\n                      path=\"/campaigns-config\"\n                      component={CampaignsConfig}\n                      isPrivate\n                    />\n                  </>\n                )}\n              </LoggedInLayout>\n            </WhatsAppsProvider>\n          </Switch>\n          <ToastContainer autoClose={3000} />\n        </TicketsContextProvider>\n      </AuthProvider>\n    </BrowserRouter>\n  );\n};\n\nexport default Routes;\n","import React, { useState, useEffect } from \"react\";\n\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { QueryClient, QueryClientProvider } from \"react-query\";\n\nimport { ptBR } from \"@material-ui/core/locale\";\nimport { createTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport { useMediaQuery } from \"@material-ui/core\";\nimport ColorModeContext from \"./layout/themeContext\";\n\nimport Routes from \"./routes\";\n\nconst queryClient = new QueryClient();\n\nconst App = () => {\n    const [locale, setLocale] = useState();\n\n    const prefersDarkMode = useMediaQuery(\"(prefers-color-scheme: dark)\");\n    const preferredTheme = window.localStorage.getItem(\"preferredTheme\");\n    const [mode, setMode] = useState(preferredTheme ? preferredTheme : prefersDarkMode ? \"dark\" : \"light\");\n\n    const colorMode = React.useMemo(\n        () => ({\n            toggleColorMode: () => {\n                setMode((prevMode) => (prevMode === \"light\" ? \"dark\" : \"light\"));\n            },\n        }),\n        []\n    );\n\n    const theme = createTheme(\n        {\n            scrollbarStyles: {\n                \"&::-webkit-scrollbar\": {\n                    width: '8px',\n                    height: '8px',\n                },\n                \"&::-webkit-scrollbar-thumb\": {\n                    boxShadow: 'inset 0 0 6px rgba(0, 0, 0, 0.3)',\n                    backgroundColor: \"#e8e8e8\",\n                },\n            },\n            scrollbarStylesSoft: {\n                \"&::-webkit-scrollbar\": {\n                    width: \"8px\",\n                },\n                \"&::-webkit-scrollbar-thumb\": {\n                    backgroundColor: mode === \"light\" ? \"#F3F3F3\" : \"#333333\",\n                },\n            },\n            palette: {\n                type: mode,\n                primary: { main: \"#2576d2\" },\n                textPrimary: mode === \"light\" ? \"#2576d2\" : \"#FFFFFF\",\n                borderPrimary: mode === \"light\" ? \"#2576d2\" : \"#FFFFFF\",\n                dark: { main: mode === \"light\" ? \"#333333\" : \"#F3F3F3\" },\n                light: { main: mode === \"light\" ? \"#F3F3F3\" : \"#333333\" },\n                tabHeaderBackground: mode === \"light\" ? \"#EEE\" : \"#333\",\n                optionsBackground: mode === \"light\" ? \"#fafafa\" : \"#333\",\n\t\t\t\toptions: mode === \"light\" ? \"#fafafa\" : \"#666\",\n\t\t\t\tfontecor: mode === \"light\" ? \"#2576d2\" : \"#fff\",\n                fancyBackground: mode === \"light\" ? \"#fafafa\" : \"#333\",\n\t\t\t\tbordabox: mode === \"light\" ? \"#eee\" : \"#333\",\n\t\t\t\tnewmessagebox: mode === \"light\" ? \"#eee\" : \"#333\",\n\t\t\t\tinputdigita: mode === \"light\" ? \"#fff\" : \"#333\",\n\t\t\t\tcontactdrawer: mode === \"light\" ? \"#fff\" : \"#333\",\n\t\t\t\tannouncements: mode === \"light\" ? \"#ededed\" : \"#333\",\n\t\t\t\tlogin: mode === \"light\" ? \"#fff\" : \"#1C1C1C\",\n\t\t\t\tannouncementspopover: mode === \"light\" ? \"#fff\" : \"#333\",\n\t\t\t\tchatlist: mode === \"light\" ? \"#eee\" : \"#333\",\n\t\t\t\tboxlist: mode === \"light\" ? \"#ededed\" : \"#333\",\n\t\t\t\tboxchatlist: mode === \"light\" ? \"#ededed\" : \"#333\",\n                total: mode === \"light\" ? \"#fff\" : \"#222\",\n                messageIcons: mode === \"light\" ? \"grey\" : \"#F3F3F3\",\n                inputBackground: mode === \"light\" ? \"#FFFFFF\" : \"#333\",\n                barraSuperior: mode === \"light\" ? \"linear-gradient(to right, #2576d2, #0000FF, #00008B)\" : \"#666\",\n\t\t\t\tboxticket: mode === \"light\" ? \"#EEE\" : \"#333\",\n\t\t\t\tcampaigntab: mode === \"light\" ? \"#ededed\" : \"#333\",\n            },\n            mode,\n        },\n        locale\n    );\n\n    useEffect(() => {\n        const i18nlocale = localStorage.getItem(\"i18nextLng\");\n        const browserLocale =\n            i18nlocale.substring(0, 2) + i18nlocale.substring(3, 5);\n\n        if (browserLocale === \"ptBR\") {\n            setLocale(ptBR);\n        }\n    }, []);\n\n    useEffect(() => {\n        window.localStorage.setItem(\"preferredTheme\", mode);\n    }, [mode]);\n\n\n\n    return (\n        <ColorModeContext.Provider value={{ colorMode }}>\n            <ThemeProvider theme={theme}>\n                <QueryClientProvider client={queryClient}>\n                    <Routes />\n                </QueryClientProvider>\n            </ThemeProvider>\n        </ColorModeContext.Provider>\n    );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n\t<CssBaseline>\n\t\t<App />\n\t</CssBaseline>,\n\tdocument.getElementById(\"root\")\n);\n\n// ReactDOM.render(\n// \t<React.StrictMode>\n// \t\t<CssBaseline>\n// \t\t\t<App />\n// \t\t</CssBaseline>,\n//   </React.StrictMode>\n\n// \tdocument.getElementById(\"root\")\n// );\n","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/planilha.549edeba.xlsx\";","module.exports = __webpack_public_path__ + \"static/media/wa-background.2675a051.png\";","module.exports = __webpack_public_path__ + \"static/media/wa-background-dark.8244f042.png\";","module.exports = __webpack_public_path__ + \"static/media/sound.9fd5812c.mp3\";","module.exports = __webpack_public_path__ + \"static/media/chat_notify.2529c259.mp3\";","module.exports = __webpack_public_path__ + \"static/media/n8n.5c788b8d.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/webhook.e5374d73.png\";","module.exports = \"data:image/jpeg;base64,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\""],"sourceRoot":""}